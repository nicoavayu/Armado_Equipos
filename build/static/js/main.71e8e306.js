/*! For license information please see main.71e8e306.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},47:e=>{var t={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e*e*e+t:o/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var o=n-t;return-o*Math.cos(e/r*(Math.PI/2))+o+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var o=n-t;return e==r?t+o:o*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var o=n-t;return 0===e?t:e===r?t+o:(e/=r/2)<1?o/2*Math.pow(2,10*(e-1))+t:o/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+t:o/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var o,i,a,s=n-t;return a=1.70158,0===e?t:1===(e/=r)?t+s:((i=0)||(i=.3*r),(o=s)<Math.abs(s)?(o=s,a=i/4):a=i/(2*Math.PI)*Math.asin(s/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)+t)},easeOutElastic:function(e,t,n,r){var o,i,a,s=n-t;return a=1.70158,0===e?t:1===(e/=r)?t+s:((i=0)||(i=.3*r),(o=s)<Math.abs(s)?(o=s,a=i/4):a=i/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/i)+s+t)},easeInOutElastic:function(e,t,n,r){var o,i,a,s=n-t;return a=1.70158,0===e?t:2===(e/=r/2)?t+s:((i=0)||(i=r*(.3*1.5)),(o=s)<Math.abs(s)?(o=s,a=i/4):a=i/(2*Math.PI)*Math.asin(s/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*.5+s+t)},easeInBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),(n-t)*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),(n-t)*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,n,r,o){var i=n-t;return void 0===o&&(o=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+t:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},easeInBounce:function(e,n,r,o){var i=r-n;return i-t.easeOutBounce(o-e,0,i,o)+n},easeOutBounce:function(e,t,n,r){var o=n-t;return(e/=r)<1/2.75?o*(7.5625*e*e)+t:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+t:o*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,n,r,o){var i=r-n;return e<o/2?.5*t.easeInBounce(2*e,0,i,o)+n:.5*t.easeOutBounce(2*e-o,0,i,o)+.5*i+n}};e.exports=t},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+P(l,0):i,x(a)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),A(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+P(s=e[c],c);l+=A(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,o,u=i+P(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",function(e){return t.call(n,e,o++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},N={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:N,ReactCurrentOwner:E};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(829)),i=r(n(736)),a=n(745);class s{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new o.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:o=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||o?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;s.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer="count=".concat(a)),new i.default({method:t,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=s},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(S);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var i=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,k=null,T=-1,C=5,P=-1;function A(){return!(t.unstable_now()-P<C)}function j(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?E():(_=!1,k=null)}}else _=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,D=I.port2;I.port1.onmessage=j,E=function(){D.postMessage(null)}}else E=function(){v(j,0)};function N(e){k=e,_||(_=!0,E())}function O(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,O(x,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},237:(e,t,n)=>{n(365)},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(630)),i=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=o.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let o=null,a=null,s=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(a="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(s=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:"Results contain ".concat(a.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,s=null,l=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(a=[],o=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(r=null===o||void 0===o?void 0:o.details)||void 0===r?void 0:r.includes("0 rows"))&&(o=null,l=200,c="OK"),o&&this.shouldThrowOnError)throw new i.default(o)}return{error:o,data:a,count:s,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},365:(e,t,n)=>{var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(286));class i extends o.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=o?"".concat(o,".order"):"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(a?"".concat(a,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},403:(e,t,n)=>{var r;n.d(t,{E_:()=>l,F3:()=>s,I9:()=>o,Ii:()=>a}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const i=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},a=()=>null!==t?t.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),s=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},l=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=a,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==a(),n.isPluginAvailable=e=>{const t=l.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(a()))||!!s(e)},n.registerPlugin=function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=l.get(e);if(u)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),u.proxy;const d=a(),h=s(e);let f;const p=i=>{let a;const s=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];const p=(async()=>(!f&&d in c?f=f="function"===typeof c[d]?await c[d]():c[d]:null!==t&&!f&&"web"in c&&(f=f="function"===typeof c.web?await c.web():c.web),f))().then(t=>{const s=((t,i)=>{var a,s;if(!h){if(t)return null===(s=t[i])||void 0===s?void 0:s.bind(t);throw new o('"'.concat(e,'" plugin is not implemented on ').concat(d),r.Unimplemented)}{const r=null===h||void 0===h?void 0:h.methods.find(e=>i===e.name);if(r)return"promise"===r.rtype?t=>n.nativePromise(e,i.toString(),t):(t,r)=>n.nativeCallback(e,i.toString(),t,r);if(t)return null===(a=t[i])||void 0===a?void 0:a.bind(t)}})(t,i);if(s){const e=s(...l);return a=null===e||void 0===e?void 0:e.remove,e}throw new o('"'.concat(e,".").concat(i,'()" is not implemented on ').concat(d),r.Unimplemented)});return"addListener"===i&&(p.remove=async()=>a()),p};return s.toString=()=>"".concat(i.toString(),"() { [capacitor code] }"),Object.defineProperty(s,"name",{value:i,writable:!1,configurable:!1}),s},m=p("addListener"),g=p("removeListener"),v=(e,t)=>{const n=m({eventName:e},t),r=async()=>{const r=await n;g({eventName:e,callbackId:r},t)},o=new Promise(e=>n.then(()=>e({remove:r})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},o},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?v:m;case"removeListener":return g;default:return p(t)}}});return i[e]=y,l.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(c),...h?[d]:[]])}),y},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},a=(e=>e.Capacitor=i(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),s=a.registerPlugin;class l{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new a.Exception(e,r.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new a.Exception(e,r.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=u(n).trim(),r=u(r).trim(),t[n]=r}),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),o=(e.path||"/").replace("path=",""),i=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(r,"; path=").concat(o,"; ").concat(i,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}s("CapacitorCookies",{web:()=>new d});const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,r,o)=>(n[r]=e[t[o]],n),{})}(e.headers),o=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(o.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class f extends l{async request(e){const t=h(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((e,n)=>{const[r,o]=n;let i,a;return Array.isArray(o)?(a="",o.forEach(e=>{i=t?encodeURIComponent(e):e,a+="".concat(r,"=").concat(i,"&")}),a.slice(0,-1)):(i=t?encodeURIComponent(o):o,a="".concat(r,"=").concat(i)),"".concat(e,"&").concat(a)},"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?"".concat(e.url,"?").concat(n):e.url,o=await fetch(r,t),i=o.headers.get("content-type")||"";let a,s,{responseType:l="text"}=o.ok?e:{};switch(i.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":s=await o.blob(),a=await(async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)}))(s);break;case"json":a=await o.json();break;default:a=await o.text()}const c={};return o.headers.forEach((e,t)=>{c[t]=e}),{data:a,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}s("CapacitorHttp",{web:()=>new f})},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>a,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>o});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const o=r.fetch,i=r.fetch.bind(r),a=r.Headers,s=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(m,e)||!h.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,B=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ee(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&ne(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ne(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var re=Array.isArray;function oe(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(re(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,he,fe=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return he(e,t)})}:he);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(me).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var be=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Te=null;function Ce(e){if(e=So(e)){if("function"!==typeof _e)throw Error(i(280));var t=e.stateNode;t&&(t=_o(t),_e(e.stateNode,e.type,t))}}function Pe(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Te;if(Te=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function je(e,t){return e(t)}function Ie(){}var De=!1;function Ne(e,t,n){if(De)return e(t,n);De=!0;try{return je(e,t,n)}finally{De=!1,(null!==ke||null!==Te)&&(Ie(),Ae())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_o(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(he){Re=!1}function Fe(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Be=null,Ue=!1,ze=null,Ve={onError:function(e){Me=!0,Be=e}};function qe(e,t,n,r,o,i,a,s,l){Me=!1,Be=null,Fe.apply(Ve,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(i(188))}function Ke(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Je=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Ze=o.unstable_now,et=o.unstable_getCurrentPriorityLevel,tt=o.unstable_ImmediatePriority,nt=o.unstable_UserBlockingPriority,rt=o.unstable_NormalPriority,ot=o.unstable_LowPriority,it=o.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ct(e)/ut|0)|0},ct=Math.log,ut=Math.LN2;var dt=64,ht=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ft(s):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-lt(t)),r|=e[n],t&=~o;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var xt=0;function St(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,_t,kt,Tt,Ct,Pt=!1,At=[],jt=null,It=null,Dt=null,Nt=new Map,Ot=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=So(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Bt(e){var t=xo(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=So(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function zt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Pt=!1,null!==jt&&Ut(jt)&&(jt=null),null!==It&&Ut(It)&&(It=null),null!==Dt&&Ut(Dt)&&(Dt=null),Nt.forEach(zt),Ot.forEach(zt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Wt(e){function t(t){return qt(t,e)}if(0<At.length){qt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&qt(jt,e),null!==It&&qt(It,e),null!==Dt&&qt(Dt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Rt.shift()}var Gt=x.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var o=xt,i=Gt.transition;Gt.transition=null;try{xt=1,Jt(e,t,n,r)}finally{xt=o,Gt.transition=i}}function Yt(e,t,n,r){var o=xt,i=Gt.transition;Gt.transition=null;try{xt=4,Jt(e,t,n,r)}finally{xt=o,Gt.transition=i}}function Jt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,$t,n),Ft(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return jt=Mt(jt,e,t,n,r,o),!0;case"dragenter":return It=Mt(It,e,t,n,r,o),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nt.set(i,Mt(Nt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,Mt(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=So(o);if(null!==i&&Et(i),null===(i=Xt(e,t,n,r))&&Hr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Xt(e,t,n,r){if($t=null,null!==(e=xo(e=Ee(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(et()){case tt:return 1;case nt:return 4;case rt:case ot:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),fn=B({},dn,{view:0,detail:0}),pn=sn(fn),mn=B({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),vn=sn(B({},mn,{dataTransfer:0})),yn=sn(B({},fn,{relatedTarget:0})),bn=sn(B({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=B({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),Sn=sn(B({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Tn}var Pn=B({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Pn),jn=sn(B({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(B({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=sn(B({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=B({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Nn),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Fn,Bn=u&&(!Ln||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Yr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function $n(e){Ur(e,0)}function Xn(e){if(J(Eo(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var er;if(u){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",or),Jn=Yn=null)}function or(e){if("value"===e.propertyName&&Xn(Jn)){var t=[];Kn(t,Jn,e,Ee(e)),Ne($n,t)}}function ir(e,t,n){"focusin"===e?(rr(),Jn=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Jn)}function sr(e,t){if("click"===e)return Xn(t)}function lr(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h.call(t,o)||!cr(e[o],t[o]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=hr(n,i);var a=hr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==yr||yr!==$(r)||("selectionStart"in(r=yr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&ur(wr,r)||(wr=r,0<(r=Yr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},kr={},Tr={};function Cr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return kr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Pr=Cr("animationend"),Ar=Cr("animationiteration"),jr=Cr("animationstart"),Ir=Cr("transitionend"),Dr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Dr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Lr=Nr[Rr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Pr,"onAnimationEnd"),Or(Ar,"onAnimationIteration"),Or(jr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=Be;Me=!1,Be=null,Ue||(Ue=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Br(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Br(o,s,c),i=l}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zr(e,t){var n=t[yo];void 0===n&&(n=t[yo]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[qr]){e[qr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Qt(t)){case 1:var o=Kt;break;case 4:o=Yt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=xo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Ne(function(){var r=i,o=Ee(n),a=[];e:{var s=Dr.get(e);if(void 0!==s){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Pr:case Ar:case jr:l=bn;break;case Ir:l=Dn;break;case"scroll":l=pn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Se||!(c=n.relatedTarget||n.fromElement)||!xo(c)&&!c[vo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xo(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Eo(l),f=null==c?s:Eo(c),(s=new u(m,p+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,xo(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Jr(f))p++;for(f=0,m=h;m;m=Jr(m))f++;for(;0<p-f;)u=Jr(u),p--;for(;0<f-p;)h=Jr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Jr(u),h=Jr(h)}u=null}else u=null;null!==l&&$r(a,s,l,u,!1),null!==c&&null!==d&&$r(a,d,c,u,!0)}if("select"===(l=(s=r?Eo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Hn(s))if(Zn)g=lr;else{g=ar;var v=ir}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ne(s,"number",s.value)),v=r?Eo(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(a,n,o);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Sr(a,n,o)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Yr(r,b)).length&&(b=new Sn(b,e,null,n,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(o=new Sn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Ur(a,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift(Kr(e,i,o)),null!=(i=Oe(e,t))&&r.push(Kr(e,i,o))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Oe(n,i))&&a.unshift(Kr(n,l,s)):o||null!=(l=Oe(n,i))&&a.push(Kr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function eo(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function to(){}var no=null,ro=null;function oo(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var io="function"===typeof setTimeout?setTimeout:void 0,ao="function"===typeof clearTimeout?clearTimeout:void 0,so="function"===typeof Promise?Promise:void 0,lo="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof so?function(e){return so.resolve(null).then(e).catch(co)}:io;function co(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Wt(t)}function ho(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),mo="__reactFiber$"+po,go="__reactProps$"+po,vo="__reactContainer$"+po,yo="__reactEvents$"+po,bo="__reactListeners$"+po,wo="__reactHandles$"+po;function xo(e){var t=e[mo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vo]||n[mo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=fo(e);null!==e;){if(n=e[mo])return n;e=fo(e)}return t}n=(e=n).parentNode}return null}function So(e){return!(e=e[mo]||e[vo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Eo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _o(e){return e[go]||null}var ko=[],To=-1;function Co(e){return{current:e}}function Po(e){0>To||(e.current=ko[To],ko[To]=null,To--)}function Ao(e,t){To++,ko[To]=e.current,e.current=t}var jo={},Io=Co(jo),Do=Co(!1),No=jo;function Oo(e,t){var n=e.type.contextTypes;if(!n)return jo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){Po(Do),Po(Io)}function Fo(e,t,n){if(Io.current!==jo)throw Error(i(168));Ao(Io,t),Ao(Do,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,G(e)||"Unknown",o));return B({},n,r)}function Bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,No=Io.current,Ao(Io,e),Ao(Do,Do.current),!0}function Uo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,Po(Do),Po(Io),Ao(Io,e)):Po(Do),Ao(Do,n)}var zo=null,Vo=!1,qo=!1;function Wo(e){null===zo?zo=[e]:zo.push(e)}function Go(){if(!qo&&null!==zo){qo=!0;var e=0,t=xt;try{var n=zo;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Vo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Je(tt,Go),o}finally{xt=t,qo=!1}}return null}var Ho=[],Ko=0,Yo=null,Jo=0,$o=[],Xo=0,Qo=null,Zo=1,ei="";function ti(e,t){Ho[Ko++]=Jo,Ho[Ko++]=Yo,Yo=e,Jo=t}function ni(e,t,n){$o[Xo++]=Zo,$o[Xo++]=ei,$o[Xo++]=Qo,Qo=e;var r=Zo;e=ei;var o=32-lt(r)-1;r&=~(1<<o),n+=1;var i=32-lt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-lt(t)+o|n<<o|r,ei=i+e}else Zo=1<<i|n<<o|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function oi(e){for(;e===Yo;)Yo=Ho[--Ko],Ho[Ko]=null,Jo=Ho[--Ko],Ho[Ko]=null;for(;e===Qo;)Qo=$o[--Xo],$o[Xo]=null,ei=$o[--Xo],$o[Xo]=null,Zo=$o[--Xo],$o[Xo]=null}var ii=null,ai=null,si=!1,li=null;function ci(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ui(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ii=e,ai=ho(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ii=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Zo,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ii=e,ai=null,!0);default:return!1}}function di(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function hi(e){if(si){var t=ai;if(t){var n=t;if(!ui(e,t)){if(di(e))throw Error(i(418));t=ho(n.nextSibling);var r=ii;t&&ui(e,t)?ci(r,n):(e.flags=-4097&e.flags|2,si=!1,ii=e)}}else{if(di(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ii=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ii=e}function pi(e){if(e!==ii)return!1;if(!si)return fi(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oo(e.type,e.memoizedProps)),t&&(t=ai)){if(di(e))throw mi(),Error(i(418));for(;t;)ci(e,t),t=ho(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=ho(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ii?ho(e.stateNode.nextSibling):null;return!0}function mi(){for(var e=ai;e;)e=ho(e.nextSibling)}function gi(){ai=ii=null,si=!1}function vi(e){null===li?li=[e]:li.push(e)}var yi=x.ReactCurrentBatchConfig;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function wi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function Si(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&xi(i)===t.type)?((r=o(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(re(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;wi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===o?c(e,t,n,r):null;case E:return n.key===o?u(e,t,n,r):null;case O:return f(e,t,(o=n._init)(n._payload),r)}if(re(n)||F(n))return null!==o?null:d(e,t,n,r,null);wi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return p(e,t,n,(0,r._init)(r._payload),o)}if(re(r)||F(r))return d(t,e=e.get(n)||null,r,o,null);wi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),si&&ti(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return si&&ti(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),si&&ti(o,m),c}function g(o,s,l,c){var u=F(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),si&&ti(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return si&&ti(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),si&&ti(o,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&xi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=bi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((i=Fc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=bi(r,i,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uc(a,r.mode,l)).return=r,r=i}return s(r);case O:return e(r,i,(u=a._init)(a._payload),l)}if(re(a))return m(r,i,a,l);if(F(a))return g(r,i,a,l);wi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Bc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Ei=Si(!0),_i=Si(!1),ki=Co(null),Ti=null,Ci=null,Pi=null;function Ai(){Pi=Ci=Ti=null}function ji(e){var t=ki.current;Po(ki),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Di(e,t){Ti=e,Pi=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(Pi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ti)throw Error(i(308));Ci=e,Ti.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Oi=null;function Ri(e){null===Oi?Oi=[e]:Oi.push(e)}function Li(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,Fi(e,r)}function Fi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Fi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ri(r)):(t.next=o.next,o.next=t),r.interleaved=t,Fi(e,n)}function qi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function Wi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=B({},d,h);break e;case 2:Mi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ki={},Yi=Co(Ki),Ji=Co(Ki),$i=Co(Ki);function Xi(e){if(e===Ki)throw Error(i(174));return e}function Qi(e,t){switch(Ao($i,t),Ao(Ji,e),Ao(Yi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Po(Yi),Ao(Yi,t)}function Zi(){Po(Yi),Po(Ji),Po($i)}function ea(e){Xi($i.current);var t=Xi(Yi.current),n=ue(t,e.type);t!==n&&(Ao(Ji,e),Ao(Yi,n))}function ta(e){Ji.current===e&&(Po(Yi),Po(Ji))}var na=Co(0);function ra(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=[];function ia(){for(var e=0;e<oa.length;e++)oa[e]._workInProgressVersionPrimary=null;oa.length=0}var aa=x.ReactCurrentDispatcher,sa=x.ReactCurrentBatchConfig,la=0,ca=null,ua=null,da=null,ha=!1,fa=!1,pa=0,ma=0;function ga(){throw Error(i(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,o,a){if(la=a,ca=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aa.current=null===e||null===e.memoizedState?ts:ns,e=n(r,o),fa){a=0;do{if(fa=!1,pa=0,25<=a)throw Error(i(301));a+=1,da=ua=null,t.updateQueue=null,aa.current=rs,e=n(r,o)}while(fa)}if(aa.current=es,t=null!==ua&&null!==ua.next,la=0,da=ua=ca=null,ha=!1,t)throw Error(i(300));return e}function ba(){var e=0!==pa;return pa=0,e}function wa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ca.memoizedState=da=e:da=da.next=e,da}function xa(){if(null===ua){var e=ca.alternate;e=null!==e?e.memoizedState:null}else e=ua.next;var t=null===da?ca.memoizedState:da.next;if(null!==t)da=t,ua=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ua=e).memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},null===da?ca.memoizedState=da=e:da=da.next=e}return da}function Sa(e,t){return"function"===typeof t?t(e):t}function Ea(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ua,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((la&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ca.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,cr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ca.lanes|=a,Ml|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);cr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ta(e,t){var n=ca,r=xa(),o=t(),a=!cr(r.memoizedState,o);if(a&&(r.memoizedState=o,xs=!0),r=r.queue,Ma(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Na(9,Pa.bind(null,n,r,o,t),void 0,null),null===Il)throw Error(i(349));0!==(30&la)||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Ia(e)}function Aa(e,t,n){return n(function(){ja(t)&&Ia(e)})}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch(r){return!0}}function Ia(e){var t=Fi(e,1);null!==t&&oc(t,e,1,-1)}function Da(e){var t=wa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,ca,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return xa().memoizedState}function Ra(e,t,n,r){var o=wa();ca.flags|=e,o.memoizedState=Na(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var o=xa();r=void 0===r?null:r;var i=void 0;if(null!==ua){var a=ua.memoizedState;if(i=a.destroy,null!==r&&va(r,a.deps))return void(o.memoizedState=Na(t,n,i,r))}ca.flags|=e,o.memoizedState=Na(1|t,n,i,r)}function Fa(e,t){return Ra(8390656,8,e,t)}function Ma(e,t){return La(2048,8,e,t)}function Ba(e,t){return La(4,2,e,t)}function Ua(e,t){return La(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,za.bind(null,t,e),n)}function qa(){}function Wa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ga(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&la)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(cr(n,t)||(n=vt(),ca.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ka(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{xt=n,sa.transition=r}}function Ya(){return xa().memoizedState}function Ja(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Qa(t,n);else if(null!==(n=Li(e,t,n,r))){oc(n,e,r,nc()),Za(n,t,r)}}function $a(e,t,n){var r=rc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Qa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,cr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ri(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Li(e,t,o,r))&&(oc(n,e,r,o=nc()),Za(n,t,r))}}function Xa(e){var t=e.alternate;return e===ca||null!==t&&t===ca}function Qa(e,t){fa=ha=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var es={readContext:Ni,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},ts={readContext:Ni,useCallback:function(e,t){return wa().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=wa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,ca,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wa().memoizedState=e},useState:Da,useDebugValue:qa,useDeferredValue:function(e){return wa().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Ka.bind(null,e[1]),wa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ca,o=wa();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&la)||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Fa(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=wa(),t=Il.identifierPrefix;if(si){var n=ei;t=":"+t+"R"+(n=(Zo&~(1<<32-lt(Zo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ma++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ns={readContext:Ni,useCallback:Wa,useContext:Ni,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Ua,useMemo:Ga,useReducer:Ea,useRef:Oa,useState:function(){return Ea(Sa)},useDebugValue:qa,useDeferredValue:function(e){return Ha(xa(),ua.memoizedState,e)},useTransition:function(){return[Ea(Sa)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ta,useId:Ya,unstable_isNewReconciler:!1},rs={readContext:Ni,useCallback:Wa,useContext:Ni,useEffect:Ma,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Ua,useMemo:Ga,useReducer:_a,useRef:Oa,useState:function(){return _a(Sa)},useDebugValue:qa,useDeferredValue:function(e){var t=xa();return null===ua?t.memoizedState=e:Ha(t,ua.memoizedState,e)},useTransition:function(){return[_a(Sa)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ta,useId:Ya,unstable_isNewReconciler:!1};function os(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),o=rc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(oc(t,e,o,r),qi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),o=rc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(oc(t,e,o,r),qi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(oc(t,e,r,n),qi(t,e,r))}};function ss(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,i))}function ls(e,t,n){var r=!1,o=jo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ni(i):(o=Ro(t)?No:Io.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):jo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function cs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Bi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ni(i):(i=Ro(t)?No:Io.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(is(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&as.enqueueReplaceState(o,o.state,null),Gi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ds(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ps="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),fs(0,t)},n}function gs(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ws=x.ReactCurrentOwner,xs=!1;function Ss(e,t,n,r){t.child=null===e?_i(t,null,n,r):Ei(t,e.child,n,r)}function Es(e,t,n,r,o){n=n.render;var i=t.ref;return Di(t,o),r=ya(e,t,n,r,i,o),n=ba(),null===e||xs?(si&&n&&ri(t),t.flags|=1,Ss(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function _s(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);0!==(131072&e.flags)&&(xs=!0)}}return Ps(e,t,n,r,o)}function Ts(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Rl,Ol),Ol|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Rl,Ol),Ol|=r;return Ss(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,o){var i=Ro(n)?No:Io.current;return i=Oo(t,i),Di(t,o),n=ya(e,t,n,r,i,o),r=ba(),null===e||xs?(si&&r&&ri(t),t.flags|=1,Ss(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function As(e,t,n,r,o){if(Ro(n)){var i=!0;Bo(t)}else i=!1;if(Di(t,o),null===t.stateNode)Gs(e,t),ls(t,n,r),us(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ni(c):c=Oo(t,c=Ro(n)?No:Io.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&cs(t,a,r,c),Mi=!1;var h=t.memoizedState;a.state=h,Gi(t,r,a,o),l=t.memoizedState,s!==r||h!==l||Do.current||Mi?("function"===typeof u&&(is(t,n,u,r),l=t.memoizedState),(s=Mi||ss(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ui(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:os(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ni(l):l=Oo(t,l=Ro(n)?No:Io.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&cs(t,a,r,l),Mi=!1,h=t.memoizedState,a.state=h,Gi(t,r,a,o);var p=t.memoizedState;s!==d||h!==p||Do.current||Mi?("function"===typeof f&&(is(t,n,f,r),p=t.memoizedState),(c=Mi||ss(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,i,o)}function js(e,t,n,r,o,i){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Uo(t,n,!1),Hs(e,t,i);r=t.stateNode,ws.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,s,i)):Ss(e,t,s,i),t.memoizedState=r.state,o&&Uo(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Fo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fo(0,t.context,!1),Qi(e,t.containerInfo)}function Ds(e,t,n,r,o){return gi(),vi(o),t.flags|=256,Ss(e,t,n,r),t.child}var Ns,Os,Rs,Ls,Fs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,o=t.pendingProps,a=na.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(na,1&a),null===e)return hi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mc(l,o,0,null),e=Fc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Fs,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=hs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Mc({mode:"visible",children:r.children},o,0,null),(a=Fc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ei(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Fs,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=hs(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Il)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Fi(e,o),oc(r,e,o,-1))}return vc(),zs(e,t,s,r=hs(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ai=ho(o.nextSibling),ii=t,si=!0,li=null,null!==e&&($o[Xo++]=Zo,$o[Xo++]=ei,$o[Xo++]=Qo,Zo=e.id,ei=e.overflow,Qo=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Fc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,o}return e=(s=e.child).sibling,o=Rc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&vi(r),Ei(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function qs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ws(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=na.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(na,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ra(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ra(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qs(t,!0,n,null,i);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(oi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Ro(t.type)&&Lo(),Ys(t),null;case 3:return r=t.stateNode,Zi(),Po(Do),Po(Io),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==li&&(lc(li),li=null))),Os(e,t),Ys(t),null;case 5:ta(t);var o=Xi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ys(t),null}if(e=Xi(Yi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mo]=t,r[go]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Fr.length;o++)zr(Fr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ae(r,a),zr("invalid",r)}for(var l in we(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&eo(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&eo(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Y(r),te(r,a,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=to)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[mo]=t,e[go]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Fr.length;o++)zr(Fr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Q(e,r),o=X(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=B({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),o=ie(e,r),zr("invalid",e)}for(a in we(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ye(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":Y(e),te(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=to)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi($i.current),Xi(Yi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[mo]=t,(a=r.nodeValue!==n)&&null!==(e=ii))switch(e.tag){case 3:eo(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&eo(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mo]=t,t.stateNode=r}return Ys(t),null;case 13:if(Po(na),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))mi(),gi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[mo]=t}else gi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==li&&(lc(li),li=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&na.current)?0===Ll&&(Ll=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return Zi(),Os(e,t),null===e&&Wr(t.stateNode.containerInfo),Ys(t),null;case 10:return ji(t.type._context),Ys(t),null;case 19:if(Po(na),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ks(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ra(e))){for(t.flags|=128,Ks(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(na,1&na.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Wl&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ra(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Ys(t),null}else 2*Ze()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=na.current,Ao(na,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(oi(t),t.tag){case 1:return Ro(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Po(Do),Po(Io),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ta(t),null;case 13:if(Po(na),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));gi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Po(na),null;case 4:return Zi(),null;case 10:return ji(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Rs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(Yi.current);var i,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"select":o=B({},o,{value:void 0}),r=B({},r,{value:void 0}),a=[];break;case"textarea":o=ie(e,o),r=ie(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=to)}for(u in we(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var rl=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&nl(t,n,i)}o=o.next}while(o!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mo],delete t[go],delete t[yo],delete t[bo],delete t[wo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=to));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Qs||tl(n,t);case 6:var r=hl,o=fl;hl=null,pl(e,t,n),fl=o,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?uo(e.parentNode,n):1===e.nodeType&&uo(e,n),Wt(e)):uo(hl,n.stateNode));break;case 4:r=hl,o=fl,hl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),hl=r,fl=o;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&nl(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Qs&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,pl(e,t,n),Qs=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(i(160));ml(a,s,o),hl=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Tc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{ol(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),xe(l,s);var u=xe(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ye(o,h):"dangerouslySetInnerHTML"===d?fe(o,h):"children"===d?pe(o,h):w(o,d,h,u)}switch(l){case"input":ee(o,a);break;case"textarea":se(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?oe(o,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?oe(o,!!a.multiple,a.defaultValue,!0):oe(o,!!a.multiple,a.multiple?[]:"",!1))}o[go]=a}catch(g){Tc(e,e.return,g)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Tc(e,e.return,g)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(ql=Ze())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,vl(t,e),Qs=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,el=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ve("display",s))}catch(g){Tc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),dl(e,cl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,cl(e),a);break;default:throw Error(i(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var o=el,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Xs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var c=Qs;if(Xs=a,(Qs=l)&&!c)for(el=o;null!==el;)l=(a=el).child,22===a.tag&&null!==a.memoizedState?_l(o):null!==l?(l.return=a,el=l):_l(o);for(;null!==i;)el=i,xl(i,t,n),i=i.sibling;el=o,Xs=s,Qs=c}Sl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,el=i):Sl(e)}}function Sl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:os(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(i(163))}Qs||512&t.flags&&al(t)}catch(d){Tc(t,t.return,d)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function _l(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Tc(t,o,l)}}var i=t.return;try{al(t)}catch(l){Tc(t,i,l)}break;case 5:var a=t.return;try{al(t)}catch(l){Tc(t,a,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){el=null;break}var s=t.sibling;if(null!==s){s.return=t.return,el=s;break}el=t.return}}var kl,Tl=Math.ceil,Cl=x.ReactCurrentDispatcher,Pl=x.ReactCurrentOwner,Al=x.ReactCurrentBatchConfig,jl=0,Il=null,Dl=null,Nl=0,Ol=0,Rl=Co(0),Ll=0,Fl=null,Ml=0,Bl=0,Ul=0,zl=null,Vl=null,ql=0,Wl=1/0,Gl=null,Hl=!1,Kl=null,Yl=null,Jl=!1,$l=null,Xl=0,Ql=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&jl)?Ze():-1!==ec?ec:ec=Ze()}function rc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Nl?Nl&-Nl:null!==yi.transition?(0===tc&&(tc=vt()),tc):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function oc(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(i(185));bt(e,n,r),0!==(2&jl)&&e===Il||(e===Il&&(0===(2&jl)&&(Bl|=n),4===Ll&&cc(e,Nl)),ic(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Wl=Ze()+500,Vo&&Go()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-lt(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=mt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Il?Nl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Vo=!0,Wo(e)}(uc.bind(null,e)):Wo(uc.bind(null,e)),lo(function(){0===(6&jl)&&Go()}),n=null;else{switch(St(r)){case 1:n=tt;break;case 4:n=nt;break;case 16:default:n=rt;break;case 536870912:n=it}n=Ic(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ec=-1,tc=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=pt(e,e===Il?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var o=jl;jl|=2;var a=gc();for(Il===e&&Nl===t||(Gl=null,Wl=Ze()+500,pc(e,t));;)try{wc();break}catch(l){mc(e,l)}Ai(),Cl.current=a,jl=o,null!==Dl?t=0:(Il=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(r=o,t=sc(e,o))),1===t)throw n=Fl,pc(e,0),cc(e,r),ic(e,Ze()),n;if(6===t)cc(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!cr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=yc(e,r))&&(0!==(a=gt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Fl,pc(e,0),cc(e,r),ic(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,Vl,Gl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=ql+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=io(Ec.bind(null,e,Vl,Gl),t);break}Ec(e,Vl,Gl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-lt(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=io(Ec.bind(null,e,Vl,Gl),r);break}Ec(e,Vl,Gl);break;default:throw Error(i(329))}}}return ic(e,Ze()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vl,Vl=n,null!==t&&lc(t)),e}function lc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function cc(e,t){for(t&=~Ul,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&jl))throw Error(i(327));_c();var t=pt(e,0);if(0===(1&t))return ic(e,Ze()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Fl,pc(e,0),cc(e,t),ic(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,Gl),ic(e,Ze()),null}function dc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Wl=Ze()+500,Vo&&Go())}}function hc(e){null!==$l&&0===$l.tag&&0===(6&jl)&&_c();var t=jl;jl|=1;var n=Al.transition,r=xt;try{if(Al.transition=null,xt=1,e)return e()}finally{xt=r,Al.transition=n,0===(6&(jl=t))&&Go()}}function fc(){Ol=Rl.current,Po(Rl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ao(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(oi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Lo();break;case 3:Zi(),Po(Do),Po(Io),ia();break;case 5:ta(r);break;case 4:Zi();break;case 13:case 19:Po(na);break;case 10:ji(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Il=e,Dl=e=Rc(e.current,null),Nl=Ol=t,Ll=0,Fl=null,Ul=Bl=Ml=0,Vl=zl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Oi=null}return e}function mc(e,t){for(;;){var n=Dl;try{if(Ai(),aa.current=es,ha){for(var r=ca.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ha=!1}if(la=0,da=ua=ca=null,fa=!1,pa=0,Pl.current=null,null===n||null===n.return){Ll=1,Fl=t,Dl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,bs(p,s,l,0,t),1&p.mode&&vs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){vs(a,u,t),vc();break e}c=Error(i(426))}else if(si&&1&l.mode){var v=ys(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bs(v,s,l,0,t),vi(ds(c,l));break e}}a=c=ds(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Wi(a,ms(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Wi(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(w){t=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=es,null===e?es:e}function vc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&Ml)&&0===(268435455&Bl)||cc(Il,Nl)}function yc(e,t){var n=jl;jl|=2;var r=gc();for(Il===e&&Nl===t||(Gl=null,pc(e,t));;)try{bc();break}catch(o){mc(e,o)}if(Ai(),jl=n,Cl.current=r,null!==Dl)throw Error(i(261));return Il=null,Nl=0,Ll}function bc(){for(;null!==Dl;)xc(Dl)}function wc(){for(;null!==Dl&&!Xe();)xc(Dl)}function xc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?Sc(e):Dl=t,Pl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,Ol)))return void(Dl=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=xt,o=Al.transition;try{Al.transition=null,xt=1,function(e,t,n,r){do{_c()}while(null!==$l);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-lt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Il&&(Dl=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Ic(rt,function(){return _c(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var s=xt;xt=1;var l=jl;jl|=4,Pl.current=null,function(e,t){if(no=Ht,mr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(P){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ro={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:os(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(P){Tc(t,t.return,P)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),yl(n,e),gr(ro),Ht=!!no,ro=no=null,e.current=n,wl(n,e,o),Qe(),jl=l,xt=s,Al.transition=a}else e.current=n;if(Jl&&(Jl=!1,$l=e,Xl=o),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Go()}(e,t,n,r)}finally{Al.transition=o,xt=r}return null}function _c(){if(null!==$l){var e=St(Xl),t=Al.transition,n=xt;try{if(Al.transition=null,xt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Xl=0,0!==(6&jl))throw Error(i(331));var o=jl;for(jl|=4,el=e.current;null!==el;){var a=el,s=a.child;if(0!==(16&el.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:ol(8,d,a)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,p=d.return;if(sl(d),d===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,el=s;else e:for(;null!==el;){if(0!==(2048&(a=el).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,el=y;break e}el=a.return}}var b=e.current;for(el=b;null!==el;){var w=(s=el).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,el=w;else e:for(s=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Tc(l,l.return,S)}if(l===s){el=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,el=x;break e}el=l.return}}if(jl=o,Go(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{xt=n,Al.transition=t}}return!1}function kc(e,t,n){e=Vi(e,t=ms(0,t=ds(n,t),1),1),t=nc(),null!==e&&(bt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Vi(t,e=gs(t,e=ds(n,e),1),1),e=nc(),null!==t&&(bt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Ze()-ql?pc(e,0):Ul|=n),ic(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=nc();null!==(e=Fi(e,t))&&(bt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Pc(e,n)}function Ic(e,t){return Je(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Dc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Fc(n.children,o,a,t);case k:s=8,o|=8;break;case T:return(e=Nc(12,n,t,2|o)).elementType=T,e.lanes=a,e;case I:return(e=Nc(13,n,t,o)).elementType=I,e.lanes=a,e;case D:return(e=Nc(19,n,t,o)).elementType=D,e.lanes=a,e;case R:return Mc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case j:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Fc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bi(i),e}function qc(e){if(!e)return jo;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Mo(e,n,t)}return t}function Wc(e,t,n,r,o,i,a,s,l){return(e=Vc(n,r,!0,e,0,i,0,s,l)).context=qc(null),n=e.current,(i=zi(r=nc(),o=rc(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,o),e.current.lanes=o,bt(e,o,r),ic(e,r),e}function Gc(e,t,n,r){var o=t.current,i=nc(),a=rc(o);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,a))&&(oc(e,o,a,i),qi(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Do.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),gi();break;case 5:ea(t);break;case 1:Ro(t.type)&&Bo(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(na,1&na.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ao(na,1&na.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ao(na,1&na.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(na,na.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,si&&0!==(1048576&t.flags)&&ni(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var o=Oo(t,Io.current);Di(t,n),o=ya(null,t,r,e,o,n);var a=ba();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(a=!0,Bo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Bi(t),o.updater=as,t.stateNode=o,o._reactInternals=t,us(t,r,e,n),t=js(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ri(t),Ss(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===N)return 14}return 2}(r),e=os(r,e),o){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=_s(null,t,r,os(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ps(e,t,r,o=t.elementType===r?o:os(r,o),n);case 1:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:os(r,o),n);case 3:e:{if(Is(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Ui(e,t),Gi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,r,n,o=ds(Error(i(423)),t));break e}if(r!==o){t=Ds(e,t,r,n,o=ds(Error(i(424)),t));break e}for(ai=ho(t.stateNode.containerInfo.firstChild),ii=t,si=!0,li=null,n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gi(),r===o){t=Hs(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return ea(t),null===e&&hi(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,oo(r,o)?s=null:null!==a&&oo(r,a)&&(t.flags|=32),Cs(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&hi(t),null;case 13:return Bs(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ei(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:os(r,o),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ao(ki,r._currentValue),r._currentValue=s,null!==a)if(cr(a.value,s)){if(a.children===o.children&&!Do.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ii(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ii(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Di(t,n),r=r(o=Ni(o)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return o=os(r=t.type,t.pendingProps),_s(e,t,r,o=os(r.type,o),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:os(r,o),Gs(e,t),t.tag=1,Ro(r)?(e=!0,Bo(t)):e=!1,Di(t,n),ls(t,r,o),us(t,r,o,n),js(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ts(e,t,n)}throw Error(i(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}Gc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[vo]=a.current,Wr(8===e.nodeType?e.parentNode:e),hc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[vo]=l.current,Wr(8===e.nodeType?e.parentNode:e),hc(function(){Gc(t,l,n,r)}),l}(n,t,e,o,r);return Hc(a)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Gc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){Gc(null,e,null,null)}),t[vo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Bt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(wt(t,1|n),ic(t,Ze()),0===(6&jl)&&(Wl=Ze()+500,Go()))}break;case 13:hc(function(){var t=Fi(e,1);if(null!==t){var n=nc();oc(t,e,1,n)}}),Yc(e,1)}},_t=function(e){if(13===e.tag){var t=Fi(e,134217728);if(null!==t)oc(t,e,134217728,nc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),n=Fi(e,t);if(null!==n)oc(n,e,t,nc());Yc(e,t)}},Tt=function(){return xt},Ct=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},_e=function(e,t,n){switch(t){case"input":if(ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=_o(r);if(!o)throw Error(i(90));J(r),ee(r,o)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},je=dc,Ie=hc;var nu={usingClientEntryPoint:!1,Events:[So,Eo,_o,Pe,Ae,dc]},ru={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ou={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{at=iu.inject(ou),st=iu}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[vo]=t.current,Wr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,o,0,a,s),e[vo]=t.current,Wr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[vo]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(374));class i extends o.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";"plain"===r?o="pl":"phrase"===r?o="ph":"websearch"===r&&(o="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=i},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:o}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const a=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer="count=".concat(n)),new o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push("count=".concat(r)),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new o.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new o.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},830:(e,t,n)=>{var r,o;n.d(t,{_:()=>o,k:()=>r}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(r||(r={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const o=r(n(210));t.PostgrestClient=o.default;const i=r(n(829));t.PostgrestQueryBuilder=i.default;const a=r(n(736));t.PostgrestFilterBuilder=a.default;const s=r(n(374));t.PostgrestTransformBuilder=s.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:o.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{182:"925e465f",268:"5ed583cd",312:"e8322410",453:"b1585290",828:"a08ca072",851:"a80ed173"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="team-balancer:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkteam_balancer=self.webpackChunkteam_balancer||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),o=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const h=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r},f=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var p=e=>"number"==typeof e&&!isNaN(e),m=e=>"string"==typeof e,g=e=>"function"==typeof e,v=e=>m(e)||g(e)?e:null,y=(e,t)=>!1===e||p(e)&&e>0?e:t,b=e=>(0,r.isValidElement)(e)||m(e)||g(e)||p(e);function w(e){let{enter:t,exit:n,appendPosition:o=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=o?"".concat(t,"--").concat(l):t,m=o?"".concat(n,"--").concat(l):n,g=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}(e,u,a):u()};h||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))},[h]),r.createElement(r.Fragment,null,s)}}function x(e,t){return{content:S(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!m(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):g(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function E(e){let{delay:t,isRunning:n,closeToast:o,type:i="default",hide:a,className:s,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:p}=e,m=a||l&&0===u,v={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};l&&(v.transform="scaleX(".concat(u,")"));let y=h("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(i),{"Toastify__progress-bar--rtl":d}),b=g(s)?s({rtl:d,type:i,defaultClassName:y}):h(y,s),w={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&o()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(i)}),r.createElement("div",c({role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:b,style:v},w)))}var _=1,k=()=>"".concat(_++);function T(e,t,n){let r=1,o=0,i=[],a=[],s=t,l=new Map,u=new Set,d=()=>{a=Array.from(l.values()),u.forEach(e=>e())},h=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},f=e=>{if(null==e)l.forEach(h);else{let t=l.get(e);t&&h(t)}d()},m=e=>{var t,r;let{toastId:o,updateId:i}=e.props,a=null==i;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(o,e),d(),n(x(e,a?"added":"updated")),a&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:s,observe:e=>(u.add(e),()=>u.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:f,toasts:l,clearQueue:()=>{o-=i.length,i=[]},buildToast:(t,a)=>{if((t=>{let{containerId:n,toastId:r,updateId:o}=t,i=n?n!==e:1!==e,a=l.has(r)&&null==o;return i||a})(a))return;let{toastId:u,updateId:h,data:g,staleId:w,delay:S}=a,E=null==h;E&&o++;let _=c(c(c({},s),{},{style:s.toastStyle,key:r++},Object.fromEntries(Object.entries(a).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:u,updateId:h,data:g,isIn:!1,className:v(a.className||s.toastClassName),progressClassName:v(a.progressClassName||s.progressClassName),autoClose:!a.isLoading&&y(a.autoClose,s.autoClose),closeToast(e){l.get(u).removalReason=e,f(u)},deleteToast(){let e=l.get(u);if(null!=e){if(n(x(e,"removed")),l.delete(u),o--,o<0&&(o=0),i.length>0)return void m(i.shift());d()}}});_.closeButton=s.closeButton,!1===a.closeButton||b(a.closeButton)?_.closeButton=a.closeButton:!0===a.closeButton&&(_.closeButton=!b(s.closeButton)||s.closeButton);let k={content:t,props:_,staleId:w};s.limit&&s.limit>0&&o>s.limit&&E?i.push(k):p(S)?setTimeout(()=>{m(k)},S):m(k)},setProps(e){s=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var C=new Map,P=[],A=new Set,j=e=>A.forEach(t=>t(e)),I=()=>C.size>0;function D(e,t){var n;if(t)return!(null==(n=C.get(t))||!n.isToastActive(e));let r=!1;return C.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function N(e){if(I()){if(null==e||(e=>m(e)||p(e))(e))C.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=C.get(e.containerId);t?t.removeToast(e.id):C.forEach(t=>{t.removeToast(e.id)})}}else P=P.filter(t=>null!=e&&t.options.toastId!==e)}function O(e,t){b(e)&&(I()||P.push({content:e,options:t}),C.forEach(n=>{n.buildToast(e,t)}))}function R(e,t){C.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function L(e){let t=e.containerId||1;return{subscribe(n){let r=T(t,e,j);C.set(t,r);let o=r.observe(n);return P.forEach(e=>O(e.content,e.options)),P=[],()=>{o(),C.delete(t)}},setProps(e){var n;null==(n=C.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=C.get(t))?void 0:e.getSnapshot()}}}function F(e){return e&&(m(e.toastId)||p(e.toastId))?e.toastId:k()}function M(e,t){return O(e,t),t.toastId}function B(e,t){return c(c({},t),{},{type:t&&t.type||e,toastId:F(t)})}function U(e){return(t,n)=>M(t,B(e,n))}function z(e,t){return M(e,B("default",t))}function V(e){let[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),a=(0,r.useRef)(null),s=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function f(){n(!0)}function p(){n(!1)}function m(n){let r=a.current;if(s.canDrag&&r){s.didMove=!0,t&&p(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let o="x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))");r.style.transform="translate3d(".concat(o,",0)"),r.style.opacity="".concat(1-Math.abs(s.delta/s.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=C.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:o,right:i}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=o&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(v.onMouseEnter=p,e.stacked||(v.onMouseLeave=f)),h&&(v.onClick=e=>{d&&d(e),s.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:o,toastRef:a,eventHandlers:v}}z.loading=(e,t)=>M(e,B("default",c({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),z.promise=function(e,t,n){let r,{pending:o,error:i,success:a}=t;o&&(r=m(o)?z.loading(o,n):z.loading(o.render,c(c({},n),o)));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,o)=>{if(null==t)return void z.dismiss(r);let i=c(c(c({type:e},s),n),{},{data:o}),a=m(t)?{render:t}:t;return r?z.update(r,c(c({},i),a)):z(a.render,c(c({},i),a)),o},u=g(e)?e():e;return u.then(e=>l("success",a,e)).catch(e=>l("error",i,e)),u},z.success=U("success"),z.info=U("info"),z.error=U("error"),z.warning=U("warning"),z.warn=z.warning,z.dark=(e,t)=>M(e,B("default",c({theme:"dark"},t))),z.dismiss=function(e){N(e)},z.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},z.isActive=D,z.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=C.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:o}=n,i=c(c(c({delay:100},r),t),{},{toastId:t.toastId||e,updateId:k()});i.toastId!==e&&(i.staleId=e);let a=i.render||o;delete i.render,M(a,i)}},z.done=e=>{z.update(e,{progress:1})},z.onChange=function(e){return A.add(e),()=>{A.delete(e)}},z.play=e=>R(!0,e),z.pause=e=>R(!1,e);var q="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,W=e=>{let{theme:t,type:n,isLoading:o}=e,i=u(e,f);return r.createElement("svg",c({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},i))};var G={info:function(e){return r.createElement(W,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(W,c({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(W,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(W,c({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function H(e){let{theme:t,type:n,isLoading:o,icon:i}=e,a=null,s={theme:t,type:n};return!1===i||(g(i)?a=i(c(c({},s),{},{isLoading:o})):(0,r.isValidElement)(i)?a=(0,r.cloneElement)(i,s):o?a=G.spinner():(e=>e in G)(n)&&(a=G[n](s))),a}var K=e=>{let{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:i,playToast:a}=V(e),{closeButton:s,children:l,autoClose:u,onClick:d,type:f,hideProgressBar:p,closeToast:m,transition:v,position:y,className:b,style:w,progressClassName:x,updateId:_,role:k,progress:T,rtl:C,toastId:P,deleteToast:A,isIn:j,isLoading:I,closeOnClick:D,theme:N,ariaLabel:O}=e,R=h("Toastify__toast","Toastify__toast-theme--".concat(N),"Toastify__toast--".concat(f),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":D}),L=g(b)?b({rtl:C,position:y,type:f,defaultClassName:R}):h(R,b),F=H(e),M=!!T||!u,B={closeToast:m,type:f,theme:N},U=null;return!1===s||(U=g(s)?s(B):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,B):function(e){let{closeToast:t,theme:n,ariaLabel:o="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":o},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(B)),r.createElement(v,{isIn:j,done:A,position:y,preventExitTransition:n,nodeRef:o,playToast:a},r.createElement("div",c(c({id:P,tabIndex:0,onClick:d,"data-in":j,className:L},i),{},{style:w,ref:o},j&&{role:k,"aria-label":O}),null!=F&&r.createElement("div",{className:h("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},F),S(l,e,!t),U,!e.customProgressBar&&r.createElement(E,c(c({},_&&!M?{key:"p-".concat(_)}:{}),{},{rtl:C,theme:N,delay:u,isRunning:t,isIn:j,closeToast:m,hide:p,type:f,className:x,controlledProgress:M,progress:T||0}))))},Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},J=w(Y("bounce",!0)),$=(w(Y("slide",!0)),w(Y("zoom")),w(Y("flip")),{position:"top-right",transition:J,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function X(e){let t=c(c({},$),e),n=e.stacked,[o,i]=(0,r.useState)(!0),a=(0,r.useRef)(null),{getToastToRender:s,isToastActive:l,count:u}=function(e){var t;let{subscribe:n,getSnapshot:o,setProps:i}=(0,r.useRef)(L(e)).current;i(e);let a=null==(t=(0,r.useSyncExternalStore)(n,o,o))?void 0:t.slice();return{getToastToRender:function(t){if(!a)return[];let n=new Map;return e.newestOnTop&&a.reverse(),a.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:D,count:null==a?void 0:a.length}}(t),{className:d,style:f,rtl:p,containerId:m,hotKeys:y}=t;function b(e){let t=h("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":p});return g(d)?d({position:e,rtl:p,defaultClassName:t}):h(t,v(d))}function w(){n&&(i(!0),z.play())}return q(()=>{var e;if(n){let n=a.current.querySelectorAll('[data-in="true"]'),r=12,i=null==(e=t.position)?void 0:e.includes("top"),s=0,l=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(o)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let a=s*(o?.2:1)+(o?0:r*t);n.style.setProperty("--y","".concat(i?a:-1*a,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(o?l:0))),s+=n.offsetHeight,l+=.025})}},[o,u,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=a.current;y(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),z.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(i(!0),z.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[y]),r.createElement("section",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),z.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((e,t)=>{let o=t.length?c({},f):c(c({},f),{},{pointerEvents:"none"});return r.createElement("div",{tabIndex:-1,className:b(e),"data-stacked":n,style:o,key:"c-".concat(e)},t.map(e=>{let{content:t,props:o}=e;return r.createElement(K,c(c({},o),{},{stacked:n,collapseAll:w,isIn:l(o.toastId,o.containerId),key:"t-".concat(o.key)}),t)}))}))}const Q=null,Z="admin",ee="simple",te="votacion",ne="jugador",re=0,oe=1,ie=2,ae=3,se=0,le=1,ce=2,ue=3,de=4,he=Array.from({length:10},(e,t)=>t+1),fe={0:"Dom",1:"Lun",2:"Mar",3:"Mi\xe9",4:"Jue",5:"Vie",6:"S\xe1b"},pe=5,me=500,ge=3,ve=5,ye=0,be=3e3,we={WHATSAPP_ICON_SIZE:20,PLAYER_AVATAR_MOBILE:24,PLAYER_AVATAR_DEFAULT:28,PLAYER_AVATAR_DESKTOP:40,LOCK_ICON_MOBILE:14,LOCK_ICON_DEFAULT:16,LOCK_ICON_DESKTOP:18},xe="AGREGANDO...",Se="CERRANDO VOTACI\xd3N...";function Ee(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function _e(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function ke(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Te(e,t,n,r){if("function"===typeof t){const[o,i]=ke(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=ke(r);t=t(void 0!==n?n:e.custom,o,i)}return t}function Ce(e,t,n){const r=e.getProps();return Te(r,t,void 0!==n?n:r.custom,e)}function Pe(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Ae=e=>e,je={},Ie=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],De={value:null,addProjectionMetrics:null};function Ne(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Ie.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(c),t&&De.value&&De.value.frameloop[t].push(l),l=0,n.clear(),o=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=a,m=()=>{const i=je.useManualTiming?o.timestamp:performance.now();n=!1,je.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,s.process(o),l.process(o),c.process(o),u.process(o),d.process(o),h.process(o),f.process(o),p.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Ie.reduce((t,i)=>{const s=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),s.schedule(t,i,a)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<Ie.length;t++)a[Ie[t]].cancel(e)},state:o,steps:a}}const{schedule:Oe,cancel:Re,state:Le,steps:Fe}=Ne("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Ae,!0),Me=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Be=(()=>new Set(Me))(),Ue=new Set(["width","height","top","left","right","bottom",...Me]);function ze(e,t){-1===e.indexOf(t)&&e.push(t)}function Ve(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class qe{constructor(){this.subscriptions=[]}add(e){return ze(this.subscriptions,e),()=>Ve(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function We(e,t){return t?e*(1e3/t):0}let Ge;function He(){Ge=void 0}const Ke={now:()=>(void 0===Ge&&Ke.set(Le.isProcessing||je.useManualTiming?Le.timestamp:performance.now()),Ge),set:e=>{Ge=e,queueMicrotask(He)}},Ye={current:void 0};class Je{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Ke.now();var o,i;if((t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(o=t.events.change)||void 0===o||o.notify(t.current),t.dependents))for(const a of t.dependents)a.dirty();n&&(null===(i=t.events.renderRequest)||void 0===i||i.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ke.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qe);const n=this.events[e].add(t);return"change"===e?()=>{n(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ye.current&&Ye.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ke.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return We(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $e(e,t){return new Je(e,t)}const Xe=e=>Array.isArray(e),Qe=["transitionEnd","transition"];function Ze(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$e(n))}function et(e){return Xe(e)?e[e.length-1]||0:e}const tt=e=>Boolean(e&&e.getVelocity);function nt(e,t){const n=e.getValue("willChange");if(r=n,Boolean(tt(r)&&r.add))return n.add(t);if(!n&&je.WillChange){const n=new je.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const rt=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ot="data-"+rt("framerAppearId");function it(e){return e.props[ot]}const at=(e,t)=>n=>t(e(n)),st=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(at)},lt=(e,t,n)=>n>t?t:n<e?e:n,ct=e=>1e3*e,ut=e=>e/1e3,dt={layout:0,mainThread:0,waapi:0};const ht=e=>t=>"string"===typeof t&&t.startsWith(e),ft=ht("--"),pt=ht("var(--"),mt=e=>!!pt(e)&&gt.test(e.split("/*")[0].trim()),gt=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,vt={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},yt=c(c({},vt),{},{transform:e=>lt(0,1,e)}),bt=c(c({},vt),{},{default:1}),wt=e=>Math.round(1e5*e)/1e5,xt=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const St=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Et=(e,t)=>n=>Boolean("string"===typeof n&&St.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),_t=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,i,a,s]=r.match(xt);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},kt=c(c({},vt),{},{transform:e=>Math.round((e=>lt(0,255,e))(e))}),Tt={test:Et("rgb","red"),parse:_t("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+kt.transform(t)+", "+kt.transform(n)+", "+kt.transform(r)+", "+wt(yt.transform(o))+")"}};const Ct={test:Et("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Tt.transform},Pt=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),At=Pt("deg"),jt=Pt("%"),It=Pt("px"),Dt=Pt("vh"),Nt=Pt("vw"),Ot=(()=>c(c({},jt),{},{parse:e=>jt.parse(e)/100,transform:e=>jt.transform(100*e)}))(),Rt={test:Et("hsl","hue"),parse:_t("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+jt.transform(wt(n))+", "+jt.transform(wt(r))+", "+wt(yt.transform(o))+")"}},Lt={test:e=>Tt.test(e)||Ct.test(e)||Rt.test(e),parse:e=>Tt.test(e)?Tt.parse(e):Rt.test(e)?Rt.parse(e):Ct.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Tt.transform(e):Rt.transform(e),getAnimatableNone:e=>{const t=Lt.parse(e);return t.alpha=0,Lt.transform(t)}},Ft=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Mt="number",Bt="color",Ut=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function zt(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace(Ut,e=>(Lt.test(e)?(r.color.push(i),o.push(Bt),n.push(Lt.parse(e))):e.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(e)):(r.number.push(i),o.push(Mt),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:a,indexes:r,types:o}}function Vt(e){return zt(e).values}function qt(e){const{split:t,types:n}=zt(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===Mt?wt(e[i]):t===Bt?Lt.transform(e[i]):e[i]}return o}}const Wt=e=>"number"===typeof e?0:Lt.test(e)?Lt.getAnimatableNone(e):e;const Gt={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(xt))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ft))||void 0===n?void 0:n.length)||0)>0},parse:Vt,createTransformer:qt,getAnimatableNone:function(e){const t=Vt(e);return qt(e)(t.map(Wt))}};function Ht(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Kt(e,t){return n=>n>0?t:e}const Yt=(e,t,n)=>e+(t-e)*n,Jt=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},$t=[Ct,Tt,Rt];function Xt(e){const t=(n=e,$t.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===Rt&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Ht(o,e,t+1/3),a=Ht(o,e,t),s=Ht(o,e,t-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}(r)),r}const Qt=(e,t)=>{const n=Xt(e),r=Xt(t);if(!n||!r)return Kt(e,t);const o=c({},n);return e=>(o.red=Jt(n.red,r.red,e),o.green=Jt(n.green,r.green,e),o.blue=Jt(n.blue,r.blue,e),o.alpha=Yt(n.alpha,r.alpha,e),Tt.transform(o))},Zt=new Set(["none","hidden"]);function en(e,t){return n=>Yt(e,t,n)}function tn(e){return"number"===typeof e?en:"string"===typeof e?mt(e)?Kt:Lt.test(e)?Qt:on:Array.isArray(e)?nn:"object"===typeof e?Lt.test(e)?Qt:rn:Kt}function nn(e,t){const n=[...e],r=n.length,o=e.map((e,n)=>tn(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function rn(e,t){const n=c(c({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=tn(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const on=(e,t)=>{const n=Gt.createTransformer(t),r=zt(e),o=zt(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Zt.has(e)&&!o.values.length||Zt.has(t)&&!r.values.length?function(e,t){return Zt.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):st(nn(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var o;const a=t.types[i],s=e.indexes[a][r[a]],l=null!==(o=e.values[s])&&void 0!==o?o:0;n[i]=l,r[a]++}return n}(r,o),o.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),Kt(e,t))};function an(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Yt(e,t,n);return tn(e)(e,t)}const sn=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Oe.update(t,e)},stop:()=>Re(t),now:()=>Le.isProcessing?Le.timestamp:Ke.now()}},ln=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let i=0;i<o;i++)r+=Math.round(1e4*e(i/(o-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},cn=2e4;function un(e){let t=0;let n=e.next(t);for(;!n.done&&t<cn;)t+=50,n=e.next(t);return t>=cn?1/0:t}function dn(e,t,n){const r=Math.max(t-5,0);return We(n-e(r),t-r)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fn=.001;function pn(e){let t,n,{duration:r=hn.duration,bounce:o=hn.bounce,velocity:i=hn.velocity,mass:a=hn.mass}=e;ct(hn.maxDuration);let s=1-o;s=lt(hn.minDamping,hn.maxDamping,s),r=lt(hn.minDuration,hn.maxDuration,ut(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-i,a=gn(e,s),l=Math.exp(-n);return fn-o/a*l},n=e=>{const n=e*s*r,o=n*i+i,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=gn(Math.pow(e,2),s);return(-t(e)+fn>0?-1:1)*((o-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<mn;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=ct(r),isNaN(l))return{stiffness:hn.stiffness,damping:hn.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const mn=12;function gn(e,t){return e*Math.sqrt(1-t*t)}const vn=["duration","bounce"],yn=["stiffness","damping","mass"];function bn(e,t){return t.some(t=>void 0!==e[t])}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=c({velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1},e);if(!bn(e,yn)&&bn(e,vn))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*lt(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=c(c({},t),{},{mass:hn.mass,stiffness:o,damping:i})}else{const n=pn(e);t=c(c(c({},t),n),{},{mass:hn.mass}),t.isResolvedFromDuration=!0}return t}(c(c({},n),{},{velocity:-ut(n.velocity||0)})),m=f||0,g=u/(2*Math.sqrt(l*d)),v=a-i,y=ut(Math.sqrt(l/d)),b=Math.abs(v)<5;let w;if(r||(r=b?hn.restSpeed.granular:hn.restSpeed.default),o||(o=b?hn.restDelta.granular:hn.restDelta.default),g<1){const e=gn(y,g);w=t=>{const n=Math.exp(-g*y*t);return a-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)w=e=>a-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return a-n*((m+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const x={calculatedDuration:p&&h||null,next:e=>{const t=w(e);if(p)s.done=e>=h;else{let n=0===e?m:0;g<1&&(n=0===e?ct(m):dn(w,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=o;s.done=i&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(un(x),cn),t=ln(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function xn(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===s?g:s(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/o),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const E=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,S=wn({keyframes:[f.value,p(f.value)],velocity:dn(b,e,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),E(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),f)}}}wn.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(c(c({},e),{},{keyframes:[0,t]})),r=Math.min(un(n),cn);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:ut(r)}}(e,100,wn);return e.ease=t.ease,e.duration=ct(t.duration),e.type="keyframes",e};const Sn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function En(e,t,n,r){if(e===t&&n===r)return Ae;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=Sn(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Sn(o(e),t,r)}const _n=En(.42,0,1,1),kn=En(0,0,.58,1),Tn=En(.42,0,.58,1),Cn=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pn=e=>t=>1-e(1-t),An=En(.33,1.53,.69,.99),jn=Pn(An),In=Cn(jn),Dn=e=>(e*=2)<1?.5*jn(e):.5*(2-Math.pow(2,-10*(e-1))),Nn=e=>1-Math.sin(Math.acos(e)),On=Pn(Nn),Rn=Cn(Nn),Ln=e=>Array.isArray(e)&&"number"===typeof e[0],Fn={linear:Ae,easeIn:_n,easeInOut:Tn,easeOut:kn,circIn:Nn,circInOut:Rn,circOut:On,backIn:jn,backInOut:In,backOut:An,anticipate:Dn},Mn=e=>{if(Ln(e)){e.length;const[t,n,r,o]=e;return En(t,n,r,o)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Fn[e]):e},Bn=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function Un(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||je.mix||an,i=e.length-1;for(let a=0;a<i;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Ae:t;n=st(e,n)}r.push(n)}return r}(t,r,o),l=s.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=Bn(e[r],e[r+1],n);return s[r](o)};return n?t=>c(lt(e[0],e[i-1],t)):c}function zn(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Bn(0,t,r);e.push(Yt(n,1,o))}}(t,e.length-1),t}function Vn(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(Mn):Mn(o),a={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:zn(n),t),l=Un(s,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||Tn).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const qn=e=>null!==e;function Wn(e,t,n){let{repeat:r,repeatType:o="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(qn),s=i<0||r&&"loop"!==o&&r%2===1?0:a.length-1;return s&&void 0!==n?n:a[s]}const Gn={decay:xn,inertia:xn,tween:Vn,keyframes:Vn,spring:wn};function Hn(e){"string"===typeof e.type&&(e.type=Gn[e.type])}class Kn{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Yn=e=>e/100;class Jn extends Kn{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Ke.now()&&this.tick(Ke.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},dt.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Hn(e);const{type:t=Vn,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=e;let{keyframes:a}=e;const s=t||Vn;s!==Vn&&"number"!==typeof a[0]&&(this.mixKeyframes=st(Yn,an(a[0],a[1])),a=[0,100]);const l=s(c(c({},e),{},{keyframes:a}));"mirror"===o&&(this.mirroredGenerator=s(c(c({},e),{},{keyframes:[...a].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=un(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/a)):"mirror"===d&&(b=i)),y=lt(0,1,n)*a}const w=v?{done:!1,value:c[0]}:b.next(y);o&&(w.value=o(w.value));let{done:x}=w;v||null===s||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&f!==xn&&(w.value=Wn(c,this.options,m,this.speed)),p&&p(w.value),S&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return ut(this.calculatedDuration)}get time(){return ut(this.currentTime)}set time(e){var t;e=ct(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ke.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ut(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=sn,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ke.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,dt.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const $n=e=>180*e/Math.PI,Xn=e=>{const t=$n(Math.atan2(e[1],e[0]));return Zn(t)},Qn={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xn,rotateZ:Xn,skewX:e=>$n(Math.atan(e[1])),skewY:e=>$n(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zn=e=>((e%=360)<0&&(e+=360),e),er=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tr=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),nr={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:er,scaleY:tr,scale:e=>(er(e)+tr(e))/2,rotateX:e=>Zn($n(Math.atan2(e[6],e[5]))),rotateY:e=>Zn($n(Math.atan2(-e[2],e[0]))),rotateZ:Xn,rotate:Xn,skewX:e=>$n(Math.atan(e[4])),skewY:e=>$n(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function rr(e){return e.includes("scale")?1:0}function or(e,t){if(!e||"none"===e)return rr(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,o;if(n)r=nr,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Qn,o=t}if(!o)return rr(t);const i=r[t],a=o[1].split(",").map(ir);return"function"===typeof i?i(a):a[i]}function ir(e){return parseFloat(e.trim())}const ar=e=>e===vt||e===It,sr=new Set(["x","y","z"]),lr=Me.filter(e=>!sr.has(e));const cr={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return or(n,"x")},y:(e,t)=>{let{transform:n}=t;return or(n,"y")}};cr.translateX=cr.x,cr.translateY=cr.y;const ur=new Set;let dr=!1,hr=!1,fr=!1;function pr(){if(hr){const e=Array.from(ur).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return lr.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,o]=t;null===(n=e.getValue(r))||void 0===n||n.set(o)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}hr=!1,dr=!1,ur.forEach(e=>e.complete(fr)),ur.clear()}function mr(){ur.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hr=!0)})}class gr{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(ur.add(this),dr||(dr=!0,Oe.read(mr),Oe.resolveKeyframes(pr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ur.delete(this)}cancel(){"scheduled"===this.state&&(ur.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function vr(e){let t;return()=>(void 0===t&&(t=e()),t)}const yr=vr(()=>void 0!==window.ScrollTimeline),br={};function wr(e,t){const n=vr(e);return()=>{var e;return null!==(e=br[t])&&void 0!==e?e:n()}}const xr=wr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Sr=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},Er={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sr([0,.65,.55,1]),circOut:Sr([.55,0,1,.45]),backIn:Sr([.31,.01,.66,-.59]),backOut:Sr([.33,1.53,.69,.99])};function _r(e,t){return e?"function"===typeof e?xr()?ln(e,t):"ease-out":Ln(e)?Sr(e):Array.isArray(e)?e.map(e=>_r(e,t)||Er.easeOut):Er[e]:void 0}function kr(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=_r(s,o);Array.isArray(d)&&(u.easing=d),De.value&&dt.waapi++;const h={delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return De.value&&f.finished.finally(()=>{dt.waapi--}),f}function Tr(e){return"function"===typeof e&&"applyToOptions"in e}const Cr=["type"];class Pr extends Kn{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:a,onComplete:s}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t}=e,n=u(e,Cr);return Tr(t)&&xr()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(o=n.ease)&&void 0!==o||(n.ease="easeOut"),n);var r,o}(e);this.animation=kr(t,n,r,l,o),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=Wn(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===s||void 0===s||s(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return ut(Number(n))}get time(){return ut(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ct(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&yr()?(this.animation.timeline=t,Ae):n(this)}}const Ar={anticipate:Dn,backInOut:In,circInOut:Rn};function jr(e){"string"===typeof e.ease&&e.ease in Ar&&(e.ease=Ar[e.ease])}const Ir=["motionValue","onUpdate","onComplete","element"];class Dr extends Pr{constructor(e){jr(e),Hn(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:o,onComplete:i,element:a}=n,s=u(n,Ir);if(!r)return;if(void 0!==e)return void r.set(e);const l=new Jn(c(c({},s),{},{autoplay:!1})),d=ct(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(l.sample(d-10).value,l.sample(d).value,10),l.stop()}}const Nr=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Gt.test(e)&&"0"!==e||e.startsWith("url(")));function Or(e){return"object"===typeof e&&null!==e}function Rr(e){return Or(e)&&"offsetHeight"in e}const Lr=new Set(["opacity","clipPath","filter","transform"]),Fr=vr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Mr=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Br extends Kn{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:d,motionValue:h,element:f}=e,p=u(e,Mr);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Ke.now();const m=c({autoplay:n,delay:r,type:o,repeat:i,repeatDelay:a,repeatType:s,name:d,motionValue:h,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||gr;this.keyframeResolver=new g(l,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),d,h,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:a,delay:s,isHandoff:l,onUpdate:u}=n;this.resolvedAt=Ke.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=Nr(o,t),s=Nr(i,t);return"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(i,'". ').concat(o," is not an animatable value - to enable this animation set ").concat(o," to a value animatable to ").concat(i," via the `style` property."),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Tr(n))&&r)}(e,o,i,a)||(!je.instantAnimations&&s||null===u||void 0===u||u(Wn(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const d=c(c({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:a,type:s}=e;if(!Rr(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Fr()&&r&&Lr.has(r)&&("transform"!==r||!c)&&!l&&!o&&"mirror"!==i&&0!==a&&"inertia"!==s}(d)?new Dr(c(c({},d),{},{element:d.motionValue.owner.current})):new Jn(d);h.finished.then(()=>this.notifyFinished()).catch(Ae),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),fr=!0,mr(),pr(),fr=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Ur=e=>null!==e;const zr={type:"spring",stiffness:500,damping:25,restSpeed:10},Vr={type:"keyframes",duration:.8},qr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wr=(e,t)=>{let{keyframes:n}=t;return n.length>2?Vr:Be.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:zr:qr},Gr=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Hr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const s=Pe(r,e)||{},l=s.delay||r.delay||0;let{elapsed:d=0}=r;d-=ct(l);const h=c(c({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},s),{},{delay:-d,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:d}=e,h=u(e,Gr);return!!Object.keys(h).length})(s)||Object.assign(h,Wr(e,h)),h.duration&&(h.duration=ct(h.duration)),h.repeatDelay&&(h.repeatDelay=ct(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(f=!0)),(je.instantAnimations||je.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!s.type&&!s.ease,f&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(Ur),a=r&&"loop"!==o&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(h.keyframes,s);if(void 0!==e)return void Oe.update(()=>{h.onUpdate(e),h.onComplete()})}return s.isSync?new Jn(h):new Br(h)}},Kr=["transition","transitionEnd"];function Yr(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function Jr(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:a}=t,s=u(t,Kr);r&&(i=r);const l=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in s){var h;const t=e.getValue(u,null!==(h=e.latestValues[u])&&void 0!==h?h:null),r=s[u];if(void 0===r||d&&Yr(d,u))continue;const o=c({delay:n},Pe(i||{},u)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!o.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=it(e);if(t){const e=window.MotionHandoffAnimation(t,u,Oe);null!==e&&(o.startTime=e,f=!0)}}nt(e,u),t.start(Hr(u,t,r,e.shouldReduceMotion&&Ue.has(u)?{type:!1}:o,e,f));const p=t.animation;p&&l.push(p)}return a&&Promise.all(l).then(()=>{Oe.update(()=>{a&&function(e,t){let n=Ce(e,t)||{},{transitionEnd:r={},transition:o={}}=n,i=u(n,Qe);i=c(c({},i),r);for(const a in i)Ze(e,a,et(i[a]))}(e,a)})}),l}function $r(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Ce(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(i=r.transitionOverride);const a=o?()=>Promise.all(Jr(e,o,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Xr).forEach((e,r)=>{e.notify("AnimationStart",t),a.push($r(e,t,c(c({},i),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,o+n,a,s,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then(()=>t())}return Promise.all([a(),s(r.delay)])}function Xr(e,t){return e.sortNodePosition(t)}function Qr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Zr(e){return"string"===typeof e||Array.isArray(e)}const eo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],to=["initial",...eo],no=to.length;function ro(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ro(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<no;n++){const r=to[n],o=e.props[r];(Zr(o)||!1===o)&&(t[r]=o)}return t}const oo=["transition","transitionEnd"],io=[...eo].reverse(),ao=eo.length;function so(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map(t=>$r(e,t,r));n=Promise.all(o)}else if("string"===typeof t)n=$r(e,t,r);else{const o="function"===typeof t?Ce(e,t,r.custom):t;n=Promise.all(Jr(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function lo(e){let t=so(e),n=ho(),r=!0;const o=t=>(n,r)=>{var o;const i=Ce(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=u(i,oo);n=c(c(c({},n),r),t)}return n};function i(i){const{props:a}=e,s=ro(e.parent)||{},l=[],u=new Set;let d={},h=1/0;for(let t=0;t<ao;t++){const f=io[t],p=n[f],m=void 0!==a[f]?a[f]:s[f],g=Zr(m),v=f===i?p.isActive:null;!1===v&&(h=t);let y=m===s[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=c({},d),!p.isActive&&null===v||!m&&!p.prevProp||_e(m)||"boolean"===typeof m)continue;const b=co(p.prevProp,m);let w=b||f===i&&p.isActive&&!y&&g||t>h&&g,x=!1;const S=Array.isArray(m)?m:[m];let E=S.reduce(o(f),{});!1===v&&(E={});const{prevResolvedValues:_={}}=p,k=c(c({},_),E),T=t=>{w=!0,u.has(t)&&(x=!0,u.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=E[e],n=_[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Xe(t)&&Xe(n)?!Qr(t,n):t!==n,r?void 0!==t&&null!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(d=c(c({},d),E)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(y&&b)||x)&&l.push(...S.map(e=>({animation:e,options:{type:f}})))}if(u.size){const t={};if("boolean"!==typeof a.initial){const n=Ce(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach(n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ho(),r=!0}}}function co(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Qr(t,e)}function uo(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ho(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}class fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}let po=0;const mo={animation:{Feature:class extends fo{constructor(e){super(e),e.animationState||(e.animationState=lo(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_e(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends fo{constructor(){super(...arguments),this.id=po++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},go={x:!1,y:!1};function vo(){return go.x||go.y}function yo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const bo=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function wo(e){return{point:{x:e.pageX,y:e.pageY}}}function xo(e,t,n,r){return yo(e,t,(e=>t=>bo(t)&&e(t,wo(t)))(n),r)}function So(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function Eo(e){return e.max-e.min}function _o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Yt(t.min,t.max,e.origin),e.scale=Eo(n)/Eo(t),e.translate=Yt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ko(e,t,n,r){_o(e.x,t.x,n.x,r?r.originX:void 0),_o(e.y,t.y,n.y,r?r.originY:void 0)}function To(e,t,n){e.min=n.min+t.min,e.max=e.min+Eo(t)}function Co(e,t,n){e.min=t.min-n.min,e.max=e.min+Eo(t)}function Po(e,t,n){Co(e.x,t.x,n.x),Co(e.y,t.y,n.y)}const Ao=()=>({x:{min:0,max:0},y:{min:0,max:0}});function jo(e){return[e("x"),e("y")]}function Io(e){return void 0===e||1===e}function Do(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Io(t)||!Io(n)||!Io(r)}function No(e){return Do(e)||Oo(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Oo(e){return Ro(e.x)||Ro(e.y)}function Ro(e){return e&&"0%"!==e}function Lo(e,t,n){return n+t*(e-n)}function Fo(e,t,n,r,o){return void 0!==o&&(e=Lo(e,o,r)),Lo(e,n,r)+t}function Mo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=Fo(e.min,t,n,r,o),e.max=Fo(e.max,t,n,r,o)}function Bo(e,t){let{x:n,y:r}=t;Mo(e.x,n.translate,n.scale,n.originPoint),Mo(e.y,r.translate,r.scale,r.originPoint)}const Uo=.999999999999,zo=1.0000000000001;function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function qo(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Mo(e,t,n,Yt(e.min,e.max,o),r)}function Wo(e,t){qo(e.x,t.x,t.scaleX,t.scale,t.originX),qo(e.y,t.y,t.scaleY,t.scale,t.originY)}function Go(e,t){return So(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Ho=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Ko(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Yo=(e,t)=>Math.abs(e-t);class Jo{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Qo(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Yo(e.x,t.x),r=Yo(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=Le;this.history.push(c(c({},r),{},{timestamp:o}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=$o(t,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Qo("pointercancel"===e.type?this.lastMoveEventInfo:$o(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!bo(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=$o(wo(e),this.transformPagePoint),{point:a}=i,{timestamp:s}=Le;this.history=[c(c({},a),{},{timestamp:s})];const{onSessionStart:l}=t;l&&l(e,Qo(i,this.history)),this.removeListeners=st(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Re(this.updatePoint)}}function $o(e,t){return t?{point:t(e.point)}:e}function Xo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qo(e,t){let{point:n}=e;return{point:n,delta:Xo(n,ei(t)),offset:Xo(n,Zo(t)),velocity:ti(t,.1)}}function Zo(e){return e[0]}function ei(e){return e[e.length-1]}function ti(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ei(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>ct(t)));)n--;if(!r)return{x:0,y:0};const i=ut(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ni(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ri(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const oi=.35;function ii(e,t,n){return{min:ai(e,t),max:ai(e,n)}}function ai(e,t){return"number"===typeof e?e:e[t]||0}const si=new WeakMap;class li{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Jo(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wo(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?go[i]?null:(go[i]=!0,()=>{go[i]=!1}):go.x||go.y?null:(go.x=go.y=!0,()=>{go.x=go.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(jt.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Eo(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),o&&Oe.postRender(()=>o(e,t)),nt(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>jo(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Ho(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&Oe.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ci(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?Yt(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?Yt(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&Ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:ni(e.x,r,i),y:ni(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return!1===e?e=0:!0===e&&(e=oi),{x:ii(e,"left","right"),y:ii(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jo(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ko(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=Go(e,n),{scroll:o}=t;return o&&(Vo(r.x,o.offset.x),Vo(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:ri(e.x,t.x),y:ri(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=So(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=jo(a=>{if(!ci(a,t,this.currentDirection))return;let l=s&&s[a]||{};i&&(l={min:0,max:0});const u=r?200:1e6,d=r?40:1e7,h=c(c({type:"inertia",velocity:n?e[a]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(a,h)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return nt(this.visualElement,e),n.start(Hr(e,n,0,t,this.visualElement,!1))}stopAnimation(){jo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jo(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){jo(t=>{const{drag:n}=this.getProps();if(!ci(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-Yt(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ko(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};jo(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Eo(e),o=Eo(t);return o>r?n=Bn(t.min,t.max-r,e.min):r>o&&(n=Bn(e.min,e.max-o,t.min)),lt(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jo(t=>{if(!ci(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Yt(o,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;si.set(this.visualElement,this);const e=xo(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Ko(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Oe.read(t);const o=yo(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(jo(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=oi,dragMomentum:a=!0}=e;return c(c({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a})}}function ci(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ui=e=>(t,n)=>{e&&Oe.postRender(()=>e(t,n))};var di=n(579);const{schedule:hi,cancel:fi}=Ne(queueMicrotask,!1),pi=(0,r.createContext)(null);function mi(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(pi);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:o,register:i}=t,a=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return i(a)},[e]);const s=(0,r.useCallback)(()=>e&&o&&o(a),[a,o,e]);return!n&&o?[!1,s]:[!0]}const gi=(0,r.createContext)({}),vi=(0,r.createContext)({}),yi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wi={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!It.test(e))return e;e=parseFloat(e)}const n=bi(e,t.target.x),r=bi(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},xi={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=Gt.parse(e);if(i.length>5)return o;const a=Gt.createTransformer(e),s="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+s]/=l,i[1+s]/=c;const u=Yt(l,c,.5);return"number"===typeof i[2+s]&&(i[2+s]/=u),"number"===typeof i[3+s]&&(i[3+s]/=u),a(i)}},Si={};class Ei extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;!function(e){for(const t in e)Si[t]=e[t],ft(t)&&(Si[t].isCSSVariable=!0)}(ki),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions(c(c({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),yi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Oe.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hi.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _i(e){const[t,n]=mi(),o=(0,r.useContext)(gi);return(0,di.jsx)(Ei,c(c({},e),{},{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(vi),isPresent:t,safeToRemove:n}))}const ki={borderRadius:c(c({},wi),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:wi,borderTopRightRadius:wi,borderBottomLeftRadius:wi,borderBottomRightRadius:wi,boxShadow:xi};function Ti(e){return Or(e)&&"ownerSVGElement"in e}const Ci=(e,t)=>e.depth-t.depth;class Pi{constructor(){this.children=[],this.isDirty=!1}add(e){ze(this.children,e),this.isDirty=!0}remove(e){Ve(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ci),this.isDirty=!1,this.children.forEach(e)}}function Ai(e,t){const n=Ke.now(),r=o=>{let{timestamp:i}=o;const a=i-n;a>=t&&(Re(r),e(a-t))};return Oe.setup(r,!0),()=>Re(r)}function ji(e){return tt(e)?e.get():e}const Ii=["TopLeft","TopRight","BottomLeft","BottomRight"],Di=Ii.length,Ni=e=>"string"===typeof e?parseFloat(e):e,Oi=e=>"number"===typeof e||It.test(e);function Ri(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Li=Mi(0,.5,On),Fi=Mi(.5,.95,Ae);function Mi(e,t,n){return r=>r<e?0:r>t?1:n(Bn(e,t,r))}function Bi(e,t){e.min=t.min,e.max=t.max}function Ui(e,t){Bi(e.x,t.x),Bi(e.y,t.y)}function zi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Vi(e,t,n,r,o){return e=Lo(e-=t,1/n,r),void 0!==o&&(e=Lo(e,1/o,r)),e}function qi(e,t,n,r,o){let[i,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;jt.test(t)&&(t=parseFloat(t),t=Yt(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Yt(i.min,i.max,r);e===i&&(s-=t),e.min=Vi(e.min,t,n,s,o),e.max=Vi(e.max,t,n,s,o)}(e,t[i],t[a],t[s],t.scale,r,o)}const Wi=["x","scaleX","originX"],Gi=["y","scaleY","originY"];function Hi(e,t,n,r){qi(e.x,t,Wi,n?n.x:void 0,r?r.x:void 0),qi(e.y,t,Gi,n?n.y:void 0,r?r.y:void 0)}function Ki(e){return 0===e.translate&&1===e.scale}function Yi(e){return Ki(e.x)&&Ki(e.y)}function Ji(e,t){return e.min===t.min&&e.max===t.max}function $i(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Xi(e,t){return $i(e.x,t.x)&&$i(e.y,t.y)}function Qi(e){return Eo(e.x)/Eo(e.y)}function Zi(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ea{constructor(){this.members=[]}add(e){ze(this.members,e),e.scheduleRender()}remove(e){if(Ve(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ta={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},na=["","X","Y","Z"],ra={visibility:"hidden"};let oa=0;function ia(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function aa(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=it(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Oe,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&aa(r)}function sa(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=oa++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,De.value&&(ta.nodes=ta.calculatedTargetDeltas=ta.calculatedProjections=0),this.nodes.forEach(ua),this.nodes.forEach(va),this.nodes.forEach(ya),this.nodes.forEach(da),De.addProjectionMetrics&&De.addProjectionMetrics(ta)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pi)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new qe),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Ti(e)&&!(Ti(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Ai(r,250),yi.hasAnimatedSinceResize&&(yi.hasAnimatedSinceResize=!1,this.nodes.forEach(ga))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||_a,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=i.getProps(),u=!this.targetLayout||!Xi(this.targetLayout,o),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=c(c({},Pe(a,"layout")),{},{onPlay:s,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||ga(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Re(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ba),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aa(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(fa);this.isUpdating||this.nodes.forEach(pa),this.isUpdating=!1,this.nodes.forEach(ma),this.nodes.forEach(la),this.nodes.forEach(ca),this.clearAllSnapshots();const e=Ke.now();Le.delta=lt(0,1e3/60,e-Le.timestamp),Le.timestamp=e,Le.isProcessing=!0,Fe.update.process(Le),Fe.preRender.process(Le),Fe.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ha),this.sharedNodes.forEach(wa)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Eo(this.snapshot.measuredBox.x)||Eo(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Yi(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||No(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Ca((r=n).x),Ca(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Aa))){const{scroll:e}=this.root;e&&(Vo(n.x,e.offset.x),Vo(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Ui(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&Ui(n,e),Vo(n.x,o.offset.x),Vo(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Ui(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Wo(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),No(e.latestValues)&&Wo(n,e.latestValues)}return No(this.latestValues)&&Wo(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ui(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!No(e.latestValues))continue;Do(e.latestValues)&&e.updateSnapshot();const r=Ao();Ui(r,e.measurePageBox()),Hi(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return No(this.latestValues)&&Hi(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=c(c(c({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Po(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,To(a.x,s.x,l.x),To(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ui(this.target,this.layout.layoutBox),Bo(this.target,this.targetDelta)):Ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Po(this.relativeTargetOrigin,this.target,e.target),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}De.value&&ta.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Do(this.parent.latestValues)&&!Oo(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;Ui(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Bo(e,a)),r&&No(i.latestValues)&&Wo(e,i.latestValues))}t.x<zo&&t.x>Uo&&(t.x=1),t.y<zo&&t.y>Uo&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(zi(this.prevProjectionDelta.x,this.projectionDelta.x),zi(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ko(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Zi(this.projectionDelta.x,this.prevProjectionDelta.x)&&Zi(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),De.value&&ta.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=c({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,d=Boolean(s&&!u&&!0===this.options.crossfade&&!this.path.some(Ea));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,c,f,p,m,g;xa(i.x,e.x,n),xa(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Po(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,Sa(f.x,p.x,m.x,g),Sa(f.y,p.y,m.y,g),h&&(l=this.relativeTarget,c=h,Ji(l.x,c.x)&&Ji(l.y,c.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Ui(h,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){var a,s;if(o)e.opacity=Yt(0,null!==(a=n.opacity)&&void 0!==a?a:1,Li(r)),e.opacityExit=Yt(null!==(s=t.opacity)&&void 0!==s?s:1,0,Fi(r));else if(i){var l,c;e.opacity=Yt(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<Di;u++){const o="border".concat(Ii[u],"Radius");let i=Ri(t,o),a=Ri(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||Oi(i)===Oi(a)?(e[o]=Math.max(Yt(Ni(i),Ni(a),r),0),(jt.test(a)||jt.test(i))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=Yt(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Re(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{yi.hasAnimatedSinceResize=!0,dt.layout++,this.motionValue||(this.motionValue=$e(0)),this.currentAnimation=function(e,t,n){const r=tt(e)?e:$e(e);return r.start(Hr("",r,t,n)),r.animation}(this.motionValue,[0,1e3],c(c({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{dt.layout--},onComplete:()=>{dt.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Pa(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Eo(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Eo(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Ui(t,n),Wo(t,o),ko(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ea);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ia("z",e,r,this.animationValues);for(let o=0;o<na.length;o++)ia("rotate".concat(na[o]),e,r,this.animationValues),ia("skew".concat(na[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ra;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=ji(null===e||void 0===e?void 0:e.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=ji(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const o=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((o||i||a)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),n&&(t.transform=n(o,t.transform));const{x:i,y:a}=this.projectionDelta;var s,l;(t.transformOrigin="".concat(100*i.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?t.opacity=r===this?null!==(s=null!==(l=o.opacity)&&void 0!==l?l:this.latestValues.opacity)&&void 0!==s?s:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:t.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in Si){if(void 0===o[c])continue;const{correct:e,applyTo:n,isCSSVariable:i}=Si[c],a="none"===t.transform?o[c]:e(o[c],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=a}else i?this.options.visualElement.renderState.vars[c]=a:t[c]=a}return this.options.layoutId&&(t.pointerEvents=r===this?ji(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(fa),this.root.sharedNodes.clear()}}}function la(e){e.updateLayout()}function ca(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?jo(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=Eo(r);r.min=t[e].min,r.max=r.min+o}):Pa(o,n.layoutBox,t)&&jo(r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],a=Eo(t[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ko(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?ko(s,e.applyTransform(r,!0),n.measuredBox):ko(s,t,n.layoutBox);const l=!Yi(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};Po(a,n.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Po(s,t,i.layoutBox),Xi(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ua(e){De.value&&ta.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function da(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ha(e){e.clearSnapshot()}function fa(e){e.clearMeasurements()}function pa(e){e.isLayoutDirty=!1}function ma(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ga(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function va(e){e.resolveTargetDelta()}function ya(e){e.calcProjection()}function ba(e){e.resetSkewAndRotation()}function wa(e){e.removeLeadSnapshot()}function xa(e,t,n){e.translate=Yt(t.translate,0,n),e.scale=Yt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sa(e,t,n,r){e.min=Yt(t.min,n.min,r),e.max=Yt(t.max,n.max,r)}function Ea(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const _a={duration:.45,ease:[.4,0,.1,1]},ka=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ta=ka("applewebkit/")&&!ka("chrome/")?Math.round:Ae;function Ca(e){e.min=Ta(e.min),e.max=Ta(e.max)}function Pa(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Qi(t),o=Qi(n),i=.2,!(Math.abs(r-o)<=i));var r,o,i}function Aa(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const ja=sa({attachResizeListener:(e,t)=>yo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ia={current:void 0},Da=sa({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ia.current){const e=new ja({});e.mount(window),e.setOptions({layoutScroll:!0}),Ia.current=e}return Ia.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Na={pan:{Feature:class extends fo{constructor(){super(...arguments),this.removePointerDownListener=Ae}onPointerDown(e){this.session=new Jo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ho(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ui(e),onStart:ui(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Oe.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends fo{constructor(e){super(e),this.removeGroupControls=Ae,this.removeListeners=Ae,this.controls=new li(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ae}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Da,MeasureLayout:_i}};function Oa(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let o=document;t&&(o=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,c(c({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function Ra(e){return!("touch"===e.pointerType||vo())}function La(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&Oe.postRender(()=>o(t,wo(t)))}const Fa=(e,t)=>!!t&&(e===t||Fa(e,t.parentElement)),Ma=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Ba=new WeakSet;function Ua(e){return t=>{"Enter"===t.key&&e(t)}}function za(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Va(e){return bo(e)&&!vo()}function qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=Oa(e,n),a=e=>{const r=e.currentTarget;if(!Va(e))return;Ba.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),Ba.has(r)&&Ba.delete(r),Va(e)&&"function"===typeof i&&i(e,{success:t})},s=e=>{a(e,r===window||r===document||n.useGlobalTarget||Fa(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",l,o)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,o),Rr(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ua(()=>{if(Ba.has(n))return;za(n,"down");const e=Ua(()=>{za(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>za(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,o)),t=e,Ma.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function Wa(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&Oe.postRender(()=>o(t,wo(t)))}const Ga=["root"],Ha=new WeakMap,Ka=new WeakMap,Ya=e=>{const t=Ha.get(e.target);t&&t(e)},Ja=e=>{e.forEach(Ya)};function $a(e,t,n){const r=function(e){let{root:t}=e,n=u(e,Ga);const r=t||document;Ka.has(r)||Ka.set(r,{});const o=Ka.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(Ja,c({root:t},n))),o[i]}(t);return Ha.set(e,n),r.observe(e),()=>{Ha.delete(e),r.unobserve(e)}}const Xa={some:0,all:1};const Qa={inView:{Feature:class extends fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Xa[r]};return $a(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends fo{mount(){const{current:e}=this.node;e&&(this.unmount=qa(e,(e,t)=>(Wa(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return Wa(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=st(yo(this.node.current,"focus",()=>this.onFocus()),yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends fo{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=Oa(e,n),a=e=>{if(!Ra(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{Ra(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach(e=>{e.addEventListener("pointerenter",a,o)}),i}(e,(e,t)=>(La(this.node,t,"Start"),e=>La(this.node,e,"End"))))}unmount(){}}}},Za={layout:{ProjectionNode:Da,MeasureLayout:_i}},es=(0,r.createContext)({strict:!1}),ts=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ns=(0,r.createContext)({});function rs(e){return _e(e.animate)||to.some(t=>Zr(e[t]))}function os(e){return Boolean(rs(e)||e.variants)}function is(e){const{initial:t,animate:n}=function(e,t){if(rs(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Zr(t)?t:void 0,animate:Zr(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(ns));return(0,r.useMemo)(()=>({initial:t,animate:n}),[as(t),as(n)])}function as(e){return Array.isArray(e)?e.join(" "):e}const ss="undefined"!==typeof window,ls={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cs={};for(const _b in ls)cs[_b]={isEnabled:e=>ls[_b].some(t=>!!e[t])};const us=Symbol.for("motionComponentSymbol");function ds(e,t,n){return(0,r.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Ko(n)&&(n.current=r))},[t])}const hs=ss?r.useLayoutEffect:r.useEffect;function fs(e,t,n,o,i){var a,s,l,c;const{visualElement:u}=(0,r.useContext)(ns),d=(0,r.useContext)(es),h=(0,r.useContext)(pi),f=(0,r.useContext)(ts).reducedMotion,p=(0,r.useRef)(null);o=o||d.renderer,!p.current&&o&&(p.current=o(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:f}));const m=p.current,g=(0,r.useContext)(vi);!m||m.projection||!i||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ps(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&Ko(s),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,n,i,g);const v=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{m&&v.current&&m.update(n,h)});const y=n[ot],b=(0,r.useRef)(Boolean(y)&&!(null!==(a=(s=window).MotionHandoffIsComplete)&&void 0!==a&&a.call(s,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return hs(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),hi.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,r.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),b.current=!1))}),m}function ps(e){if(e)return!1!==e.options.allowProjection?e.projection:ps(e.parent)}function ms(e){var t,n;let{preloadedFeatures:o,createVisualElement:i,useRender:a,useVisualState:s,Component:l}=e;function u(e,t){let n;const o=c(c(c({},(0,r.useContext)(ts)),e),{},{layoutId:gs(e)}),{isStatic:u}=o,d=is(e),h=s(e,u);if(!u&&ss){!function(){(0,r.useContext)(es).strict;0}();const e=function(e){const{drag:t,layout:n}=cs;if(!t&&!n)return{};const r=c(c({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);n=e.MeasureLayout,d.visualElement=fs(l,h,o,i,e.ProjectionNode)}return(0,di.jsxs)(ns.Provider,{value:d,children:[n&&d.visualElement?(0,di.jsx)(n,c({visualElement:d.visualElement},o)):null,a(l,e,ds(h,d.visualElement,t),h,u,d.visualElement)]})}o&&function(e){for(const t in e)cs[t]=c(c({},cs[t]),e[t])}(o),u.displayName="motion.".concat("string"===typeof l?l:"create(".concat(null!==(t=null!==(n=l.displayName)&&void 0!==n?n:l.name)&&void 0!==t?t:"",")"));const d=(0,r.forwardRef)(u);return d[us]=l,d}function gs(e){let{layoutId:t}=e;const n=(0,r.useContext)(gi).id;return n&&void 0!==t?n+"-"+t:t}function vs(e,t){let{layout:n,layoutId:r}=t;return Be.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Si[e]||"opacity"===e)}const ys=(e,t)=>t&&"number"===typeof e?t.transform(e):e,bs=c(c({},vt),{},{transform:Math.round}),ws=c(c({borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It},{rotate:At,rotateX:At,rotateY:At,rotateZ:At,scale:bt,scaleX:bt,scaleY:bt,scaleZ:bt,skew:At,skewX:At,skewY:At,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:yt,originX:Ot,originY:Ot,originZ:It}),{},{zIndex:bs,fillOpacity:yt,strokeOpacity:yt,numOctaves:bs}),xs={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ss=Me.length;function Es(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let a=!1,s=!1;for(const l in t){const e=t[l];if(Be.has(l))a=!0;else if(ft(l))o[l]=e;else{const t=ys(e,ws[l]);l.startsWith("origin")?(s=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<Ss;i++){const a=Me[i],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=ys(s,ws[a]);l||(o=!1,r+="".concat(xs[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const _s=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ks(e,t,n){for(const r in t)tt(t[r])||vs(r,n)||(e[r]=t[r])}function Ts(e,t){const n={};return ks(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Es(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function Cs(e,t){const n={},r=Ts(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ps={offset:"stroke-dashoffset",array:"stroke-dasharray"},As={offset:"strokeDashoffset",array:"strokeDasharray"};const js=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Is(e,t,n,r,o){let{attrX:i,attrY:a,attrScale:s,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(Es(e,u(t,js),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;var p,m;(h.transform&&(f.transform=h.transform,delete h.transform),f.transform||h.transformOrigin)&&(f.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===o||void 0===o?void 0:o.transformBox)&&void 0!==m?m:"fill-box",delete h.transformBox);void 0!==i&&(h.x=i),void 0!==a&&(h.y=a),void 0!==s&&(h.scale=s),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?Ps:As;e[i.offset]=It.transform(-r);const a=It.transform(t),s=It.transform(n);e[i.array]="".concat(a," ").concat(s)}(h,l,c,d,!1)}const Ds=()=>c(c({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Ns=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Os(e,t,n,o){const i=(0,r.useMemo)(()=>{const n=Ds();return Is(n,t,Ns(o),e.transformTemplate,e.style),c(c({},n.attrs),{},{style:c({},n.style)})},[t]);if(e.style){const t={};ks(t,e.style,e),i.style=c(c({},t),i.style)}return i}const Rs=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ls(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Rs.has(e)}let Fs=e=>!Ls(e);try{"function"===typeof(Ms=require("@emotion/is-prop-valid").default)&&(Fs=e=>e.startsWith("on")?!Ls(e):Ms(e))}catch(Eb){}var Ms;const Bs=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Us(e){return"string"===typeof e&&!e.includes("-")&&!!(Bs.indexOf(e)>-1||/[A-Z]/.test(e))}function zs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,o,i,a)=>{let{latestValues:s}=i;const l=(Us(t)?Os:Cs)(n,s,a,t),u=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(Fs(o)||!0===n&&Ls(o)||!t&&!Ls(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),d=t!==r.Fragment?c(c(c({},u),l),{},{ref:o}):{},{children:h}=n,f=(0,r.useMemo)(()=>tt(h)?h.get():h,[h]);return(0,r.createElement)(t,c(c({},d),{},{children:f}))}}function Vs(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const qs=["transitionEnd","transition"];const Ws=e=>(t,n)=>{const o=(0,r.useContext)(ns),i=(0,r.useContext)(pi),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i}=e;return{latestValues:Gs(t,n,r,o),renderState:i()}}(e,t,o,i);return n?a():Vs(a)};function Gs(e,t,n,r){const o={},i=r(e,{});for(const u in i)o[u]=ji(i[u]);let{initial:a,animate:s}=e;const l=rs(e),c=os(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const h=d?s:a;if(h&&"boolean"!==typeof h&&!_e(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=Te(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=u(r,qs);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}function Hs(e,t,n){const{style:r}=e,o={};for(const a in r){var i;(tt(r[a])||t.style&&tt(t.style[a])||vs(a,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(a))||void 0===i?void 0:i.liveStyle))&&(o[a]=r[a])}return o}const Ks={useVisualState:Ws({scrapeMotionValuesFromProps:Hs,createRenderState:_s})};function Ys(e,t,n){const r=Hs(e,t,n);for(const o in e)if(tt(e[o])||tt(t[o])){r[-1!==Me.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}const Js={useVisualState:Ws({scrapeMotionValuesFromProps:Ys,createRenderState:Ds})};function $s(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return ms(c(c({},Us(n)?Js:Ks),{},{preloadedFeatures:e,useRender:zs(r),createVisualElement:t,Component:n}))}}const Xs=e=>t=>t.test(e),Qs=[vt,It,jt,At,Nt,Dt,{test:e=>"auto"===e,parse:e=>e}],Zs=e=>Qs.find(Xs(e)),el=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),tl=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function nl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,o]=function(e){const t=tl.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return el(e)?parseFloat(e):e}return mt(o)?nl(o,t,n+1):o}const rl=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function ol(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||rl(e))}const il=new Set(["brightness","contrast","saturate","opacity"]);function al(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(xt)||[];if(!r)return e;const o=n.replace(r,"");let i=il.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const sl=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ll=c(c({},Gt),{},{getAnimatableNone:e=>{const t=e.match(sl);return t?t.map(al).join(" "):e}}),cl=c(c({},ws),{},{color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:ll,WebkitFilter:ll}),ul=e=>cl[e];function dl(e,t){let n=ul(e);return n!==ll&&(n=Gt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hl=new Set(["auto","none","0"]);class fl extends gr{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),mt(n))){const r=nl(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Ue.has(n)||2!==e.length)return;const[r,o]=e,i=Zs(r),a=Zs(o);if(i!==a)if(ar(i)&&ar(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else cr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||ol(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!hl.has(t)&&zt(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=dl(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=cr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const pl=[...Qs,Lt,Gt],ml={current:null},gl={current:!1};const vl=new WeakMap;const yl=["willChange"],bl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wl{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ke.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Oe.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=a;this.latestValues=l,this.baseTarget=c({},l),this.initialValues=n.initial?c({},l):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=rs(n),this.isVariantNode=os(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=h,p=u(h,yl);for(const c in p){const e=p[c];void 0!==l[c]&&tt(e)&&e.set(l[c],!1)}}mount(e){this.current=e,vl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),gl.current||function(){if(gl.current=!0,ss)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ml.current=e.matches;e.addListener(t),t()}else ml.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ml.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Re(this.notifyUpdate),Re(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Be.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Oe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in cs){const t=cs[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<bl.length;n++){const t=bl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(tt(o))e.addValue(r,o);else if(tt(i))e.addValue(r,$e(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,$e(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=$e(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==r&&null!==r&&("string"===typeof r&&(el(r)||rl(r))?r=parseFloat(r):(o=r,!pl.find(Xs(o))&&Gt.test(t)&&(r=dl(e,t))),this.setBaseTarget(e,tt(r)?r.get():r)),tt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const o=Te(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||tt(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new qe),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class xl extends wl{constructor(){super(...arguments),this.KeyframeResolver=fl}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tt(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}function Sl(e,t,n,r){let{style:o,vars:i}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}class El extends xl{constructor(){super(...arguments),this.type="html",this.renderInstance=Sl}readValueFromInstance(e,t){var n,r;if(Be.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?rr(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return or(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),o=(ft(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Go(e,n)}build(e,t,n){Es(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Hs(e,t,n)}}const _l=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class kl extends xl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ao}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Be.has(t)){const e=ul(t);return e&&e.default||0}return t=_l.has(t)?t:rt(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Ys(e,t,n)}build(e,t,n){Is(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Sl(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(_l.has(o)?o:rt(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=Ns(e.tagName),super.mount(e)}}const Tl=(e,t)=>Us(e)?new kl(t):new El(t,{allowProjection:e!==r.Fragment}),Cl=Ee($s(c(c(c(c({},mo),Qa),Na),Za),Tl)),Pl=e=>{let{size:t="md",message:n="Cargando...",variant:r="spinner"}=e;return"shimmer"===r?(0,di.jsxs)("div",{className:"shimmer-container",children:[(0,di.jsx)("div",{className:"shimmer-item"}),(0,di.jsx)("div",{className:"shimmer-item"}),(0,di.jsx)("div",{className:"shimmer-item"})]}):(0,di.jsxs)("div",{className:"loading-spinner-container",children:[(0,di.jsx)(Cl.div,{className:"loading-spinner ".concat({sm:"loading-spinner-sm",md:"loading-spinner-md",lg:"loading-spinner-lg"}[t]),animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),n&&(0,di.jsx)("p",{className:"loading-message",children:n})]})},Al=["children","onClick","disabled","loading","variant","className","style","loadingText","ariaLabel"],jl=e=>{let{children:t,onClick:n,disabled:r=!1,loading:o=!1,variant:i="primary",className:a="",style:s={},loadingText:l="CARGANDO...",ariaLabel:d}=e,h=u(e,Al);return(0,di.jsx)(Cl.button,c(c({className:"voting-confirm-btn wipe-btn ".concat((()=>{switch(i){case"whatsapp":return"admin-btn-whatsapp";case"danger":return"admin-btn-danger";case"secondary":return"admin-btn-secondary";default:return"admin-btn-primary"}})()," ").concat(a),onClick:n,disabled:r||o,style:c({opacity:r||o?.6:1,cursor:r||o?"not-allowed":"pointer"},s),"aria-label":d,whileHover:{scale:r||o?1:1.02},whileTap:{scale:r||o?1:.98},transition:{type:"spring",stiffness:400,damping:17}},h),{},{children:o?(0,di.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,di.jsx)(Pl,{size:"sm",message:""}),l]}):t}))};class Il extends r.Component{constructor(e){super(e),this.handleReportError=()=>{var e,t,n;const r={error:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"Unknown error",stack:null===(t=this.state.error)||void 0===t?void 0:t.stack,componentStack:null===(n=this.state.errorInfo)||void 0===n?void 0:n.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href};navigator.clipboard.writeText(JSON.stringify(r,null,2)).then(()=>{z.success("Informaci\xf3n del error copiada al portapapeles")}).catch(()=>{z.error("No se pudo copiar la informaci\xf3n del error")})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),z.error("Ha ocurrido un error inesperado")}render(){return this.state.hasError?(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{maxWidth:500},children:[(0,di.jsx)("div",{className:"match-name",style:{marginBottom:"20px"},children:"ALGO SALI\xd3 MAL"}),(0,di.jsx)("div",{style:{color:"#fff",textAlign:"center",fontFamily:"Oswald, Arial, sans-serif",fontSize:"18px",marginBottom:"30px",lineHeight:"1.4"},children:"Ha ocurrido un error inesperado. Por favor, recarga la p\xe1gina para continuar."}),(0,di.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[(0,di.jsx)(jl,{onClick:()=>window.location.reload(),variant:"primary",ariaLabel:"Recargar p\xe1gina",children:"RECARGAR P\xc1GINA"}),(0,di.jsx)(jl,{onClick:this.handleReportError,variant:"secondary",ariaLabel:"Reportar error",children:"REPORTAR ERROR"})]})]})}):this.props.children}}const Dl=Il;class Nl extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Ol extends Nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rl extends Nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ll extends Nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fl;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Fl||(Fl={}));var Ml=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Bl{constructor(e){let{headers:t={},customFetch:r,region:o=Fl.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Ml(this,void 0,void 0,function*(){try{const{headers:r,method:o,body:i}=t;let a,s={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(s["x-region"]=l),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",a=i):"string"===typeof i?(s["Content-Type"]="text/plain",a=i):"undefined"!==typeof FormData&&i instanceof FormData?a=i:(s["Content-Type"]="application/json",a=JSON.stringify(i)));const c=yield this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:a}).catch(e=>{throw new Ol(e)}),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new Rl(c);if(!c.ok)throw new Ll(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var Ul=n(980);const{PostgrestClient:zl,PostgrestQueryBuilder:Vl,PostgrestFilterBuilder:ql,PostgrestTransformBuilder:Wl,PostgrestBuilder:Gl,PostgrestError:Hl}=Ul;const Kl=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}(),Yl="realtime-js/".concat("2.11.15");var Jl,$l,Xl,Ql,Zl,ec;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Jl||(Jl={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}($l||($l={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Xl||(Xl={})),function(e){e.websocket="websocket"}(Ql||(Ql={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Zl||(Zl={}));class tc{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+o));i+=o;return{ref:null,topic:a,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class nc{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(ec||(ec={}));const rc=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,o)=>(n[o]=oc(o,e,t,r),n),{})},oc=(e,t,n,r)=>{const o=t.find(t=>t.name===e),i=null===o||void 0===o?void 0:o.type,a=n[e];return i&&!r.includes(i)?ic(i,a):ac(a)},ic=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return uc(t,n)}switch(e){case ec.bool:return sc(t);case ec.float4:case ec.float8:case ec.int2:case ec.int4:case ec.int8:case ec.numeric:case ec.oid:return lc(t);case ec.json:case ec.jsonb:return cc(t);case ec.timestamp:return dc(t);case ec.abstime:case ec.date:case ec.daterange:case ec.int4range:case ec.int8range:case ec.money:case ec.reltime:case ec.text:case ec.time:case ec.timestamptz:case ec.timetz:case ec.tsrange:case ec.tstzrange:default:return ac(t)}},ac=e=>e,sc=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lc=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cc=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},uc=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(o){r=i?i.split(","):[]}return r.map(e=>ic(t,e))}return e},dc=e=>"string"===typeof e?e.replace(" ","T"):e,hc=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pc,mc,gc,vc;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(pc||(pc={}));class yc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yc.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=yc.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=yc.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const o=this.cloneDeep(e),i=this.transformState(t),a={},s={};return this.map(o,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=o[e];if(n){const r=t.map(e=>e.presence_ref),o=n.map(e=>e.presence_ref),i=t.filter(e=>o.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(a[e]=i),l.length>0&&(s[e]=l)}else a[e]=t}),this.syncDiff(o,{joins:a,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,(t,r)=>{var o;const i=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let o=e[t];if(!o)return;const i=n.map(e=>e.presence_ref);o=o.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=o,r(t,o,n),0===o.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(mc||(mc={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(gc||(gc={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(vc||(vc={}));class bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=$l.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new fc(this,Xl.join,this.params,this.timeout),this.rejoinTimer=new nc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$l.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=$l.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=$l.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=$l.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xl.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new yc(this),this.broadcastEndpointURL=hc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==$l.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(vc.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(vc.CLOSED));const s={},l={broadcast:o,presence:i,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:a};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,o=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<o;r++){const o=t[r],{filter:{event:a,schema:s,table:l,filter:c}}=o,u=n&&n[r];if(!u||u.event!==a||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=$l.errored,void(null===e||void 0===e||e(vc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},o),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(vc.SUBSCRIBED))}null===e||void 0===e||e(vc.SUBSCRIBED)}).receive("error",t=>{this.state=$l.errored,null===e||void 0===e||e(vc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(vc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,o,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(o=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===o?void 0:o.broadcast)||void 0===i?void 0:i.ack)||n("ok"),a.receive("ok",()=>n("ok")),a.receive("error",()=>n("error")),a.receive("timeout",()=>n("timed out"))});{const{event:i,payload:a}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=$l.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Xl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new fc(this,Xl.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,o=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new fc(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:s,leave:l,join:c}=Xl;if(n&&[a,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(o=this.bindings[i])||void 0===o||o.filter(e=>{var n,r,o,a,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===a||(null===a||void 0===a?void 0:a.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const n=null===(s=null===(a=null===e||void 0===e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:o,errors:i}=e,a={schema:t,table:n,commit_timestamp:r,eventType:o,new:{},old:{},errors:i};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===$l.closed}_isJoined(){return this.state===$l.joined}_isJoining(){return this.state===$l.joining}_isLeaving(){return this.state===$l.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&bc.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xl.close,{},e)}_onError(e){this._on(Xl.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$l.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=rc(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=rc(e.columns,e.old_record)),t}}const wc=()=>{};class xc{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wc,this.ref=0,this.logger=wc,this.conn=null,this.sendBuffer=[],this.serializer=new tc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(Ql.websocket),this.httpEndpoint=hc(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nc(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Kl),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jl.connecting:return Zl.Connecting;case Jl.open:return Zl.Open;case Jl.closing:return Zl.Closing;default:return Zl.Closed}}isConnected(){return this.connectionState()===Zl.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new bc("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:o}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(o,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Yl};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Xl.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:o}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(r.status||""," ").concat(t," ").concat(n," ").concat(o&&"("+o+")"||""),r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,o)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport","".concat(e)),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xl.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Sc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ec(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class _c extends Sc{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kc extends Sc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Tc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const Cc=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Pc=e=>{if(Array.isArray(e))return e.map(e=>Pc(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const o=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[o]=Pc(r)}),t};var Ac=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ic=(e,t,r)=>Ac(void 0,void 0,void 0,function*(){const o=yield Tc(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof o&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{t(new _c(jc(n),e.status||500))}).catch(e=>{t(new kc(jc(e),e))}):t(new kc(jc(e),e))});function Dc(e,t,n,r,o,i){return Ac(this,void 0,void 0,function*(){return new Promise((a,s)=>{e(n,((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))})(t,r,o,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>Ic(e,s,r))})})}function Nc(e,t,n,r){return Ac(this,void 0,void 0,function*(){return Dc(e,"GET",t,n,r)})}function Oc(e,t,n,r,o){return Ac(this,void 0,void 0,function*(){return Dc(e,"POST",t,r,o,n)})}function Rc(e,t,n,r,o){return Ac(this,void 0,void 0,function*(){return Dc(e,"DELETE",t,r,o,n)})}var Lc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const Fc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Cc(r)}uploadOrUpdate(e,t,n,r){return Lc(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Mc),r);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),s&&o.append("metadata",this.encodeMetadata(s)),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),s&&o.append("metadata",this.encodeMetadata(s))):(o=n,a["cache-control"]="max-age=".concat(i.cacheControl),a["content-type"]=i.contentType,s&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===r||void 0===r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:o,headers:a},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(o){if(Ec(o))return{data:null,error:o};throw o}})}upload(e,t,n){return Lc(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Lc(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+"/object/upload/sign/".concat(i));a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Mc.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);const s=yield this.fetch(a.toString(),{method:"PUT",body:e,headers:i}),l=yield s.json();if(s.ok)return{data:{path:o,fullPath:l.Key},error:null};return{data:null,error:l}}catch(s){if(Ec(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return Lc(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const o=yield Oc(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Sc("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(Ec(n))return{data:null,error:n};throw n}})}update(e,t,n){return Lc(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Lc(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ec(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Lc(this,void 0,void 0,function*(){try{return{data:{path:(yield Oc(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ec(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Lc(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Oc(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(i))},{data:o,error:null}}catch(r){if(Ec(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Lc(this,void 0,void 0,function*(){try{const r=yield Oc(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(o)):null})),error:null}}catch(r){if(Ec(r))return{data:null,error:r};throw r}})}download(e,t){return Lc(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),o=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Nc(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(o),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Ec(i))return{data:null,error:i};throw i}})}info(e){return Lc(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Nc(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Pc(e),error:null}}catch(n){if(Ec(n))return{data:null,error:n};throw n}})}exists(e){return Lc(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Ac(this,void 0,void 0,function*(){return Dc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ec(n)&&n instanceof kc){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],o=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==o&&r.push(o);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==a&&r.push(a);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(s))}}}remove(e){return Lc(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ec(t))return{data:null,error:t};throw t}})}list(e,t,n){return Lc(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Fc),t),{prefix:e||""});return{data:yield Oc(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Ec(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Uc={"X-Client-Info":"storage-js/".concat("2.7.1")};var zc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class Vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Uc),t),this.fetch=Cc(n)}listBuckets(){return zc(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Ec(e))return{data:null,error:e};throw e}})}getBucket(e){return zc(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Ec(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return zc(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ec(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return zc(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,o){return Ac(this,void 0,void 0,function*(){return Dc(e,"PUT",t,r,o,n)})}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(Ec(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zc(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Ec(t))return{data:null,error:t};throw t}})}deleteBucket(e){return zc(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Ec(t))return{data:null,error:t};throw t}})}}class qc extends Vc{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Bc(this.url,this.headers,e,this.fetch)}}let Wc="";Wc="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Gc={headers:{"X-Client-Info":"supabase-js-".concat(Wc,"/").concat("2.50.2")}},Hc={schema:"public"},Kc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yc={};var Jc=n(630),$c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const Xc=e=>{let t;return t=e||("undefined"===typeof fetch?Jc.default:fetch),function(){return t(...arguments)}},Qc=(e,t,n)=>{const r=Xc(n),o="undefined"===typeof Headers?Jc.Headers:Headers;return(n,i)=>$c(void 0,void 0,void 0,function*(){var a;const s=null!==(a=yield t())&&void 0!==a?a:e;let l=new o(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var Zc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};const eu="2.70.0",tu=3e4,nu=9e4,ru={"X-Client-Info":"gotrue-js/".concat(eu)},ou="X-Supabase-Api-Version",iu={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},au=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class su extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function lu(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class cu extends su{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class uu extends su{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class du extends su{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class hu extends du{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class fu extends du{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pu extends du{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mu extends du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gu extends du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends du{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function yu(e){return lu(e)&&"AuthRetryableFetchError"===e.name}class bu extends du{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class wu extends du{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=" \t\n\r=".split(""),Eu=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Su.length;t+=1)e[Su[t].charCodeAt(0)]=-2;for(let t=0;t<xu.length;t+=1)e[xu[t].charCodeAt(0)]=t;return e})();function _u(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(xu[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(xu[e]),t.queuedBits-=6}}function ku(e,t,n){const r=Eu[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Tu(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let a=0;a<e.length;a+=1)ku(e.charCodeAt(a),o,i);return t.join("")}function Cu(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Pu(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Cu(r,t)}}function Au(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)ku(e.charCodeAt(o),n,r);return new Uint8Array(t)}function ju(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>_u(e,n,r)),_u(null,n,r),t.join("")}const Iu=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Du={tested:!1,writable:!1},Nu=()=>{if(!Iu())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Du.tested)return Du.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Du.tested=!0,Du.writable=!0}catch(t){Du.tested=!0,Du.writable=!1}return Du.writable};const Ou=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Ru=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Lu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Fu=async(e,t)=>{await e.removeItem(t)};class Mu{constructor(){this.promise=new Mu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Bu(e){const t=e.split(".");if(3!==t.length)throw new wu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!au.test(t[n]))throw new wu("JWT not in base64url format");return{header:JSON.parse(Tu(t[0])),payload:JSON.parse(Tu(t[1])),signature:Au(t[2]),raw:{header:t[0],payload:t[1]}}}function Uu(e){return("0"+e.toString(16)).substr(-2)}async function zu(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Uu).join("")}();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Ru(e,"".concat(t,"-code-verifier"),o);const i=await zu(r);return[i,r===i?"plain":"s256"]}Mu.promiseConstructor=Promise;const qu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Wu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gu(e){if(!Wu.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Hu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Ku=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yu=[502,503,504];async function Ju(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new vu(Ku(e),0);if(Yu.includes(e.status))throw new vu(Ku(e),e.status);let r,o;try{r=await e.json()}catch(a){throw new uu(Ku(a),a)}const i=function(e){const t=e.headers.get(ou);if(!t)return null;if(!t.match(qu))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(a){return null}}(e);if(i&&i.getTime()>=iu.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?o=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(o=r.error_code),o){if("weak_password"===o)throw new bu(Ku(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new hu}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new bu(Ku(r),e.status,r.weak_password.reasons);throw new cu(Ku(r),e.status||500,o)}async function $u(e,t,n,r){var o;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[ou]||(i[ou]=iu.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const a=null!==(o=null===r||void 0===r?void 0:r.query)&&void 0!==o?o:{};(null===r||void 0===r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,n,r,o,i){const a=((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))})(t,r,o,i);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new vu(Ku(l),0)}s.ok||await Ju(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await Ju(l)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Xu(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Qu(e){const t=Xu(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Zu(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ed(e){return{data:e,error:null}}function td(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,a=Hu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},a)},error:null}}function nd(e){return e}const rd=["global","local","others"];var od=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class id{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Ou(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rd[0];if(rd.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(rd.join(", ")));try{return await $u(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(lu(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await $u(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Zu})}catch(n){if(lu(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=od(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await $u(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:td,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(lu(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $u(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Zu})}catch(t){if(lu(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,o,i,a,s;try{const l={nextPage:null,lastPage:0,total:0},c=await $u(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:nd});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(lu(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Gu(e);try{return await $u(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Zu})}catch(t){if(lu(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Gu(e);try{return await $u(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Zu})}catch(n){if(lu(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Gu(e);try{return await $u(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Zu})}catch(n){if(lu(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Gu(e.userId);try{const{data:t,error:n}=await $u(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(lu(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Gu(e.userId),Gu(e.id);try{return{data:await $u(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(lu(t))return{data:null,error:t};throw t}}}const ad={getItem:e=>Nu()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Nu()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Nu()&&globalThis.localStorage.removeItem(e)}};function sd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ld=!!(globalThis&&Nu()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class cd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ud extends cd{}async function dd(e,t,n){ld&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ld&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw ld&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ud('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(ld)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}ld&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ld&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const hd={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ru,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fd(e,t,n){return await n()}class pd{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&Iu()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},hd),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new id({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ou(r.fetch),this.lock=r.lock||fd,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Iu()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=dd:this.lock=fd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Nu()?this.storage=ad:(this.memoryStorage={},this.storage=sd(this.memoryStorage)):(this.memoryStorage={},this.storage=sd(this.memoryStorage)),Iu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(eu,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Iu()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return lu(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return lu(t)?{error:t}:{error:new uu("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const o=await $u(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Xu}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if(lu(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,r;try{let o;if("email"in e){const{email:n,password:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await Vu(this.storage,this.storageKey)),o=await $u(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},xform:Xu})}else{if(!("phone"in e))throw new pu("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;o=await $u(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===a||void 0===a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null===a||void 0===a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Xu})}}const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if(lu(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:o}=e;t=await $u(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Qu})}else{if(!("phone"in e))throw new pu("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:o}=e;t=await $u(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Qu})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new fu}}catch(t){if(lu(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,o,i,a,s,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(Iu())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await $u(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ju(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Xu});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new fu}}catch(m){if(lu(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Lu(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:o}=await $u(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xu});if(await Fu(this.storage,"".concat(this.storageKey,"-code-verifier")),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new fu}}catch(o){if(lu(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:o,nonce:i}=e,a=await $u(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Xu}),{data:s,error:l}=a;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new fu}}catch(t){if(lu(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,o,i;try{if("email"in e){const{email:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await Vu(this.storage,this.storageKey));const{error:s}=await $u(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(n=null===o||void 0===o?void 0:o.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:s}=await $u(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(o=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:s}}throw new pu("You must provide either an email or phone number.")}catch(a){if(lu(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let r,o;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:a}=await $u(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:Xu});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(lu(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let o=null,i=null;return"pkce"===this.flowType&&([o,i]=await Vu(this.storage,this.storageKey)),await $u(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:ed})}catch(o){if(lu(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new hu;const{error:r}=await $u(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(lu(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:o}=e,{error:i}=await $u(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:o}=e,{data:i,error:a}=await $u(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:a}}throw new pu("You must provide either an email or phone number and a type")}catch(t){if(lu(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Lu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<nu;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await $u(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Zu}):await this._useSession(async e=>{var t,n,r;const{data:o,error:i}=e;if(i)throw i;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await $u(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Zu}):{data:{user:null},error:new hu}})}catch(t){if(lu(t))return function(e){return lu(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Fu(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new hu;const i=r.session;let a=null,s=null;"pkce"===this.flowType&&null!=e.email&&([a,s]=await Vu(this.storage,this.storageKey));const{data:l,error:c}=await $u(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:s}),jwt:i.access_token,xform:Zu});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(lu(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hu;const t=Date.now()/1e3;let n=t,r=!0,o=null;const{payload:i}=Bu(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;o={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(lu(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:o}=t;if(o)throw o;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new hu;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(lu(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Iu())throw new mu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new gu("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new mu("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gu("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:s,token_type:l}=e;if(!o||!a||!i||!l)throw new mu("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=tu&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(o);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(lu(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Lu(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{error:o};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return lu(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Fu(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:o}=t;if(o)throw o;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(o){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Vu(this.storage,this.storageKey,!0));try{return await $u(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(lu(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(lu(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,o,i,a;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await $u(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return Iu()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(lu(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:o,error:i}=t;if(i)throw i;return await $u(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(lu(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const o=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await $u(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Xu})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&yu(t)&&Date.now()+n-o<tu},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(o){if(!r(i,o))return void t(o)}})()}))}catch(o){if(this._debug(t,"error",o),lu(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Iu()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Lu(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<nu;if(this._debug(t,"session has".concat(r?"":" not"," expired with margin of ").concat(nu,"s")),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),yu(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new hu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Mu;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new hu;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(o){if(this._debug(r,"error",o),lu(o)){const e={session:null,error:o};return yu(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(o){r.push(o)}});if(await Promise.all(o),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ru(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Fu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Iu()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tu);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/tu);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(tu,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof cd))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Iu()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Vu(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await $u(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(lu(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:o,error:i}=t;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await $u(this.fetch,"POST","".concat(this.url,"/factors"),{body:a,headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})})}catch(t){if(lu(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:a}=await $u(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(t){if(lu(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await $u(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(lu(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),o=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bu(r.access_token);let a=null;i.aal&&(a=i.aal);let s=a;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await $u(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new wu("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find(t=>t.kid===e),!t)throw new wu("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:s}}=Bu(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:o,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,i,function(e){const t=[];return Pu(e,e=>t.push(e)),new Uint8Array(t)}("".concat(a,".").concat(s))))throw new wu("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(n){if(lu(n))return{data:null,error:n};throw n}}}pd.nextInstanceID=0;const md=pd;class gd extends md{constructor(e){super(e)}}var vd=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};class yd{constructor(e,t,n){var r,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:o,auth:i,realtime:a,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>Zc(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Hc,realtime:Yc,auth:Object.assign(Object.assign({},Kc),{storageKey:c}),global:Gc});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(o=u.global.headers)&&void 0!==o?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=Qc(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new zl(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Bl(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qc(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:a,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new gd({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:r,persistSession:o,detectSessionInUrl:i,storage:a,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const bd=((e,t,n)=>new yd(e,t,n))("https://rcyuuoaqfwcembdajcss.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJjeXV1b2FxZndjZW1iZGFqY3NzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMTcwNzUsImV4cCI6MjA2Njg5MzA3NX0.X0Kv_k7VA3SgxquAC1LOwzMwZuzeKtN3W4BOl_AIsRs"),wd=async()=>{console.log("\ud83d\udcca SUPABASE: Fetching all players with scores");try{const{data:e,error:t}=await bd.from("jugadores").select("id, uuid, nombre, foto_url, score").order("nombre",{ascending:!0});if(t)throw console.error("\u274c SUPABASE: Error fetching players:",t),new Error("Error fetching players: ".concat(t.message));return console.log("\u2705 SUPABASE: Players fetched successfully:",{count:(null===e||void 0===e?void 0:e.length)||0,playersWithScores:(null===e||void 0===e?void 0:e.filter(e=>null!==e.score&&void 0!==e.score).length)||0,sample:(null===e||void 0===e?void 0:e.slice(0,3).map(e=>({nombre:e.nombre,uuid:e.uuid,score:e.score})))||[]}),e||[]}catch(e){throw console.error("\u274c SUPABASE: getJugadores failed:",e),e}},xd=async(e,t)=>{let n=e;e.size>1572864&&(console.log("Compressing image:",e.size,"bytes"),n=await function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;return new Promise(n=>{const r=document.createElement("canvas"),o=r.getContext("2d"),i=new Image;i.onload=()=>{const a=800;let{width:s,height:l}=i;s>l&&s>a?(l=l*a/s,s=a):l>a&&(s=s*a/l,l=a),r.width=s,r.height=l,o.drawImage(i,0,0,s,l),r.toBlob(t=>{n(new File([t],e.name,{type:"image/jpeg"}))},"image/jpeg",t)},i.src=URL.createObjectURL(e)})}(e),console.log("Compressed to:",n.size,"bytes"));const r="".concat(t.uuid,"_").concat(Date.now(),".").concat("jpg"),{error:o}=await bd.storage.from("jugadores-fotos").upload(r,n,{upsert:!0});if(o)throw o;const{data:i}=bd.storage.from("jugadores-fotos").getPublicUrl(r),a=null===i||void 0===i?void 0:i.publicUrl;if(!a)throw new Error("No se pudo obtener la URL p\xfablica de la foto.");const{error:s}=await bd.from("jugadores").update({foto_url:a}).eq("uuid",t.uuid);if(s)throw s;return a},Sd=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:{user:t}}=await bd.auth.getUser();if(null!==t&&void 0!==t&&t.id)return t.id;if(e)return(e=>{const t="guest_session_".concat(e);let n=localStorage.getItem(t);return n||(n="guest_".concat(e,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem(t,n)),n})(e);let n=localStorage.getItem("guest_session_id");return n||(n="guest_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("guest_session_id",n)),n},Ed=async e=>{if(!e)return console.warn("getVotantesIds: No partidoId provided"),[];console.log("Fetching voters for match:",e);const{data:t,error:n}=await bd.from("votos").select("votante_id").eq("partido_id",e);if(n)throw console.error("Error fetching voters:",n),new Error("Error fetching voters: ".concat(n.message));const r=Array.from(new Set((t||[]).map(e=>e.votante_id).filter(e=>e))),o=r.filter(e=>!e.startsWith("guest_")),i=r.filter(e=>e.startsWith("guest_"));return console.log("Voters found for match:",{partidoId:e,total:r.length,authenticated:o.length,guests:i.length}),r},_d=async(e,t)=>{if(e||(e=await Sd(t)),!e||!t)return console.warn("checkIfAlreadyVoted: Missing required parameters",{votanteId:e,partidoId:t}),!1;console.log("Checking if user has voted:",{votanteId:e,partidoId:t,isGuest:e.startsWith("guest_")});const{data:n,error:r}=await bd.from("votos").select("id").eq("votante_id",e).eq("partido_id",t).limit(1);if(r)throw console.error("Error checking vote status:",r),new Error("Error checking vote status: ".concat(r.message));const o=n&&n.length>0;return console.log("Vote check result:",{votanteId:e,partidoId:t,hasVoted:o,foundVotes:(null===n||void 0===n?void 0:n.length)||0}),o},kd=async e=>{let{fecha:t,hora:n,sede:r,sedeMaps:o}=e;try{console.log("Creating match with data:",{fecha:t,hora:n,sede:r,sedeMaps:o});const{data:{user:e},error:i}=await bd.auth.getUser();i&&console.warn("Auth error (continuing as guest):",i);const a=Td();console.log("Generated match code:",a);const s={codigo:a,fecha:t,hora:n,sede:r,sedeMaps:o||"",jugadores:[],estado:"activo",creado_por:(null===e||void 0===e?void 0:e.id)||null};console.log("Inserting match data:",s);const{data:l,error:c}=await bd.from("partidos").insert([s]).select().single();if(c){if(console.error("Supabase insert error:",c),console.error("Error details:",{code:c.code,message:c.message,details:c.details,hint:c.hint}),"42501"===c.code)throw new Error("Permission denied. Please check Supabase RLS policies for partidos table.");if("23505"===c.code)throw new Error("Match code already exists. Please try again.");throw new Error("Error creating match: ".concat(c.message))}return console.log("Match created successfully:",l),l}catch(i){throw console.error("crearPartido failed:",i),i}},Td=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(62*Math.random()));return n},Cd=async(e,t)=>{console.log("Updating match players:",{partidoId:e,count:t.length});const{error:n}=await bd.from("partidos").update({jugadores:t}).eq("id",e);if(n)throw n},Pd=async(e,t)=>{const n=c({},t);t.jugadores_frecuentes&&(n.jugadores_frecuentes=t.jugadores_frecuentes.map(e=>({nombre:e.nombre,foto_url:e.foto_url||null,uuid:e.uuid||"player_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))})));const{data:r,error:o}=await bd.from("partidos_frecuentes").update(n).eq("id",e).select().single();if(o)throw new Error("Error updating frequent match: ".concat(o.message));return r},Ad=async(e,t)=>{console.log("Creating/finding match from frequent match:",e,"for date:",t);const{data:n,error:r}=await bd.from("partidos").select("*").eq("fecha",t).eq("sede",e.sede).eq("hora",e.hora).eq("estado","activo");if(r&&console.error("Error searching for existing match:",r),n&&n.length>0){const t=n[0];return console.log("Found existing match:",t.id),t.nombre=e.nombre,t.frequent_match_name=e.nombre,t.from_frequent_match_id=e.id,t}console.log("No existing match found, creating new one");const o=await kd({fecha:t,hora:e.hora,sede:e.sede,sedeMaps:""});o.nombre=e.nombre,o.frequent_match_name=e.nombre,o.from_frequent_match_id=e.id;const i=e.jugadores_frecuentes||[];if(i.length>0){const e=i.map(e=>({nombre:e.nombre,foto_url:e.foto_url||null,uuid:e.uuid||"player_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),score:e.score||5}));console.log("Adding players to new match:",e),await Cd(o.id,e),o.jugadores=e}else o.jugadores=[];return o},jd=async(e,t)=>{const{data:{user:n},error:r}=await bd.auth.getUser();if(r||!n)throw new Error("User must be authenticated to update profile");const o={updated_at:(new Date).toISOString()};void 0!==e&&(o.nombre=e),void 0!==t&&(o.avatar_url=t);const{data:i,error:a}=await bd.from("profiles").update(o).eq("id",n.id).select().single();if(a)throw new Error("Error updating profile: ".concat(a.message));return i},Id=e=>{var t;let{user:n,profile:o,onClose:i,onUpdate:a}=e;const[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;l((null===o||void 0===o?void 0:o.nombre)||(null===n||void 0===n||null===(e=n.user_metadata)||void 0===e?void 0:e.full_name)||"")},[o,n]);const p=(null===o||void 0===o?void 0:o.avatar_url)||(null===n||void 0===n||null===(t=n.user_metadata)||void 0===t?void 0:t.avatar_url)||"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null===n||void 0===n?void 0:n.email);return(0,di.jsx)("div",{className:"modal-overlay",children:(0,di.jsxs)("div",{className:"profile-modal",children:[(0,di.jsxs)("div",{className:"modal-header",children:[(0,di.jsx)("h2",{children:"My Profile"}),(0,di.jsx)("button",{className:"close-btn",onClick:i,children:"\xd7"})]}),(0,di.jsxs)("div",{className:"modal-content",children:[(0,di.jsxs)("div",{className:"avatar-section",children:[(0,di.jsx)("img",{src:p,alt:"Avatar",className:"profile-avatar"}),(0,di.jsx)("button",{className:"change-avatar-btn",onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.click()},disabled:c,children:c?"Uploading...":"Change Photo"}),(0,di.jsx)("input",{ref:f,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>2097152)alert("File size must be less than 2MB");else try{u(!0);const e=await(async(e,t)=>{const n=t.name.split(".").pop(),r="".concat(e,"_").concat(Date.now(),".").concat(n),{error:o}=await bd.storage.from("avatars").upload(r,t,{upsert:!0});if(o)throw o;const{data:i}=bd.storage.from("avatars").getPublicUrl(r);return i.publicUrl})(n.id,t);await jd(void 0,e),await a()}catch(r){alert("Error uploading image")}finally{u(!1)}},style:{display:"none"}})]}),(0,di.jsxs)("div",{className:"form-group",children:[(0,di.jsx)("label",{children:"Display Name"}),(0,di.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),className:"profile-input",placeholder:"Enter your name"})]}),(0,di.jsxs)("div",{className:"form-group",children:[(0,di.jsx)("label",{children:"Email"}),(0,di.jsx)("input",{type:"email",value:(null===n||void 0===n?void 0:n.email)||"",className:"profile-input",disabled:!0})]}),(0,di.jsxs)("div",{className:"modal-actions",children:[(0,di.jsx)("button",{className:"cancel-btn",onClick:i,children:"Cancel"}),(0,di.jsx)("button",{className:"save-btn",onClick:async()=>{try{h(!0),await jd(s,void 0),await a(),i()}catch(e){console.error("Error updating profile:",e),alert("Error updating profile")}finally{h(!1)}},disabled:d,children:d?"Saving...":"Save Changes"})]})]})]})})},Dd=e=>{var t;let{user:n,profile:o,onProfileUpdate:i}=e;const[a,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const d=(null===o||void 0===o?void 0:o.avatar_url)||(null===n||void 0===n||null===(t=n.user_metadata)||void 0===t?void 0:t.avatar_url)||"https://api.dicebear.com/7.x/initials/svg?seed=".concat(null===n||void 0===n?void 0:n.email);return(0,di.jsxs)(di.Fragment,{children:[(0,di.jsx)("div",{className:"user-header",children:(0,di.jsxs)("div",{className:"user-avatar-container",ref:u,children:[(0,di.jsx)("img",{src:d,alt:"Profile",className:"user-avatar",onClick:()=>s(!a)}),a&&(0,di.jsxs)("div",{className:"user-dropdown",children:[(0,di.jsxs)("div",{className:"dropdown-item",onClick:()=>{c(!0),s(!1)},children:[(0,di.jsx)("span",{children:"\ud83d\udc64"}),"My Profile"]}),(0,di.jsx)("div",{className:"dropdown-divider"}),(0,di.jsxs)("div",{className:"dropdown-item logout",onClick:async()=>{await bd.auth.signOut(),s(!1)},children:[(0,di.jsx)("span",{children:"\ud83d\udeaa"}),"Sign Out"]})]})]})}),l&&(0,di.jsx)(Id,{user:n,profile:o,onClose:()=>c(!1),onUpdate:i})]})},Nd=(0,r.createContext)(),Od=e=>{let{children:t}=e;const[n,o]=(0,r.useState)(null),[i,a]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),c=async e=>{if(e)try{const t=await(async e=>{const{data:t,error:n}=await bd.from("profiles").select("*").eq("id",e).single();if(n&&"PGRST116"!==n.code)throw n;return t})(e);a(t)}catch(t){console.error("Error fetching profile:",t),a(null)}else a(null)},u=async()=>{null!==n&&void 0!==n&&n.id&&await c(n.id)};(0,r.useEffect)(()=>{bd.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;o(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null),null!==n&&void 0!==n&&n.user&&c(n.user.id),l(!1)});const{data:{subscription:e}}=bd.auth.onAuthStateChange((e,t)=>{var n;o(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),null!==t&&void 0!==t&&t.user?c(t.user.id):a(null),l(!1)});return()=>e.unsubscribe()},[]);const d={user:n,profile:i,loading:s,refreshProfile:u};return s?(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsx)("div",{className:"voting-modern-card",children:(0,di.jsx)(Pl,{size:"lg",message:"Cargando autenticaci\xf3n..."})})}):(0,di.jsxs)(Nd.Provider,{value:d,children:[n&&(0,di.jsx)(Dd,{user:n,profile:i,onProfileUpdate:u}),t]})};var Rd=n(403);const Ld=(0,Rd.F3)("Share",{web:()=>n.e(851).then(n.bind(n,851)).then(e=>new e.ShareWeb)});var Fd,Md,Bd;!function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(Fd||(Fd={})),function(e){e.Rear="REAR",e.Front="FRONT"}(Md||(Md={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(Bd||(Bd={}));class Ud extends Rd.E_{async getPhoto(e){return new Promise(async(t,n)=>{if(e.webUseInput||e.source===Fd.Photos)this.fileInputExperience(e,t,n);else if(e.source===Fd.Prompt){let r=document.querySelector("pwa-action-sheet");r||(r=document.createElement("pwa-action-sheet"),document.body.appendChild(r)),r.header=e.promptLabelHeader||"Photo",r.cancelable=!1,r.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],r.addEventListener("onSelection",async r=>{0===r.detail?this.fileInputExperience(e,t,n):this.cameraExperience(e,t,n)})}else this.cameraExperience(e,t,n)})}async pickImages(e){return new Promise(async(e,t)=>{this.multipleFileInputExperience(e,t)})}async cameraExperience(e,t,n){if(customElements.get("pwa-camera-modal")){const o=document.createElement("pwa-camera-modal");o.facingMode=e.direction===Md.Front?"user":"environment",document.body.appendChild(o);try{await o.componentOnReady(),o.addEventListener("onPhoto",async r=>{const i=r.detail;null===i?n(new Rd.I9("User cancelled photos app")):i instanceof Error?n(i):t(await this._getCameraPhoto(i,e)),o.dismiss(),document.body.removeChild(o)}),o.present()}catch(r){this.fileInputExperience(e,t,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,n)}fileInputExperience(e,t,n){let r=document.querySelector("#_capacitor-camera-input");const o=()=>{var e;null===(e=r.parentNode)||void 0===e||e.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",n=>{const i=r.files[0];let a="jpeg";if("image/png"===i.type?a="png":"image/gif"===i.type&&(a="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const n=new FileReader;n.addEventListener("load",()=>{if("dataUrl"===e.resultType)t({dataUrl:n.result,format:a});else if("base64"===e.resultType){const e=n.result.split(",")[1];t({base64String:e,format:a})}o()}),n.readAsDataURL(i)}else t({webPath:URL.createObjectURL(i),format:a}),o()}),r.addEventListener("cancel",e=>{n(new Rd.I9("User cancelled photos app")),o()})),r.accept="image/*",r.capture=!0,e.source===Fd.Photos||e.source===Fd.Prompt?r.removeAttribute("capture"):e.direction===Md.Front?r.capture="user":e.direction===Md.Rear&&(r.capture="environment"),r.click()}multipleFileInputExperience(e,t){let n=document.querySelector("#_capacitor-camera-input-multiple");const r=()=>{var e;null===(e=n.parentNode)||void 0===e||e.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",t=>{const o=[];for(let e=0;e<n.files.length;e++){const t=n.files[e];let r="jpeg";"image/png"===t.type?r="png":"image/gif"===t.type&&(r="gif"),o.push({webPath:URL.createObjectURL(t),format:r})}e({photos:o}),r()}),n.addEventListener("cancel",e=>{t(new Rd.I9("User cancelled photos app")),r()})),n.accept="image/*",n.click()}_getCameraPhoto(e,t){return new Promise((n,r)=>{const o=new FileReader,i=e.type.split("/")[1];"uri"===t.resultType?n({webPath:URL.createObjectURL(e),format:i,saved:!1}):(o.readAsDataURL(e),o.onloadend=()=>{const e=o.result;"dataUrl"===t.resultType?n({dataUrl:e,format:i,saved:!1}):n({base64String:e.split(",")[1],format:i,saved:!1})},o.onerror=e=>{r(e)})})}async checkPermissions(){if("undefined"===typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new Ud;const zd=(0,Rd.F3)("Camera",{web:()=>new Ud}),Vd=(0,Rd.F3)("Preferences",{web:()=>n.e(828).then(n.bind(n,828)).then(e=>new e.PreferencesWeb)});const qd=(0,Rd.F3)("Geolocation",{web:()=>n.e(312).then(n.bind(n,312)).then(e=>new e.GeolocationWeb)});!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},void 0===window.Capacitor||e?void 0!==window.cordova&&function(e){e.CapacitorUtils.Synapse=new Proxy({},{get:(t,n)=>e.cordova.plugins[n]})}(window):function(e){e.CapacitorUtils.Synapse=new Proxy({},{get:(t,n)=>new Proxy({},{get:(t,r)=>(t,o,i)=>{const a=e.Capacitor.Plugins[n];void 0!==a?"function"==typeof a[r]?(async()=>{try{const e=await a[r](t);o(e)}catch(e){i(e)}})():i(new Error("Method ".concat(r," not found in Capacitor plugin ").concat(n))):i(new Error("Capacitor plugin ".concat(n," not found")))}})})}(window))}();var Wd=n(830);const Gd=(0,Rd.F3)("Haptics",{web:()=>n.e(182).then(n.bind(n,182)).then(e=>new e.HapticsWeb)}),Hd=(0,Rd.F3)("Network",{web:()=>n.e(268).then(n.bind(n,268)).then(e=>new e.NetworkWeb)}),Kd=(0,Rd.F3)("PushNotifications",{}),Yd=()=>{const[e]=(0,r.useState)(Rd.Ii.isNativePlatform()),[t,n]=(0,r.useState)({connected:!0});(0,r.useEffect)(()=>{e&&(Hd.addListener("networkStatusChange",e=>{n(e)}),o())},[e]);const o=async()=>{try{"granted"===(await Kd.requestPermissions()).receive&&await Kd.register()}catch(e){console.log("Push notifications not available")}};return{isNative:e,networkStatus:t,shareContent:async(e,t,n)=>{try{await Ld.share({title:e,text:t,url:n})}catch(r){navigator.share?await navigator.share({title:e,text:t,url:n}):await navigator.clipboard.writeText(n)}},takePicture:async()=>{try{return(await zd.getPhoto({quality:90,allowEditing:!0,resultType:Bd.DataUrl,source:Fd.Prompt})).dataUrl}catch(e){return console.log("Camera not available"),null}},saveData:async(e,t)=>{try{await Vd.set({key:e,value:JSON.stringify(t)})}catch(n){localStorage.setItem(e,JSON.stringify(t))}},getData:async e=>{try{const{value:t}=await Vd.get({key:e});return t?JSON.parse(t):null}catch(t){const n=localStorage.getItem(e);return n?JSON.parse(n):null}},getCurrentLocation:async()=>{try{return await qd.getCurrentPosition()}catch(e){return console.log("Geolocation not available"),null}},vibrate:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";try{const t="heavy"===e?Wd.k.Heavy:"medium"===e?Wd.k.Medium:Wd.k.Light;await Gd.impact({style:t})}catch(t){navigator.vibrate&&navigator.vibrate("heavy"===e?200:"medium"===e?100:50)}},sendNotification:async(e,t)=>{try{await Kd.schedule({notifications:[{title:e,body:t,id:Date.now(),schedule:{at:new Date(Date.now()+1e3)}}]})}catch(n){"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t})}}}};function Jd(){const{networkStatus:e}=Yd();return e.connected?null:(0,di.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#ff4444",color:"white",padding:"10px",textAlign:"center",zIndex:1e4,fontSize:"14px",fontFamily:"'Oswald', Arial, sans-serif"},children:"\ud83d\udcf6 Sin conexi\xf3n a internet - Algunos datos pueden no estar actualizados"})}const $d=n.p+"static/media/Logo.caa6c0d9880771643ab5.png",Xd=e=>{let{user:t}=e;return t?null:(0,di.jsxs)("button",{onClick:async()=>{const{error:e}=await bd.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});e&&console.error("Error signing in:",e)},className:"google-sign-in-btn",children:[(0,di.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",style:{marginRight:"8px"},children:[(0,di.jsx)("path",{fill:"#4285F4",d:"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z"}),(0,di.jsx)("path",{fill:"#34A853",d:"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2.04a4.8 4.8 0 0 1-7.18-2.53H1.83v2.07A8 8 0 0 0 8.98 17z"}),(0,di.jsx)("path",{fill:"#FBBC05",d:"M4.5 10.49a4.8 4.8 0 0 1 0-3.07V5.35H1.83a8 8 0 0 0 0 7.28l2.67-2.14z"}),(0,di.jsx)("path",{fill:"#EA4335",d:"M8.98 3.58c1.32 0 2.5.45 3.44 1.35l2.54-2.59a8 8 0 0 0-5.98-2.26 8 8 0 0 0-7.15 4.42l2.67 2.14c.63-1.89 2.39-3.06 4.48-3.06z"})]}),"Sign in with Google"]})};function Qd(e){let{onModoSeleccionado:t}=e;const{user:n}=(()=>{const e=(0,r.useContext)(Nd);if(!e)throw new Error("useAuth must be used within AuthProvider");return e})();return(0,di.jsx)("div",{className:"voting-bg home-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("img",{src:$d,alt:"Logo",style:{height:"150px",marginBottom:"20px"}}),(0,di.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",alignItems:"stretch"},children:[(0,di.jsx)("div",{className:"player-select-btn",onClick:()=>t("simple"),children:(0,di.jsx)("span",{className:"player-select-txt",children:"R\xe1pido"})}),(0,di.jsx)("div",{className:"player-select-btn",onClick:()=>t("votacion"),children:(0,di.jsx)("span",{className:"player-select-txt",children:"Participativo"})})]}),(0,di.jsx)(Xd,{user:n})]})})}function Zd(e){let{onAddPlayer:t}=e;const[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)(""),[s,l]=(0,r.useState)("");return(0,di.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!(/^[A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/.test((r=n).trim())&&r.trim().length>0))return void z.warn("Solo se permiten letras y espacios para el nombre.");var r;const c=Number(i);!Number.isFinite(c)||c<1||c>10?z.warn("El puntaje debe ser un n\xfamero entre 1 y 10."):(t({name:n.trim(),score:c,nickname:s.trim()}),o(""),a(""),l(""))},autoComplete:"off",style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,di.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value.replace(/[^A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]/g,"")),placeholder:"Nombre del Jugador",required:!0,maxLength:18,className:"input-modern",style:{height:"48px",fontSize:"1.1rem"}}),(0,di.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Apodo (opcional)",maxLength:16,className:"input-modern",style:{height:"48px",fontSize:"1.1rem"}}),(0,di.jsx)("input",{type:"number",value:i,onChange:e=>a(e.target.value.replace(/[^0-9]/g,"")),min:1,max:10,placeholder:"Puntaje (1-10)",required:!0,maxLength:2,inputMode:"numeric",pattern:"[0-9]*",className:"input-modern",style:{height:"48px",fontSize:"1.1rem"}}),(0,di.jsx)("button",{type:"submit",className:"voting-confirm-btn wipe-btn",style:{background:"rgba(52, 152, 219, 0.5)",minWidth:0,maxWidth:"100%",width:"auto",fontSize:"1.1rem",letterSpacing:0,padding:"10px 8px",whiteSpace:"nowrap",overflow:"auto",textOverflow:"unset",marginTop:"10px",marginBottom:"0"},children:"Agregar Jugador"})]})}const eh=function(e){let{players:t,selectedPlayers:n,onSelectPlayer:r,onDeletePlayer:o}=e;const i=[...t].sort((e,t)=>e.name.localeCompare(t.name));return(0,di.jsxs)("div",{className:"admin-jugadores-col",children:[(0,di.jsxs)("h2",{className:"admin-list-title",children:["Lista de Jugadores (",t.length,")"]}),(0,di.jsx)("div",{className:"player-list-grid",children:i.map((e,t)=>{const i=n.some(t=>t.id===e.id);return(0,di.jsxs)("div",{className:"admin-jugador-box ".concat(i?"votado":""),onClick:()=>r(e),style:{cursor:"pointer"},children:[(0,di.jsx)("span",{className:"admin-jugador-nombre",children:e.name}),(0,di.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"remove-btn",title:"Eliminar",children:"\xd7"})]},e.id||t)})})]})};function th(e){let{player:t,onSave:n,onCancel:o}=e;const[i,a]=(0,r.useState)(t.name||""),[s,l]=(0,r.useState)(t.score||""),[u,d]=(0,r.useState)(t.nickname||"");return(0,di.jsx)("div",{className:"modal-backdrop",onClick:o,children:(0,di.jsx)("div",{className:"voting-modern-card",style:{maxWidth:320,background:"rgba(30, 32, 50, 0.97)",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",borderRadius:18,boxShadow:"0 4px 32px 0 rgba(0,0,0,0.18)",padding:18,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:e=>e.stopPropagation(),children:(0,di.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(/^[A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/.test((r=i).trim())&&r.trim().length>0))return void z.warn("Solo se permiten letras para el nombre.");var r;const o=Number(s);!Number.isFinite(o)||o<1||o>10?z.warn("El puntaje debe ser un n\xfamero entre 1 y 10."):n(c(c({},t),{},{name:i.trim(),score:o,nickname:u.trim()}))},style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,di.jsx)("h2",{className:"voting-title-modern",style:{fontSize:"1.2rem",marginBottom:0,textAlign:"center"},children:"Editar Jugador"}),(0,di.jsx)("input",{className:"input-modern",value:i,onChange:e=>a(e.target.value.replace(/[^A-Za-z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]/g,"")),placeholder:"Nombre",required:!0,style:{height:"44px",fontSize:"1rem",borderRadius:0,width:"180px",marginBottom:6,textAlign:"center"}}),(0,di.jsx)("input",{className:"input-modern",value:u,onChange:e=>d(e.target.value),placeholder:"Apodo (opcional)",style:{height:"44px",fontSize:"1rem",borderRadius:0,width:"180px",marginBottom:6,textAlign:"center"}}),(0,di.jsx)("input",{className:"input-modern",type:"number",value:s,onChange:e=>l(e.target.value),placeholder:"Puntaje (1-10)",required:!0,style:{height:"44px",fontSize:"1rem",borderRadius:0,width:"180px",marginBottom:10,textAlign:"center"}}),(0,di.jsxs)("div",{style:{display:"flex",gap:"8px",width:"180px",justifyContent:"center"},children:[(0,di.jsx)("button",{type:"submit",className:"voting-confirm-btn wipe-btn",style:{flex:1,borderRadius:10,height:"36px",fontSize:"1rem",minWidth:0,margin:0},children:"Guardar"}),(0,di.jsx)("button",{type:"button",onClick:o,className:"voting-confirm-btn wipe-btn",style:{background:"rgba(222, 28, 73, 0.5)",flex:1,borderRadius:10,height:"36px",fontSize:"1rem",minWidth:0,margin:0},children:"Cancelar"})]})]})})})}function nh(e){let{players:t=[],onAdd:n,onDelete:o,playersInList:i=[],onEdit:a,onEditGlobal:s}=e;const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),h=t.filter(e=>(e.name||"").toLowerCase().includes(l.toLowerCase()));return(0,di.jsxs)("div",{children:[(0,di.jsxs)("details",{open:!0,children:[(0,di.jsx)("summary",{className:"admin-list-title",style:{cursor:"pointer",fontWeight:"400"},children:"Jugadores Frecuentes"}),(0,di.jsx)("input",{className:"input-modern",type:"text",placeholder:"Buscar...",value:l,onChange:e=>c(e.target.value),style:{marginBottom:8,width:"100%"}}),(0,di.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:h.map(e=>{const t=i.some(t=>(t.name||"").toLowerCase()===(e.name||"").toLowerCase());return(0,di.jsxs)("li",{className:"admin-jugador-box",style:{padding:"5px"},children:[(0,di.jsx)("span",{className:"admin-jugador-nombre",onClick:()=>d(e),style:{flex:1,cursor:"pointer",textDecoration:"underline"},children:e.name}),(0,di.jsx)("button",{className:"remove-btn",style:{background:t?"#808080":"#25D366",cursor:t?"not-allowed":"pointer"},disabled:t,title:"Agregar a la lista",onClick:()=>n(e),children:"+"}),(0,di.jsx)("button",{className:"remove-btn",title:"Eliminar",onClick:()=>o(e),children:"\xd7"})]},e.id)})})]}),u&&(0,di.jsx)(th,{player:u,onSave:e=>{const n=t.map(t=>t.id===e.id?e:t);a(n),"function"===typeof s&&s(e),d(null)},onCancel:()=>d(null)})]})}class rh extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Rr(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oh(e){let{children:t,isPresent:n,anchorX:o}=e;const i=(0,r.useId)(),a=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,r.useContext)(ts);return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:c,right:u}=s.current;if(n||!a.current||!e||!t)return;const d="left"===o?"left: ".concat(c):"right: ".concat(u);a.current.dataset.motionPopId=i;const h=document.createElement("style");return l&&(h.nonce=l),document.head.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[n]),(0,di.jsx)(rh,{isPresent:n,childRef:a,sizeRef:s,children:r.cloneElement(t,{ref:a})})}const ih=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:i,custom:a,presenceAffectsLayout:s,mode:l,anchorX:u}=e;const d=Vs(ah),h=(0,r.useId)();let f=!0,p=(0,r.useMemo)(()=>(f=!1,{id:h,initial:n,isPresent:o,custom:a,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;i&&i()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[o,d,i]);return s&&f&&(p=c({},p)),(0,r.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[o]),r.useEffect(()=>{!o&&!d.size&&i&&i()},[o]),"popLayout"===l&&(t=(0,di.jsx)(oh,{isPresent:o,anchorX:u,children:t})),(0,di.jsx)(pi.Provider,{value:p,children:t})};function ah(){return new Map}const sh=e=>e.key||"";function lh(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}const ch=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:c="left"}=e;const[u,d]=mi(l),h=(0,r.useMemo)(()=>lh(t),[t]),f=l&&!u?[]:h.map(sh),p=(0,r.useRef)(!0),m=(0,r.useRef)(h),g=Vs(()=>new Map),[v,y]=(0,r.useState)(h),[b,w]=(0,r.useState)(h);hs(()=>{p.current=!1,m.current=h;for(let e=0;e<b.length;e++){const t=sh(b[e]);f.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[b,f.length,f.join("-")]);const x=[];if(h!==v){let e=[...h];for(let t=0;t<b.length;t++){const n=b[t],r=sh(n);f.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===s&&x.length&&(e=x),w(lh(e)),y(h),null}const{forceRender:S}=(0,r.useContext)(gi);return(0,di.jsx)(di.Fragment,{children:b.map(e=>{const t=sh(e),r=!(l&&!u)&&(h===b||f.includes(t));return(0,di.jsx)(ih,{isPresent:r,initial:!(p.current&&!o)&&void 0,custom:n,presenceAffectsLayout:a,mode:s,onExitComplete:r?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null===S||void 0===S||S(),w(m.current),l&&(null===d||void 0===d||d()),i&&i())},anchorX:c,children:e},t)})})},uh=e=>{let{size:t=we.WHATSAPP_ICON_SIZE,style:n={}}=e;return(0,di.jsx)("svg",{width:t,height:t,viewBox:"0 0 360 362",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:c({display:"inline-block",verticalAlign:"middle"},n),children:(0,di.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M307.546 52.5655C273.709 18.685 228.706 0.0171895 180.756 0C81.951 0 1.53846 80.404 1.50408 179.235C1.48689 210.829 9.74646 241.667 25.4319 268.844L0 361.736L95.0236 336.811C121.203 351.096 150.683 358.616 180.679 358.625H180.756C279.544 358.625 359.966 278.212 360 179.381C360.017 131.483 341.392 86.4547 307.546 52.5741V52.5655ZM180.756 328.354H180.696C153.966 328.346 127.744 321.16 104.865 307.589L99.4242 304.358L43.034 319.149L58.0834 264.168L54.5423 258.53C39.6304 234.809 31.749 207.391 31.7662 179.244C31.8006 97.1036 98.6334 30.2707 180.817 30.2707C220.61 30.2879 258.015 45.8015 286.145 73.9665C314.276 102.123 329.755 139.562 329.738 179.364C329.703 261.513 262.871 328.346 180.756 328.346V328.354ZM262.475 216.777C257.997 214.534 235.978 203.704 231.869 202.209C227.761 200.713 224.779 199.966 221.796 204.452C218.814 208.939 210.228 219.029 207.615 222.011C205.002 225.002 202.389 225.372 197.911 223.128C193.434 220.885 179.003 216.158 161.891 200.902C148.578 189.024 139.587 174.362 136.975 169.875C134.362 165.389 136.7 162.965 138.934 160.739C140.945 158.728 143.412 155.505 145.655 152.892C147.899 150.279 148.638 148.406 150.133 145.423C151.629 142.432 150.881 139.82 149.764 137.576C148.646 135.333 139.691 113.287 135.952 104.323C132.316 95.5909 128.621 96.777 125.879 96.6309C123.266 96.5019 120.284 96.4762 117.293 96.4762C114.302 96.4762 109.454 97.5935 105.346 102.08C101.238 106.566 89.6691 117.404 89.6691 139.441C89.6691 161.478 105.716 182.785 107.959 185.776C110.202 188.767 139.544 234.001 184.469 253.408C195.153 258.023 203.498 260.782 210.004 262.845C220.731 266.257 230.494 265.776 238.212 264.624C246.816 263.335 264.71 253.786 268.44 243.326C272.17 232.866 272.17 223.893 271.053 222.028C269.936 220.163 266.945 219.037 262.467 216.794L262.475 216.777Z",fill:"white"})})};var dh,hh,fh=n(47);function ph(e,t){return e+Math.random()*(t-e)}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(dh||(dh={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(hh||(hh={}));const mh=1e3/60;class gh{constructor(e,t,n,r){this.getOptions=t;const{colors:o,initialVelocityX:i,initialVelocityY:a}=this.getOptions();var s,l;this.context=e,this.x=n,this.y=r,this.w=ph(5,20),this.h=ph(5,20),this.radius=ph(5,10),this.vx="number"===typeof i?ph(-i,i):ph(i.min,i.max),this.vy="number"===typeof a?ph(-a,0):ph(a.min,a.max),this.shape=(s=0,l=2,Math.floor(s+Math.random()*(l-s+1))),this.angle=function(e){return e*Math.PI/180}(ph(0,360)),this.angularSpin=ph(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=ph(0,1),this.rotationDirection=ph(0,1)?hh.Positive:hh.Negative}update(e){const{gravity:t,wind:n,friction:r,opacity:o,drawShape:i}=this.getOptions(),a=e/mh;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=t*a,this.vx+=n*a,this.vx*=r**a,this.vy*=r**a,this.rotateY>=1&&this.rotationDirection===hh.Positive?this.rotationDirection=hh.Negative:this.rotateY<=-1&&this.rotationDirection===hh.Negative&&(this.rotationDirection=hh.Positive);const s=.1*this.rotationDirection*a;if(this.rotateY+=s,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,i&&"function"===typeof i)i.call(this,this.context);else switch(this.shape){case dh.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case dh.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case dh.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}class vh{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=e=>{this.particles.splice(e,1)},this.getParticle=()=>{const e=ph(this.x,this.w+this.x),t=ph(this.y,this.h+this.y);return new gh(this.context,this.getOptions,e,t)},this.animate=e=>{const{canvas:t,context:n,particlesGenerated:r,lastNumberOfPieces:o}=this,{run:i,recycle:a,numberOfPieces:s,debug:l,tweenFunction:c,tweenDuration:u}=this.getOptions();if(!i)return!1;const d=this.particles.length,h=a?d:r;if(h<s){o!==s&&(this.tweenProgress=0,this.tweenFrom=h,this.lastNumberOfPieces=s),this.tweenProgress=Math.min(u,Math.max(0,this.tweenProgress+e));const t=c(this.tweenProgress,this.tweenFrom,s,u),n=Math.round(t-h);for(let e=0;e<n;e++)this.particles.push(this.getParticle());this.particlesGenerated+=n}l&&(n.font="12px sans-serif",n.fillStyle="#333",n.textAlign="right",n.fillText("Particles: ".concat(d),t.width-10,t.height-20));for(let f=this.particles.length-1;f>=0;f--){const n=this.particles[f];n.update(e),(n.y>t.height||n.y<-100||n.x>t.width+100||n.x<-100)&&(a&&h<=s?this.particles[f]=this.getParticle():this.removeParticleAt(f))}return d>0||h<s},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=t}}const yh={width:"undefined"!==typeof window?window.innerWidth:300,height:"undefined"!==typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:fh.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class bh{constructor(e,t){var n=this;this.lastFrameTime=0,this.setOptionsWithDefaults=e=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options=c(c(c({},t),yh),e),Object.assign(this,e.confettiSource)},this.update=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{options:{run:t,onConfettiComplete:r,frameRate:o},canvas:i,context:a}=n,s=Math.min(e-n.lastFrameTime,50);o&&s<1e3/o?n.rafId=requestAnimationFrame(n.update):(n.lastFrameTime=e-(o?s%o:0),t&&(a.fillStyle="white",a.clearRect(0,0,i.width,i.height)),n.generator.animate(s)?n.rafId=requestAnimationFrame(n.update):(r&&"function"===typeof r&&n.generator.particlesGenerated>0&&r.call(n,n),n._options.run=!1))},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new vh(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var t,n;const r=null===(t=this._options)||void 0===t?void 0:t.run,o=null===(n=this._options)||void 0===n?void 0:n.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"===typeof e.recycle&&e.recycle&&!1===o&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"===typeof e.run&&e.run&&!1===r&&this.update()}}const wh=r.createRef();class xh extends r.Component{constructor(e){super(e),this.canvas=r.createRef(),this.canvas=e.canvasRef||wh}componentDidMount(){if(this.canvas.current){const e=Sh(this.props)[0];this.confetti=new bh(this.canvas.current,e)}}componentDidUpdate(){const e=Sh(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=Sh(this.props),n=c({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},t.style);return(0,di.jsx)("canvas",c(c({width:e.width,height:e.height,ref:this.canvas},t),{},{style:n}))}}function Sh(e){const t={},n={},r=[...Object.keys(yh),"confettiSource","drawShape","onConfettiComplete","frameRate"],o=["canvasRef"];for(const i in e){const a=e[i];r.includes(i)?t[i]=a:o.includes(i)?o[i]=a:n[i]=a}return[t,n,{}]}xh.defaultProps=c({},yh),xh.displayName="ReactConfetti";const Eh=r.forwardRef((e,t)=>(0,di.jsx)(xh,c({canvasRef:t},e)));function _h(){return"_"+Math.random().toString(36).substr(2,9)}function kh(e){var t,n,r,o;return e?{name:(e.name||e.nombre||"").trim(),score:Math.max(1,null!==(t=null!==(n=+e.score)&&void 0!==n?n:+e.puntaje)&&void 0!==t?t:1),nickname:null!==(r=e.nickname)&&void 0!==r?r:"",foto:null!==(o=e.foto)&&void 0!==o?o:null,id:e.id||_h()}:{name:"",score:1,nickname:"",foto:null,id:_h()}}let Th={};function Ch(e,t,n,r){const o=e=>e.map(e=>e.id).sort().join(",");return o(e)===o(n)&&o(t)===o(r)||o(e)===o(r)&&o(t)===o(n)}function Ph(e,t,n){var r,o;if(!e.length)return[[],[]];const i=new Set,a=e.filter(e=>!i.has(e.id)&&(i.add(e.id),!0)),s=(null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.filter(e=>t[e.id]))||[],l=(null===n||void 0===n||null===(o=n[1])||void 0===o?void 0:o.filter(e=>t[e.id]))||[],c=new Set([...s.map(e=>e.id),...l.map(e=>e.id)]),u=a.filter(e=>!c.has(e.id)),d=s.length+l.length+u.length,h=Math.ceil(d/2),f=d-h;if(s.length>h||l.length>f)return z.error("Hay m\xe1s jugadores lockeados que lugares disponibles en un equipo. Revis\xe1 los candados."),[[],[]];if(0===s.length&&0===l.length&&u.length%2===0){const e=u.map(e=>e.id).sort().join("-");return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=e.length,o=r/2;if(r>14){let r=0,i=[],a=[],s=1/0,l=Th[n]||null;for(;r<5e4;){r++;const n=Ah(e),c=n.slice(0,o),u=n.slice(o);if(l&&Ch(c,u,l[0],l[1]))continue;const d=c.reduce((e,t)=>e+(+t.score||0),0),h=u.reduce((e,t)=>e+(+t.score||0),0),f=Math.abs(d-h);if(f<s){if(s=f,i=c,a=u,0===f)break;if(s<=t)break}}return Th[n]=[i,a],[i,a]}let i=1/0,a=[],s=Th[n]||null;if(function e(n,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(l.length===r){const e=l,r=new Set(e.map(e=>e.id)),o=n.filter(e=>!r.has(e.id));if(s&&Ch(e,o,s[0],s[1]))return;const c=e.reduce((e,t)=>e+(+t.score||0),0),u=o.reduce((e,t)=>e+(+t.score||0),0),d=Math.abs(c-u);return d<=t&&a.push({teamA:e,teamB:o,diff:d}),void(d<i&&(i=d))}for(let t=o;t<=n.length-(r-l.length);t++)e(n,r,t+1,l.concat(n[t]))}(e,o),a.length>0){const e=a[Math.floor(Math.random()*a.length)];return Th[n]=[e.teamA,e.teamB],[e.teamA,e.teamB]}{let t=Ah(e);return[t.slice(0,o),t.slice(o)]}}(u,5,e)}const p=h-s.length,m=f-l.length;let g=Ah(u),v=[...s,...g.slice(0,p)],y=[...l,...g.slice(p,p+m)];for(;v.length<h&&g.length;)v.push(g.pop());for(;y.length<f&&g.length;)y.push(g.pop());return[v,y]}function Ah(e){const t=e.slice();for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}function jh(e){if(!e.length)return null;const t=Math.max(...e.map(e=>+e.score||0)),n=e.filter(e=>(+e.score||0)===t);return n.length?n[Math.floor(Math.random()*n.length)]:null}function Ih(e){const t=jh(e);if(!t)return e;const n=e.findIndex(e=>e.id===t.id);if(n>0){const r=e.slice();return r.splice(n,1),r.unshift(t),r}return e}const Dh={players:[],selectedPlayers:[],teams:[[],[]],frequentPlayers:[],teamNames:["",""],lockedPlayers:{},prevPlayerNames:[],showConfetti:!1,editingTeamName:null};function Nh(e,t){switch(t.type){case"INITIALIZE_STATE":return c(c({},e),{},{players:(JSON.parse(localStorage.getItem("players"))||[]).map(kh),frequentPlayers:(JSON.parse(localStorage.getItem("frequentPlayers"))||[]).map(kh)});case"ADD_PLAYER":{const n=kh(t.payload);if(e.players.some(e=>e.name.toLowerCase()===n.name.toLowerCase()))return z.warn('El jugador "'.concat(n.name,'" ya est\xe1 en la lista.')),e;const r=[...e.players,n],o=e.frequentPlayers.find(e=>(e.name||"").toLowerCase()===n.name.toLowerCase())?e.frequentPlayers.map(e=>(e.name||"").toLowerCase()===n.name.toLowerCase()?c(c({},e),{},{score:n.score,nickname:n.nickname,foto:n.foto}):e):[...e.frequentPlayers,n];return c(c({},e),{},{players:r,frequentPlayers:o})}case"DELETE_PLAYER":{const n=t.payload;return c(c({},e),{},{players:e.players.filter(e=>e.id!==n.id),selectedPlayers:e.selectedPlayers.filter(e=>e.id!==n.id)})}case"SELECT_PLAYER":{const n=t.payload,r=e.selectedPlayers.some(e=>e.id===n.id);return c(c({},e),{},{selectedPlayers:r?e.selectedPlayers.filter(e=>e.id!==n.id):[...e.selectedPlayers,n]})}case"SELECT_ALL":return c(c({},e),{},{selectedPlayers:e.players});case"CLEAR_SELECTED":return c(c({},e),{},{players:e.players.filter(t=>!e.selectedPlayers.some(e=>e.id===t.id)),selectedPlayers:[],teams:[[],[]],lockedPlayers:{}});case"DELETE_FREQUENT_PLAYER":return c(c({},e),{},{frequentPlayers:e.frequentPlayers.filter(e=>e.id!==t.payload.id)});case"EDIT_FREQUENT":return c(c({},e),{},{frequentPlayers:t.payload.map(kh)});case"EDIT_FREQUENT_GLOBAL":{const n=t.payload;return c(c({},e),{},{players:e.players.map(e=>e.id===n.id?c(c({},e),n):e)})}case"GENERATE_TEAMS":{if(e.selectedPlayers.length<2)return z.warn("Seleccion\xe1 al menos 2 jugadores."),e;if(e.selectedPlayers.length%2!==0)return z.warn("La cantidad de jugadores seleccionados debe ser PAR."),e;let[t,n]=Ph(e.selectedPlayers,e.lockedPlayers,e.teams);const r=[...t.map(e=>e.id),...n.map(e=>e.id)];if(new Set(r).size!==r.length)return z.error("Hay jugadores repetidos en ambos equipos. Intentalo de nuevo."),e;t=Ih(t),n=Ih(n);const o=e.selectedPlayers.map(e=>e.id).sort(),i=o.length!==e.prevPlayerNames.length||o.some((t,n)=>t!==e.prevPlayerNames[n]);return c(c({},e),{},{teams:[t,n],showConfetti:i,prevPlayerNames:i?o:e.prevPlayerNames})}case"HIDE_CONFETTI":return c(c({},e),{},{showConfetti:!1});case"TOGGLE_LOCK":{const n=t.payload.id;return c(c({},e),{},{lockedPlayers:c(c({},e.lockedPlayers),{},{[n]:!e.lockedPlayers[n]})})}case"SET_TEAM_NAME":{const{index:n,value:r}=t.payload,o=[...e.teamNames];return o[n]=r,c(c({},e),{},{teamNames:o})}case"START_EDITING_TEAM_NAME":return c(c({},e),{},{editingTeamName:t.payload});case"STOP_EDITING_TEAM_NAME":return c(c({},e),{},{editingTeamName:null});default:return e}}const Oh=function(e){let{onBack:t}=e;const[n,o]=(0,r.useReducer)(Nh,Dh),{players:i,selectedPlayers:a,teams:s,frequentPlayers:l,teamNames:c,lockedPlayers:u,showConfetti:d,editingTeamName:h}=n,[f,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o({type:"INITIALIZE_STATE"}),p(!0)},[]),(0,r.useEffect)(()=>{i.length>0&&localStorage.setItem("players",JSON.stringify(i))},[i]),(0,r.useEffect)(()=>{l.length>0&&localStorage.setItem("frequentPlayers",JSON.stringify(l))},[l]),(0,r.useEffect)(()=>{if(d){const e=setTimeout(()=>o({type:"HIDE_CONFETTI"}),4e3);return()=>clearTimeout(e)}},[d]);const m=()=>o({type:"GENERATE_TEAMS"}),g=e=>o({type:"ADD_PLAYER",payload:e}),v=()=>o({type:"STOP_EDITING_TEAM_NAME"}),y=()=>{v()};return(0,di.jsxs)("div",{className:"voting-bg",children:[f&&d&&(0,di.jsx)(Eh,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:500,gravity:.59,recycle:!1}),(0,di.jsxs)("div",{className:"voting-modern-card",style:{maxWidth:"1200px",padding:"30px"},children:[(0,di.jsx)("div",{className:"match-name",children:"Modo R\xe1pido"}),(0,di.jsxs)("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"340px 1fr 340px",gap:"20px",alignItems:"stretch"},children:[(0,di.jsx)("aside",{children:(0,di.jsx)("div",{className:"dark-container",children:(0,di.jsx)(nh,{players:l,onAdd:g,onDelete:e=>o({type:"DELETE_FREQUENT_PLAYER",payload:e}),playersInList:i,onEdit:e=>o({type:"EDIT_FREQUENT",payload:e}),onEditGlobal:e=>o({type:"EDIT_FREQUENT_GLOBAL",payload:e})})})}),(0,di.jsxs)("main",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,di.jsxs)("div",{className:"dark-container",children:[(0,di.jsx)("h2",{className:"admin-list-title",children:"INGRESA TUS JUGADORES"}),(0,di.jsx)(Zd,{onAddPlayer:g})]}),0===s[0].length&&(0,di.jsx)("button",{onClick:m,className:"voting-confirm-btn wipe-btn",disabled:a.length<2||a.length%2!==0,style:{width:"100%",padding:"15px 0",fontSize:"1.5rem",background:"rgba(37, 211, 102, 0.5)",marginTop:"15px"},children:"Generar Equipos"})]}),(0,di.jsxs)("aside",{children:[(0,di.jsx)("div",{className:"dark-container",children:(0,di.jsx)(eh,{players:i,selectedPlayers:a,onSelectPlayer:e=>o({type:"SELECT_PLAYER",payload:e}),onDeletePlayer:e=>o({type:"DELETE_PLAYER",payload:e})})}),(0,di.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"8px"},children:[(0,di.jsx)("button",{onClick:()=>o({type:"SELECT_ALL"}),className:"voting-confirm-btn wipe-btn",style:{background:"rgba(255, 193, 7, 0.7)",width:"100%",fontSize:"1.1rem",letterSpacing:0,padding:"10px 8px",marginTop:"0"},children:"Seleccionar Todos"}),(0,di.jsx)("button",{onClick:()=>o({type:"CLEAR_SELECTED"}),className:"voting-confirm-btn wipe-btn",style:{background:"rgba(222, 28, 73, 0.5)",width:"100%",fontSize:"1.1rem",letterSpacing:0,padding:"10px 8px",marginTop:"0"},children:"Borrar Seleccionados"})]})]})]}),(0,di.jsxs)("div",{style:{marginTop:"10px",gridColumn:"1 / -1",width:"100%"},children:[(0,di.jsx)("div",{className:"team-list-grid",children:(0,di.jsx)(ch,{children:s.map((e,t)=>{const n=e.reduce((e,t)=>e+(+t.score||0),0),r=jh(e);return(0,di.jsxs)(Cl.div,{className:"admin-jugadores-col",style:{flex:1,background:"rgba(0,0,0,0.1)",padding:"15px",borderRadius:"8px",display:"flex",flexDirection:"column"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[h===t?(0,di.jsx)("input",{type:"text",value:c[t],onChange:e=>{return n=t,r=e.target.value,o({type:"SET_TEAM_NAME",payload:{index:n,value:r}});var n,r},onKeyDown:e=>(e=>{"Enter"===e.key&&v()})(e),onBlur:y,className:"input-modern",style:{textAlign:"center",fontSize:"1.2rem",marginBottom:"15px",background:"rgba(255,255,255,0.1)",color:"#fff",border:"1px solid rgba(255,255,255,0.3)"},placeholder:"Equipo ".concat(String.fromCharCode(65+t)),autoFocus:!0}):(0,di.jsx)("h2",{className:"admin-list-title",style:{color:"#fff",textAlign:"center",cursor:"pointer"},onClick:()=>o({type:"START_EDITING_TEAM_NAME",payload:t}),children:c[t]||"Equipo ".concat(String.fromCharCode(65+t))}),(0,di.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0,flexGrow:1},children:e.map((e,t)=>(0,di.jsxs)("li",{className:"team-player-row admin-jugador-box",style:{borderColor:e.id===(null===r||void 0===r?void 0:r.id)?"#FFD700":"transparent"},children:[(0,di.jsxs)("span",{className:"admin-jugador-nombre",children:[e.name,e.id===(null===r||void 0===r?void 0:r.id)?" (C)":""]}),(0,di.jsx)(Cl.button,{className:"lock-player-button",onClick:()=>o({type:"TOGGLE_LOCK",payload:e}),animate:{scale:u[e.id]?1.2:1},children:u[e.id]?"\ud83d\udd12":"\ud83d\udd13"})]},e.id+t))}),(0,di.jsx)("div",{className:"team-score-container",children:(0,di.jsx)("span",{className:"team-score-value",children:n})})]},t)})})}),s[0].length>0&&(0,di.jsxs)(di.Fragment,{children:[(0,di.jsx)("button",{onClick:m,className:"voting-confirm-btn wipe-btn",disabled:a.length<2||a.length%2!==0,style:{width:"100%",padding:"15px 0",fontSize:"1.5rem",background:"rgba(37, 211, 102, 0.5)",marginTop:"10px"},children:"Volver a Generar"}),(0,di.jsxs)("button",{className:"voting-confirm-btn wipe-btn",onClick:()=>{if(s.every(e=>0===e.length))return void z.info("No hay equipos para compartir");const e=s.map((e,t)=>"".concat(c[t]||"Equipo ".concat(t+1),":\n")+e.map(t=>{var n;const r=t.id===(null===(n=jh(e))||void 0===n?void 0:n.id);return"".concat(t.name).concat(r?" (C)":"")}).join("\n")).join("\n\n"),t="https://wa.me/?text=".concat(encodeURIComponent(e));window.open(t,"_blank")},style:{background:"rgba(37, 211, 102, 0.7)",width:"100%",marginTop:"10px",fontSize:"1.1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[(0,di.jsx)(uh,{}),"Compartir Equipos"]})]})]}),(0,di.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:38,gridColumn:"1 / -1"},children:(0,di.jsx)("button",{onClick:()=>{localStorage.setItem("players",JSON.stringify(i)),t()},className:"voting-confirm-btn wipe-btn",style:{width:"100%",fontSize:"1.5rem"},children:"Volver al inicio"})})]})]})},Rh=r.memo(e=>{let{value:t,onRate:n}=e;return(0,di.jsx)("div",{className:"star-rating",children:he.map(e=>(0,di.jsx)("button",{className:"star-button ".concat(t===e?"active":""),onClick:()=>n(e),"aria-label":"Rate ".concat(e," out of 10"),children:e},e))})});Rh.displayName="StarRating";const Lh=Rh;function Fh(e){let{onPhotoTaken:t,children:n}=e;const{takePicture:r,vibrate:o}=Yd();return(0,di.jsx)("button",{onClick:async()=>{try{await o("light");const e=await r();e&&t(e)}catch(e){console.error("Error taking photo:",e)}},style:{background:"none",border:"none",padding:0,cursor:"pointer"},children:n})}const Mh=(0,di.jsx)("div",{className:"voting-photo-placeholder",children:(0,di.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 38 38",fill:"none",children:[(0,di.jsx)("rect",{width:"38",height:"38",rx:"6",fill:"#eceaf1"}),(0,di.jsx)("circle",{cx:"19",cy:"14",r:"7",fill:"#bbb"}),(0,di.jsx)("ellipse",{cx:"19",cy:"29",rx:"11",ry:"7",fill:"#bbb"})]})});function Bh(e){let{onReset:t,jugadores:n,partidoActual:o}=e;var i;i=null===o||void 0===o?void 0:o.id,(0,r.useEffect)(()=>{i&&Sd(i).then(e=>{console.log("Guest session initialized:",{partidoId:i,userId:e,isGuest:e.startsWith("guest_")})}).catch(e=>{console.error("Error initializing guest session:",e)})},[i]);const{vibrate:a,takePicture:s,saveData:l,getData:u}=Yd(),[d,h]=(0,r.useState)(re),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(!1),[E,_]=(0,r.useState)(0),[k,T]=(0,r.useState)({}),[C,P]=(0,r.useState)(null),[A,j]=(0,r.useState)("slide-in"),[I,D]=(0,r.useState)(null),[N,O]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),[F,M]=(0,r.useState)(!1),B=(n||[]).filter(e=>e.nombre!==f);if((0,r.useEffect)(()=>{2===d&&E>B.length-1&&_(B.length-1)},[B.length,d,E]),(0,r.useEffect)(()=>{3===d&&Object.keys(k).length<B.length&&(_(Object.keys(k).length),h(2))},[B.length,k,d]),(0,r.useEffect)(()=>{if(!f)return;const e=(n||[]).find(e=>e.nombre===f);g(e||null),w((null===e||void 0===e?void 0:e.foto_url)||null)},[f,n]),(0,r.useEffect)(()=>{!async function(){if(null!==o&&void 0!==o&&o.id)try{const e=await _d(null,o.id);console.log("Vote status check result:",{partidoId:o.id,hasVoted:e}),M(e)}catch(e){console.error("Error checking vote status:",e),M(!1)}}()},[o,R]),void 0===o)return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"CARGANDO..."}),(0,di.jsx)("div",{style:{color:"#fff",fontSize:18,fontFamily:"'Oswald', Arial, sans-serif",marginBottom:30,textAlign:"center"},children:"Cargando informaci\xf3n del partido..."})]})});if(null===o)return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"ERROR"}),(0,di.jsxs)("div",{style:{color:"#fff",fontSize:18,fontFamily:"'Oswald', Arial, sans-serif",marginBottom:30,textAlign:"center"},children:["No se pudo cargar la informaci\xf3n del partido.",(0,di.jsx)("br",{}),"Verific\xe1 el c\xf3digo e intent\xe1 de nuevo."]}),(0,di.jsx)("button",{className:"voting-confirm-btn",onClick:()=>window.location.reload(),style:{marginTop:16,width:"100%",fontSize:"1.5rem"},children:"REINTENTAR"})]})});if(!o.id)return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"ERROR"}),(0,di.jsxs)("div",{style:{color:"#fff",fontSize:18,fontFamily:"'Oswald', Arial, sans-serif",marginBottom:30,textAlign:"center"},children:["El partido no tiene un ID v\xe1lido.",(0,di.jsx)("br",{}),"Contact\xe1 al administrador."]})]})});if(F)return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"\xa1YA VOTASTE!"}),(0,di.jsxs)("div",{style:{color:"#fff",fontSize:26,fontFamily:"'Oswald', Arial, sans-serif",marginBottom:30},children:["Ya registraste tus votos. ",(0,di.jsx)("br",{}),"No pod\xe9s votar de nuevo."]}),(0,di.jsx)("button",{className:"voting-confirm-btn",onClick:t,style:{marginTop:16,width:"100%",fontSize:"1.5rem"},children:"VOLVER AL INICIO"})]})});if(d===re)return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"\xbfQUI\xc9N SOS?"}),(0,di.jsx)("div",{className:"player-select-grid",children:(n||[]).map(e=>(0,di.jsx)("button",{className:"player-select-btn".concat(f===e.nombre?" selected":""),onClick:()=>p(e.nombre),type:"button",children:(0,di.jsx)("span",{className:"player-select-txt",children:e.nombre})},e.uuid))}),(!n||0===n.length)&&(0,di.jsx)("div",{style:{color:"#fff",fontSize:18,fontFamily:"'Oswald', Arial, sans-serif",marginBottom:30,textAlign:"center"},children:"No hay jugadores disponibles para este partido."}),(0,di.jsx)("button",{className:"voting-confirm-btn",disabled:!f,style:{opacity:f?1:.4,pointerEvents:f?"auto":"none"},onClick:()=>h(oe),children:"CONFIRMAR"})]})});if(d===oe){const e=async e=>{if(e.target.files&&e.target.files[0]){const n=e.target.files[0];if(y(n),w(URL.createObjectURL(n)),m){S(!0);try{const e=await xd(n,m);w(e),g(t=>c(c({},t),{},{foto_url:e})),y(null),z.success("\xa1Foto cargada!")}catch(t){z.error("Error al subir la foto: "+t.message)}finally{S(!1)}}}};return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsxs)("div",{className:"match-name",children:["\xa1HOLA, ",f,"!"]}),(0,di.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:18},children:[(0,di.jsx)(Fh,{onPhotoTaken:async e=>{if(m){S(!0);try{const t=await fetch(e),n=await t.blob(),r=new File([n],"photo.jpg",{type:"image/jpeg"}),o=await xd(r,m);w(o),g(e=>c(c({},e),{},{foto_url:o})),z.success("\xa1Foto cargada!")}catch(t){z.error("Error al subir la foto: "+t.message)}finally{S(!1)}}},children:(0,di.jsx)("div",{className:"voting-photo-box",style:{cursor:"pointer"},title:b?"Cambiar foto":"Agregar foto",children:b?(0,di.jsx)("img",{src:b,alt:"foto",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,di.jsx)("span",{className:"photo-plus",children:"\ud83d\udcf7"})})}),(0,di.jsxs)("div",{className:"voting-photo-box",onClick:()=>document.getElementById("foto-input").click(),style:{cursor:"pointer",marginTop:10},title:"Subir desde galer\xeda",children:[(0,di.jsx)("span",{className:"photo-plus",children:"\ud83d\udcc1"}),(0,di.jsx)("input",{id:"foto-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e})]})]}),!b&&(0,di.jsxs)("div",{style:{fontSize:18,color:"rgba(255,255,255,0.7)",textAlign:"center",marginBottom:18,fontFamily:"'Oswald', Arial, sans-serif"},children:["Mandale Selfie, asi saben quien sos.",(0,di.jsx)("br",{})]}),x&&(0,di.jsx)("div",{style:{fontSize:16,color:"rgba(255,255,255,0.8)",textAlign:"center",marginTop:12,fontFamily:"'Oswald', Arial, sans-serif"},children:"Subiendo foto..."}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{marginTop:8},onClick:()=>h(ie),children:b?"CONTINUAR":"CONTINUAR SIN FOTO"})]})})}if(d===ie||null!==I){const e=B.filter(e=>!(e.uuid in k));let t;if(t=null!==I?B[I]:e[0],t){const e=k[t.uuid],n=async e=>{await a("light"),T(n=>{const r=c(c({},n),{},{[t.uuid]:e});return null!==I&&setTimeout(()=>{D(null)},0),P(null),r}),null===I&&(j("slide-out"),setTimeout(()=>{j("slide-in")},300))};return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsx)("div",{className:"player-vote-card ".concat(A),children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{background:"transparent",boxShadow:"none",padding:0},children:[(0,di.jsx)("div",{className:"match-name",children:"CALIFIC\xc1 A TUS COMPA\xd1EROS"}),(0,di.jsx)("div",{className:"voting-player-name",children:t.nombre}),(0,di.jsx)("div",{className:"voting-photo-box",children:t.foto_url?(0,di.jsx)("img",{src:t.foto_url,alt:"foto"}):Mh}),(0,di.jsx)(Lh,{value:e,onRate:n,hovered:C,setHovered:P}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{marginTop:35,marginBottom:0,fontWeight:400},onClick:()=>n(-1),children:"NO LO CONOZCO"}),(0,di.jsx)("div",{style:{fontSize:16,fontFamily:"'Oswald', Arial, sans-serif",color:"rgba(255,255,255,0.7)",marginTop:20,textAlign:"center",fontStyle:"italic"},children:"Los votos son secretos, nadie se entera lo que pones"})]})})})}return setTimeout(()=>h(ae),200),null}return d!==ae||R?R?(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"YA VOTASTE"}),(0,di.jsxs)("div",{style:{color:"#fff",fontFamily:"'Oswald', Arial, sans-serif",fontSize:27,marginBottom:27,letterSpacing:1.1,textAlign:"center",width:"100%",display:"block"},children:["tus votos quedaron registrados",(0,di.jsx)("br",{}),"pod\xe9s cerrar esta ventana."]})]})}):null:(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsxs)("div",{className:"match-name",children:["CONFIRM\xc1 TUS",(0,di.jsx)("br",{}),"CALIFICACIONES"]}),(0,di.jsx)("ul",{className:"confirmation-list",children:B.map((e,t)=>(0,di.jsxs)("li",{className:"confirmation-item",children:[e.foto_url?(0,di.jsx)("img",{src:e.foto_url,alt:"foto",className:"confirmation-item-photo"}):(0,di.jsx)("div",{className:"confirmation-item-photo",children:Mh}),(0,di.jsx)("span",{className:"confirmation-item-name",children:e.nombre}),(0,di.jsx)("span",{className:"confirmation-item-score",style:{fontSize:22,fontWeight:700,minWidth:72,textAlign:"center"},children:k[e.uuid]&&k[e.uuid]>0?"".concat(k[e.uuid],"/10"):(0,di.jsx)("span",{style:{fontSize:16,fontWeight:500},children:"No calificado"})}),(0,di.jsx)("button",{className:"confirmation-item-edit-btn",onClick:()=>D(t),children:"EDITAR"})]},e.uuid))}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{marginTop:8,fontWeight:700,letterSpacing:1.2},onClick:async()=>{if(null!==m&&void 0!==m&&m.uuid)if(null!==o&&void 0!==o&&o.id)if(0!==Object.keys(k).length){O(!0);try{await(async(e,t,n,r,o)=>{if(console.log("\ud83d\ude80 SUBMIT VOTOS CALLED:",{votos:e,jugadorUuid:t,partidoId:n,jugadorNombre:r}),!t||"string"!==typeof t||""===t.trim())throw new Error("jugadorUuid must be a valid non-empty string");if(!n||"number"!==typeof n||n<=0)throw new Error("partido_id must be a valid positive number");if(!e||"object"!==typeof e||0===Object.keys(e).length)throw new Error("votos must be a valid non-empty object");const i=await Sd(n);console.log("Current voter ID:",i,"Is guest:",i.startsWith("guest_")),console.log("Checking if already voted...");const a=await _d(i,n);if(console.log("Has voted result:",a),a)throw new Error("Ya votaste en este partido");const s=Object.entries(e).filter(e=>{let[,t]=e;return void 0!==t&&null!==t}).map(e=>{let[t,a]=e;return t&&"string"===typeof t&&""!==t.trim()?{votado_id:t.trim(),votante_id:i,puntaje:Number(a),partido_id:n,jugador_nombre:r||"Jugador",jugador_foto_url:o||null}:null}).filter(e=>null!==e);if(0===s.length)throw new Error("No hay votos v\xe1lidos para insertar");console.log("INSERTING VOTES:",{count:s.length,partidoId:n,jugadorUuid:t,votanteId:i,isGuest:i.startsWith("guest_"),votes:s});const{data:l,error:c}=await bd.from("votos").insert(s).select();if(c){if(console.error("\u274c Error insertando votos:",c),console.error("Error details:",{code:c.code,message:c.message,details:c.details,hint:c.hint}),"23505"===c.code)throw new Error("Ya votaste en este partido");if("42501"===c.code)throw new Error("No tienes permisos para votar. Verifica las pol\xedticas de Supabase.");throw new Error("Error al guardar los votos: ".concat(c.message))}return console.log("\u2705 Successfully inserted ".concat(s.length," votes for match ").concat(n,":"),l),l})(k,m.uuid,o.id,m.nombre,b),await l("voted_".concat(o.id),!0),await a("heavy"),M(!0),L(!0),z.success("\xa1Votos guardados correctamente!")}catch(e){console.error("Error submitting votes:",e),z.error(e.message)}finally{O(!1)}}else z.error("Error: No hay votos para guardar");else z.error("Error: No se pudo identificar el partido");else z.error("Error: No se pudo identificar al jugador")},disabled:N,children:N?"GUARDANDO...":"CONFIRMAR MIS VOTOS"})]})})}var Uh=n(950);function zh(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Vh=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),qh=()=>Math.random().toString(36).substring(7).split("").join("."),Wh={INIT:"@@redux/INIT".concat(qh()),REPLACE:"@@redux/REPLACE".concat(qh()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(qh())};function Gh(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Hh(e,t,n){if("function"!==typeof e)throw new Error(zh(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(zh(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(zh(1));return n(Hh)(e,t)}let r=e,o=t,i=new Map,a=i,s=0,l=!1;function c(){a===i&&(a=new Map,i.forEach((e,t)=>{a.set(t,e)}))}function u(){if(l)throw new Error(zh(3));return o}function d(e){if("function"!==typeof e)throw new Error(zh(4));if(l)throw new Error(zh(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(zh(6));t=!1,c(),a.delete(n),i=null}}}function h(e){if(!Gh(e))throw new Error(zh(7));if("undefined"===typeof e.type)throw new Error(zh(8));if("string"!==typeof e.type)throw new Error(zh(17));if(l)throw new Error(zh(9));try{l=!0,o=r(o,e)}finally{l=!1}return(i=a).forEach(e=>{e()}),e}h({type:Wh.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(zh(10));r=e,h({type:Wh.REPLACE})},[Vh]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(zh(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Vh](){return this}}}}}function Kh(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(this,r))}}function Yh(e,t){if("function"===typeof e)return Kh(e,t);if("object"!==typeof e||null===e)throw new Error(zh(16));const n={};for(const r in e){const o=e[r];"function"===typeof o&&(n[r]=Kh(o,t))}return n}function Jh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}n(237);const $h=["initMapStateToProps","initMapDispatchToProps","initMergeProps"],Xh=["reactReduxForwardedRef"];var Qh=r.version.startsWith("19"),Zh=Symbol.for(Qh?"react.transitional.element":"react.element"),ef=Symbol.for("react.portal"),tf=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),of=Symbol.for("react.consumer"),af=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),cf=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),df=Symbol.for("react.lazy"),hf=sf,ff=uf;function pf(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case Zh:switch(e=e.type){case tf:case rf:case nf:case lf:case cf:return e;default:switch(e=e&&e.$$typeof){case af:case sf:case df:case uf:case of:return e;default:return t}}case ef:return t}}}function mf(e,t,n,r,o){let i,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=o,f=!1;function p(o,f){const p=!d(f,a),m=!u(o,i,f,a);return i=o,a=f,p&&m?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):p?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):m?function(){const t=e(i,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(o,u){return f?p(o,u):(i=o,a=u,s=e(i,a),l=t(r,a),c=n(s,l,a),f=!0,c)}}function gf(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function vf(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function yf(e,t){return function(t,n){let{displayName:r}=n;const o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,n){o.mapToProps=e,o.dependsOnOwnProps=vf(e);let r=o(t,n);return"function"===typeof r&&(o.mapToProps=r,o.dependsOnOwnProps=vf(r),r=o(t,n)),r},o}}function bf(e,t){return(n,r)=>{throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function wf(e,t,n){return c(c(c({},n),e),t)}function xf(e){e()}var Sf={notify(){},get:()=>[]};function Ef(e,t){let n,r=Sf,o=0,i=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){o++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xf(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function l(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=Sf)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var _f=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),kf=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Tf=(()=>_f||kf?r.useLayoutEffect:r.useEffect)();function Cf(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Pf(e,t){if(Cf(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Cf(e[n[o]],t[n[o]]))return!1;return!0}var Af={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jf={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},If={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Df={[hf]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[ff]:If};function Nf(e){return pf(e)===uf?If:Df[e.$$typeof]||Af}var Of=Object.defineProperty,Rf=Object.getOwnPropertyNames,Lf=Object.getOwnPropertySymbols,Ff=Object.getOwnPropertyDescriptor,Mf=Object.getPrototypeOf,Bf=Object.prototype;function Uf(e,t){if("string"!==typeof t){if(Bf){const n=Mf(t);n&&n!==Bf&&Uf(e,n)}let r=Rf(t);Lf&&(r=r.concat(Lf(t)));const o=Nf(e),i=Nf(t);for(let a=0;a<r.length;++a){const s=r[a];if(!jf[s]&&(!i||!i[s])&&(!o||!o[s])){const r=Ff(t,s);try{Of(e,s,r)}catch(n){}}}}return e}var zf=Symbol.for("react-redux-context"),Vf="undefined"!==typeof globalThis?globalThis:{};function qf(){var e;if(!r.createContext)return{};const t=null!==(e=Vf[zf])&&void 0!==e?e:Vf[zf]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var Wf=qf(),Gf=[null,null];function Hf(e,t,n,r,o,i){e.current=r,n.current=!1,o.current&&(o.current=null,i())}function Kf(e,t){return e===t}var Yf=function(e,t,n){let{pure:o,areStatesEqual:i=Kf,areOwnPropsEqual:a=Pf,areStatePropsEqual:s=Pf,areMergedPropsEqual:l=Pf,forwardRef:d=!1,context:h=Wf}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const f=h,p=function(e){return e?"function"===typeof e?yf(e):bf(e,"mapStateToProps"):gf(()=>({}))}(e),m=function(e){return e&&"object"===typeof e?gf(t=>function(e,t){const n={};for(const r in e){const o=e[r];"function"===typeof o&&(n[r]=function(){return t(o(...arguments))})}return n}(e,t)):e?"function"===typeof e?yf(e):bf(e,"mapDispatchToProps"):gf(e=>({dispatch:e}))}(t),g=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:o,areMergedPropsEqual:i}=n,a=!1;return function(t,n,o){const s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):bf(e,"mergeProps"):()=>wf}(n),v=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),o={shouldHandleStateChanges:v,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function h(t){const[n,i,a]=r.useMemo(()=>{const{reactReduxForwardedRef:e}=t,n=u(t,Xh);return[t.context,e,n]},[t]),s=r.useMemo(()=>{let e=f;return null!==n&&void 0!==n&&n.Consumer,e},[n,f]),l=r.useContext(s),d=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),h=Boolean(l)&&Boolean(l.store);const p=d?t.store:l.store,m=h?l.getServerState:p.getState,g=r.useMemo(()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:o}=t,i=u(t,$h);return mf(n(e,i),r(e,i),o(e,i),e,i)}(p.dispatch,o),[p]),[y,b]=r.useMemo(()=>{if(!v)return Gf;const e=Ef(p,d?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,d,l]),w=r.useMemo(()=>d?l:c(c({},l),{},{subscription:y}),[d,l,y]),x=r.useRef(void 0),S=r.useRef(a),E=r.useRef(void 0),_=r.useRef(!1),k=r.useRef(!1),T=r.useRef(void 0);Tf(()=>(k.current=!0,()=>{k.current=!1}),[]);const C=r.useMemo(()=>()=>E.current&&a===S.current?E.current:g(p.getState(),a),[p,a]),P=r.useMemo(()=>e=>y?function(e,t,n,r,o,i,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,o.current)}catch(p){f=p,h=p}f||(h=null),n===i.current?a.current||c():(i.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(v,p,y,g,S,x,_,k,E,b,e):()=>{},[y]);var A,j,I;let D;A=Hf,j=[S,x,_,a,E,b],Tf(()=>A(...j),I);try{D=r.useSyncExternalStore(P,C,m?()=>g(m(),a):C)}catch(O){throw T.current&&(O.message+="\nThe error may be correlated with this previous error:\n".concat(T.current.stack,"\n\n")),O}Tf(()=>{T.current=void 0,E.current=void 0,x.current=D});const N=r.useMemo(()=>r.createElement(e,c(c({},D),{},{ref:i})),[i,e,D]);return r.useMemo(()=>v?r.createElement(s.Provider,{value:w},N):N,[s,N,w])}const y=r.memo(h);if(y.WrappedComponent=e,y.displayName=h.displayName=n,d){const t=r.forwardRef(function(e,t){return r.createElement(y,c(c({},e),{},{reactReduxForwardedRef:t}))}),o=t;return o.displayName=n,o.WrappedComponent=e,Uf(o,e)}return Uf(y,e)}};var Jf=function(e){const{children:t,context:n,serverState:o,store:i}=e,a=r.useMemo(()=>{const e=Ef(i);return{store:i,subscription:e,getServerState:o?()=>o:void 0}},[i,o]),s=r.useMemo(()=>i.getState(),[i]);Tf(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const l=n||Wf;return r.createElement(l.Provider,{value:a},t)};var $f="Invariant failed";var Xf=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},Qf=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Zf=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ep={top:0,right:0,bottom:0,left:0},tp=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ep:n,o=e.border,i=void 0===o?ep:o,a=e.padding,s=void 0===a?ep:a,l=Xf(Qf(t,r)),c=Xf(Zf(t,i)),u=Xf(Zf(c,s));return{marginBox:l,borderBox:Xf(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},np=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error($f)}(!1),n},rp=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return tp({borderBox:l,border:i,margin:a,padding:s})},op=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),rp(e,t)},ip=function(e,t){var n={top:np(t.marginTop),right:np(t.marginRight),bottom:np(t.marginBottom),left:np(t.marginLeft)},r={top:np(t.paddingTop),right:np(t.paddingRight),bottom:np(t.paddingBottom),left:np(t.paddingLeft)},o={top:np(t.borderTopWidth),right:np(t.borderRightWidth),bottom:np(t.borderBottomWidth),left:np(t.borderLeftWidth)};return tp({borderBox:e,margin:n,padding:r,border:o})},ap=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ip(t,n)};const sp=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lp.apply(null,arguments)}function cp(e,t){}cp.bind(null,"warn"),cp.bind(null,"error");function up(){}function dp(e,t,n){const r=t.map(t=>{const r=function(e,t){return c(c({},e),t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(e=>{e()})}}const hp="Invariant failed";class fp extends Error{}function pp(e,t){throw new fp(hp)}fp.prototype.toString=function(){return this.message};class mp extends r.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=up,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof fp&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=dp(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof fp))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const gp=e=>e+1,vp=(e,t)=>{const n=e.droppableId===t.droppableId,r=gp(e.index),o=gp(t.index);return n?"\n      You have moved the item from position ".concat(r,"\n      to position ").concat(o,"\n    "):"\n    You have moved the item from position ".concat(r,"\n    in list ").concat(e.droppableId,"\n    to list ").concat(t.droppableId,"\n    in position ").concat(o,"\n  ")},yp=(e,t,n)=>t.droppableId===n.droppableId?"\n      The item ".concat(e,"\n      has been combined with ").concat(n.draggableId):"\n      The item ".concat(e,"\n      in list ").concat(t.droppableId,"\n      has been combined with ").concat(n.draggableId,"\n      in list ").concat(n.droppableId,"\n    "),bp=e=>"\n  The item has returned to its starting position\n  of ".concat(gp(e.index),"\n"),wp="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",xp=e=>"\n  You have lifted an item in position ".concat(gp(e.source.index),"\n"),Sp=e=>{const t=e.destination;if(t)return vp(e.source,t);const n=e.combine;return n?yp(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Ep=e=>{if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      ".concat(bp(e.source),"\n    ");const t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      ".concat(vp(e.source,t),"\n    "):n?"\n      You have dropped the item.\n      ".concat(yp(e.draggableId,e.source,n),"\n    "):"\n    The item has been dropped while not over a drop area.\n    ".concat(bp(e.source),"\n  ")};function _p(e,t){return e===t||!(!Number.isNaN(e)||!Number.isNaN(t))}function kp(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!_p(e[n],t[n]))return!1;return!0}function Tp(e,t){const n=(0,r.useState)(()=>({inputs:t,result:e()}))[0],o=(0,r.useRef)(!0),i=(0,r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&kp(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,r.useEffect)(()=>{o.current=!1,i.current=a},[a]),a.result}function Cp(e,t){return Tp(()=>e,t)}const Pp={x:0,y:0},Ap=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),jp=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ip=(e,t)=>e.x===t.x&&e.y===t.y,Dp=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),Np=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},Op=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Rp=(e,t)=>Math.min(...t.map(t=>Op(e,t))),Lp=e=>t=>({x:e(t.x),y:e(t.y)});const Fp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Mp=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Bp=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=Xf({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):Xf(e);var Up=e=>{let{page:t,withPlaceholder:n,axis:r,frame:o}=e;const i=((e,t)=>t?Fp(e,t.scroll.diff.displacement):e)(t.marginBox,o),a=((e,t,n)=>n&&n.increasedBy?c(c({},e),{},{[t.end]:e[t.end]+n.increasedBy[t.line]}):e)(i,r,n);return{page:t,withPlaceholder:n,active:Bp(a,o)}},zp=(e,t)=>{e.frame||pp();const n=e.frame,r=jp(t,n.scroll.initial),o=Dp(r),i=c(c({},n),{},{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}}),a=Up({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return c(c({},e),{},{frame:i,subject:a})};function Vp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kp,n=null;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}const qp=Vp(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),Wp=Vp(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),Gp=Vp(e=>Object.values(e)),Hp=Vp(e=>Object.values(e));var Kp=Vp((e,t)=>{const n=Hp(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index);return n});function Yp(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Jp(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var $p=Vp((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),Xp=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Qp={point:Pp,value:0},Zp={invisible:{},visible:{},all:[]},em={displaced:Zp,displacedBy:Qp,at:null};var tm=(e,t)=>n=>e<=n&&n<=t,nm=e=>{const t=tm(e.top,e.bottom),n=tm(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&i||s&&o}},rm=e=>{const t=tm(e.top,e.bottom),n=tm(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const om={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},im={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const am=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:o,isVisibleThroughFrameFn:i}=e;const a=o?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Pp;return Fp(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,i)&&((e,t,n)=>n(t)(e))(a,r,i)},sm=e=>am(c(c({},e),{},{isVisibleThroughFrameFn:rm}));function lm(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:o,forceShouldAnimate:i,last:a}=e;return t.reduce(function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Xf(Qf(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);if(!am(c(c({},{target:s,destination:n,viewport:o,withDroppableDisplacement:!0}),{},{isVisibleThroughFrameFn:nm})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const i=o[e];return!i||i.shouldAnimate})(l,a,i),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e},{all:[],visible:{},invisible:{}})}function cm(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:o}=e;const i=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Zp,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function um(e){let{draggable:t,insideDestination:n,destination:r,viewport:o,displacedBy:i,last:a,index:s,forceShouldAnimate:l}=e;const c=Xp(t,r);if(null==s)return cm({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});const u=n.find(e=>e.descriptor.index===s);if(!u)return cm({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});const d=$p(t,n),h=n.indexOf(u);return{displaced:lm({afterDragging:d.slice(h),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function dm(e,t){return Boolean(t.effected[e])}var hm=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:o,destination:i,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||pp(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:o}=e;if(!r.length)return null;const i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:um({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:o,afterCritical:i}=e;if(!n.isCombineEnabled)return null;const a=o.draggableId,s=r[a].descriptor.index;return dm(a,i)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==d?null:um({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},fm=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const o=Jp(n);o||pp();const i=o.draggableId,a=r[i].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:o}=e;const i=Boolean(t.visible[r]||t.invisible[r]);return dm(r,n)?i?Pp:Dp(o.point):i?o.point:Pp})({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Ap(a,s)};const pm=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,mm=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,gm=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return Np(t.line,n.marginBox[t.end]+pm(t,r),mm(t,n.marginBox,r))},vm=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return Np(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),mm(t,n.marginBox,r))};var ym=e=>{let{impact:t,draggable:n,draggables:r,droppable:o,afterCritical:i}=e;const a=Kp(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return Np(t.line,n.contentBox[t.start]+pm(t,r),mm(t,n.contentBox,r))})({axis:l,moveInto:o.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(dm(d,i))return vm({axis:l,moveRelativeTo:e.page,isMoving:s});const t=rp(e.page,u.point);return vm({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(dm(h.descriptor.id,i)){const e=rp(h.page,Dp(i.displacedBy.point));return gm({axis:l,moveRelativeTo:e,isMoving:s})}return gm({axis:l,moveRelativeTo:h.page,isMoving:s})},bm=(e,t)=>{const n=e.frame;return n?Ap(t,n.scroll.diff.displacement):t};var wm=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:o,afterCritical:i}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?ym({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):fm({impact:t,draggables:o,afterCritical:i}):a})(e),n=e.droppable;return n?bm(n,t):t},xm=(e,t)=>{const n=jp(t,e.scroll.initial),r=Dp(n);return{frame:Xf({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Sm(e,t){return e.map(e=>t[e])}var Em=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const o=((e,t)=>Ap(e.scroll.diff.displacement,t))(r,t),i=jp(o,n.page.borderBox.center);return Ap(n.client.borderBox.center,i)},_m=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:o,withDroppableDisplacement:i,onlyOnMainAxis:a=!1}=e;const s=jp(r,t.page.borderBox.center),l={target:Fp(t.page.borderBox,s),destination:n,withDroppableDisplacement:i,viewport:o};return a?(e=>{return am(c(c({},e),{},{isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=tm(e.top,e.bottom),r=tm(e.left,e.right);return e=>t===om?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})}));var t})(l):sm(l)},km=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:o,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:u}=e;if(!r.isEnabled)return null;const d=Kp(r.descriptor.id,o),h=Xp(n,r),f=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:o,previousImpact:i}=e;if(!r.isCombineEnabled)return null;if(!Yp(i))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return c(c({},i),{},{at:t})}const s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const u=$p(n,o);if(!l)return u.length?a(u[u.length-1].descriptor.id):null;const d=u.findIndex(e=>e.descriptor.id===l);-1===d&&pp();const h=d-1;return h<0?null:a(u[h].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:i})||hm({isMovingForward:t,isInHomeList:h,draggable:n,draggables:o,destination:r,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!f)return null;const p=wm({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:u});if(_m({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:Em({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}}const m=jp(p,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:o,maxScrollChange:i}=e;const a=xm(n,Ap(n.scroll.current,i)),s=r.frame?zp(r,Ap(r.frame.scroll.current,i)):r,l=t.displaced,u=lm({afterDragging:Sm(l.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=lm({afterDragging:Sm(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),h={},f={},p=[l,u,d];return l.all.forEach(e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?f[e]=t:h[e]=!0}),c(c({},t),{},{displaced:{all:l.all,invisible:h,visible:f}})})({impact:f,viewport:a,destination:r,draggables:o,maxScrollChange:m});return{clientSelection:l,impact:g,scrollJumpRequest:m}};const Tm=e=>{const t=e.subject.active;return t||pp(),t};const Cm=(e,t)=>{const n=e.page.borderBox.center;return dm(e.descriptor.id,t)?jp(n,t.displacedBy.point):n},Pm=(e,t)=>{const n=e.page.borderBox;return dm(e.descriptor.id,t)?Fp(n,Dp(t.displacedBy.point)):n};var Am=Vp(function(e,t){const n=t[e.line];return{value:n,point:Np(e.line,n)}});const jm=(e,t)=>c(c({},e),{},{scroll:c(c({},e.scroll),{},{max:t})}),Im=(e,t,n)=>{const r=e.frame;Xp(t,e)&&pp(),e.subject.withPlaceholder&&pp();const o=Am(e.axis,t.displaceBy).point,i=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return Np(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],i=Kp(e.descriptor.id,n).reduce((e,t)=>e+t.client.marginBox[r.size],0)+t[r.line]-o;return i<=0?null:Np(r.line,i)})(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=Up({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return c(c({},e),{},{subject:t})}const s=i?Ap(r.scroll.max,i):r.scroll.max,l=jm(r,s),u=Up({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return c(c({},e),{},{subject:u,frame:l})};var Dm=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:o,draggables:i,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:o,viewport:i}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=tm(a[s.start],a[s.end]),c=Gp(o).filter(e=>e!==r).filter(e=>e.isEnabled).filter(e=>Boolean(e.subject.active)).filter(e=>nm(i.frame)(Tm(e))).filter(e=>{const n=Tm(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]}).filter(e=>{const t=Tm(e),n=tm(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])}).sort((e,n)=>{const r=Tm(e)[s.crossAxisStart],o=Tm(n)[s.crossAxisStart];return t?r-o:o-r}).filter((e,t,n)=>Tm(e)[s.crossAxisStart]===Tm(n[0])[s.crossAxisStart]);if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter(e=>tm(Tm(e)[s.start],Tm(e)[s.end])(n[s.line]));return 1===u.length?u[0]:u.length>1?u.sort((e,t)=>Tm(e)[s.start]-Tm(t)[s.start])[0]:c.sort((e,t)=>{const r=Rp(n,Mp(Tm(e))),o=Rp(n,Mp(Tm(t)));return r!==o?r-o:Tm(e)[s.start]-Tm(t)[s.start]})[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;const u=Kp(c.descriptor.id,i),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:o,afterCritical:i}=e;const a=o.filter(e=>sm({target:Pm(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((e,n)=>{const o=Op(t,bm(r,Cm(e,i))),a=Op(t,bm(r,Cm(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index});return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:o,draggables:i,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:Zp,displacedBy:Qp,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=wm({impact:e,draggable:o,droppable:a,draggables:i,afterCritical:l}),n=Xp(o,a)?a:Im(a,o,i);return _m({draggable:o,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===o.descriptor.id||c?e:e+1})(),d=Am(a.axis,o.displaceBy);return um({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:Zp,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=wm({impact:h,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Em({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},Nm=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var Om=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=Nm(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?km({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Dm({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Rm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Lm(e){const t=tm(e.top,e.bottom),n=tm(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Fm(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const o=Gp(r).filter(e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(o=n,!((r=t).left<o.right&&r.right>o.left&&r.top<o.bottom&&r.bottom>o.top))return!1;var r,o;if(Lm(n)(t.center))return!0;const i=e.axis,a=n.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=tm(n[i.crossAxisStart],n[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)});return o.length?1===o.length?o[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const o=n.page.borderBox.center,i=r.map(e=>{const n=e.axis,r=Np(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Op(o,r)}}).sort((e,t)=>t.distance-e.distance);return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}const Mm=(e,t)=>Xf(Fp(e,t));function Bm(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var Um=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:o,previousImpact:i,viewport:a,afterCritical:s}=e;const l=Mm(n.page.borderBox,t),c=Fm({pageBorderBox:l,draggable:n,droppables:o});if(!c)return em;const u=o[c],d=Kp(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?Mm(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:o,insideDestination:i,afterCritical:a}=e;if(!o.isCombineEnabled)return null;const s=o.axis,l=Am(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=$p(t,i).find(e=>{const t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=dm(t,a),l=Bm({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:o.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:o,last:i,viewport:a,afterCritical:s}=e;const l=r.axis,c=Am(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=$p(n,o).find(e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=dm(t,s),o=Bm({displaced:i,id:t});return r?o?h<=n:d<n-u:o?h<=n+u:d<n})||null,p=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:Xp(n,r)});return um({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},zm=(e,t)=>c(c({},e),{},{[t.descriptor.id]:t});const Vm=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const o=Nm(t),i=Nm(n);if(!o)return r;if(o===i)return r;const a=r[o];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||pp();const n=e.frame;if(!n){const t=Up({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return c(c({},e),{},{subject:t})}const r=t.oldFrameMaxScroll;r||pp();const o=jm(n,r),i=Up({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return c(c({},e),{},{subject:i,frame:o})})(a);return zm(r,s)};var qm=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:o,impact:i,scrollJumpRequest:a}=e;const s=o||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,d=jp(u,t.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Ap(t.initial.client.borderBoxCenter,d)},f={selection:Ap(h.selection,s.scroll.current),borderBoxCenter:Ap(h.borderBoxCenter,s.scroll.current),offset:Ap(h.offset,s.scroll.diff.value)},p={client:h,page:f};if("COLLECTING"===t.phase)return c(c({},t),{},{dimensions:l,viewport:s,current:p});const m=l.draggables[t.critical.draggable.id],g=i||Um({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),v=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:o,impact:i}=e;const a=Vm({previousImpact:o,impact:i,droppables:r}),s=Nm(i);if(!s)return a;const l=r[s];if(Xp(t,l))return a;if(l.subject.withPlaceholder)return a;const c=Im(l,t,n);return zm(a,c)})({draggable:m,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return c(c({},t),{},{current:p,dimensions:{draggables:l.draggables,droppables:v},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Wm=e=>{let{impact:t,viewport:n,draggables:r,destination:o,forceShouldAnimate:i}=e;const a=t.displaced,s=function(e,t){return e.map(e=>t[e])}(a.all,r),l=lm({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a});return c(c({},t),{},{displaced:l})},Gm=e=>{let{impact:t,draggable:n,droppable:r,draggables:o,viewport:i,afterCritical:a}=e;const s=wm({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Em({pageBorderBoxCenter:s,draggable:n,viewport:i})},Hm=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&pp();const o=t.impact,i=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=Nm(o);u||pp();const d=l[u],h=Wm({impact:o,viewport:i,destination:d,draggables:s}),f=Gm({impact:h,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return qm({impact:h,clientSelection:f,state:t,dimensions:a,viewport:i})},Km=e=>{let{draggable:t,home:n,draggables:r,viewport:o}=e;const i=Am(n.axis,t.displaceBy),a=Kp(n.descriptor.id,r),s=a.indexOf(t);-1===s&&pp();const l=a.slice(s+1),c=l.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:c};var d;return{impact:{displaced:lm({afterDragging:l,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const Ym=e=>{0},Jm=e=>{0};var $m=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const o=r.scroll.diff.value;return t.map(e=>{const t=e.descriptor.droppableId,i=(e=>{const t=e.frame;return t||pp(),t})(n[t]),a=i.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const o=rp(t.client,n),i=op(o,r);return c(c({},t),{},{placeholder:c(c({},t.placeholder),{},{client:o}),client:o,page:i})})({draggable:e,offset:Ap(o,a),initialWindowScroll:r.scroll.initial});return s})};const Xm=e=>"SNAP"===e.movementMode,Qm=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:zm(e.droppables,t)}))(e.dimensions,t);return!Xm(e)||n?qm({state:e,dimensions:r}):Hm({state:e,dimensions:r})};function Zm(e){return e.isDragging&&"SNAP"===e.movementMode?c(c({},e),{},{scrollJumpRequest:null}):e}const eg={phase:"IDLE",completed:null,shouldFlush:!1};var tg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eg,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return c(c({},eg),{},{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&pp();const{critical:n,clientSelection:r,viewport:o,dimensions:i,movementMode:a}=t.payload,s=i.draggables[n.draggable.id],l=i.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:Pp},u={client:c,page:{selection:Ap(c.selection,o.scroll.initial),borderBoxCenter:Ap(c.selection,o.scroll.initial),offset:Ap(c.selection,o.scroll.diff.value)}},d=Gp(i.droppables).every(e=>!e.isFixedOnPage),{impact:h,afterCritical:f}=Km({draggable:s,home:l,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&pp();return c(c({},e),{},{phase:"COLLECTING"})}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&pp(),(e=>{let{state:t,published:n}=e;Ym();const r=n.modified.map(e=>{const n=t.dimensions.droppables[e.droppableId];return zp(n,e.scroll)}),o=c(c({},t.dimensions.droppables),qp(r)),i=Wp($m({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=c(c({},t.dimensions.draggables),i);n.removals.forEach(e=>{delete a[e]});const s={droppables:o,draggables:a},l=Nm(t.impact),u=l?s.droppables[l]:null,d=s.draggables[t.critical.draggable.id],h=s.droppables[t.critical.droppable.id],{impact:f,afterCritical:p}=Km({draggable:d,home:h,draggables:a,viewport:t.viewport}),m=u&&u.isCombineEnabled?t.impact:f,g=Um({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p});Jm();const v=c(c({},t),{},{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:c(c({},v),{},{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Rm(e)||pp();const{client:n}=t.payload;return Ip(n,e.current.client.selection)?e:qm({state:e,clientSelection:n,impact:Xm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Zm(e);if("COLLECTING"===e.phase)return Zm(e);Rm(e)||pp();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const i=zp(o,r);return Qm(e,i,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Rm(e)||pp();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||pp(),o.isEnabled===r&&pp();const i=c(c({},o),{},{isEnabled:r});return Qm(e,i,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Rm(e)||pp();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||pp(),o.isCombineEnabled===r&&pp();const i=c(c({},o),{},{isCombineEnabled:r});return Qm(e,i,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Rm(e)||pp(),e.isWindowScrollAllowed||pp();const n=t.payload.newScroll;if(Ip(e.viewport.scroll.current,n))return Zm(e);const r=xm(e.viewport,n);return Xm(e)?Hm({state:e,viewport:r}):qm({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Rm(e))return e;const n=t.payload.maxScroll;if(Ip(n,e.viewport.scroll.max))return e;const r=c(c({},e.viewport),{},{scroll:c(c({},e.viewport.scroll),{},{max:n})});return c(c({},e),{},{viewport:r})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&pp();const n=Om({state:e,type:t.type});return n?qm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&pp();return c(c({},e),{},{phase:"DROP_PENDING",isWaiting:!0,reason:n})}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&pp();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function ng(e,t){return e instanceof Object&&"type"in e&&e.type===t}const rg=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),og=()=>({type:"COLLECTION_STARTING",payload:null}),ig=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ag=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),sg=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),lg=e=>({type:"MOVE",payload:e}),cg=()=>({type:"MOVE_UP",payload:null}),ug=()=>({type:"MOVE_DOWN",payload:null}),dg=()=>({type:"MOVE_RIGHT",payload:null}),hg=()=>({type:"MOVE_LEFT",payload:null}),fg=e=>({type:"DROP_COMPLETE",payload:e}),pg=e=>({type:"DROP",payload:e}),mg=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const gg="cubic-bezier(0.2, 0, 0, 1)",vg="cubic-bezier(.2,1,.1,1)",yg={drop:0,combining:.7},bg={drop:.75},wg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},xg="".concat(wg.outOfTheWay,"s ").concat(gg),Sg={fluid:"opacity ".concat(xg),snap:"transform ".concat(xg,", opacity ").concat(xg),drop:e=>{const t="".concat(e,"s ").concat(vg);return"transform ".concat(t,", opacity ").concat(t)},outOfTheWay:"transform ".concat(xg),placeholder:"height ".concat(xg,", width ").concat(xg,", margin ").concat(xg)},Eg=e=>Ip(e,Pp)?void 0:"translate(".concat(e.x,"px, ").concat(e.y,"px)"),_g=Eg,kg=(e,t)=>{const n=Eg(e);if(n)return t?"".concat(n," scale(").concat(bg.drop,")"):n},{minDropTime:Tg,maxDropTime:Cg}=wg,Pg=Cg-Tg;const Ag=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!ng(r,"DROP"))return void e(r);const o=t(),i=r.payload.reason;if("COLLECTING"===o.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:i}));if("IDLE"===o.phase)return;"DROP_PENDING"===o.phase&&o.isWaiting&&pp(),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&pp();const a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:o,viewport:i,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:Wm({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:c(c({},r),{},{displaced:Zp}),didDropInsideDroppable:!0}})({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),h=d?Yp(u):null,f=d?Jp(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:i,mode:o.movementMode,destination:h,combine:f},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:o,afterCritical:i}=e;const{draggables:a,droppables:s}=r,l=Nm(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=Gm({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return jp(d,n.client.borderBox.center)})({impact:u,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:u};if(!(!Ip(o.current.client.offset,g)||Boolean(m.combine)))return void n(fg({completed:v}));const y=(e=>{let{current:t,destination:n,reason:r}=e;const o=Op(t,n);if(o<=0)return Tg;if(o>=1500)return Cg;const i=Tg+Pg*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))})({current:o.current.client.offset,destination:g,reason:i});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:y,completed:v}))}};var jg=()=>({x:window.pageXOffset,y:window.pageYOffset});function Ig(e){let{onWindowScroll:t}=e;const n=sp(function(){t(jg())}),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let o=up;function i(){return o!==up}return{start:function(){i()&&pp(),o=dp(window,[r])},stop:function(){i()||pp(),n.cancel(),o(),o=up},isActive:i}}const Dg=e=>{const t=Ig({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&ng(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>ng(e,"DROP_COMPLETE")||ng(e,"DROP_ANIMATE")||ng(e,"FLUSH"))(n)&&t.stop(),e(n)}};var Ng=()=>{const e=[];return{add:t=>{const n=setTimeout(()=>(t=>{const n=e.findIndex(e=>e.timerId===t);-1===n&&pp();const[r]=e.splice(n,1);r.callback()})(n)),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}};const Og=(e,t)=>{Ym(),t(),Jm()},Rg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Lg(e,t,n,r){if(!e)return void n(r(t));const o=(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=()=>t,o})(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var Fg=(e,t)=>{const n=((e,t)=>{const n=Ng();let r=null;const o=n=>{r||pp(),r=null,Og(0,()=>Lg(e().onDragEnd,n,t,Ep))};return{beforeCapture:(t,n)=>{r&&pp(),Og(0,()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:(t,n)=>{r&&pp(),Og(0,()=>{const r=e().onBeforeDragStart;r&&r(Rg(t,n))})},start:(o,i)=>{r&&pp();const a=Rg(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add(()=>{Og(0,()=>Lg(e().onDragStart,a,t,xp))})},update:(o,i)=>{const a=Yp(i),s=Jp(i);r||pp();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(o,r.lastCritical);l&&(r.lastCritical=o);const u=(h=a,!(null==(d=r.lastLocation)&&null==h||null!=d&&null!=h&&d.droppableId===h.droppableId&&d.index===h.index));var d,h;u&&(r.lastLocation=a);const f=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(f&&(r.lastCombine=s),!l&&!u&&!f)return;const p=c(c({},Rg(o,r.mode)),{},{combine:s,destination:a});n.add(()=>{Og(0,()=>Lg(e().onDragUpdate,p,t,Sp))})},flush:()=>{r||pp(),n.flush()},drop:o,abort:()=>{if(!r)return;const e=c(c({},Rg(r.lastCritical,r.mode)),{},{combine:null,destination:null,reason:"CANCEL"});o(e)}}})(e,t);return e=>t=>r=>{if(ng(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(ng(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(ng(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),ng(r,"FLUSH"))return void n.abort();const o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}};const Mg=e=>t=>n=>{if(!ng(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&pp(),e.dispatch(fg({completed:r.completed}))},Bg=e=>{let t=null,n=null;return r=>o=>{if((ng(o,"FLUSH")||ng(o,"DROP_COMPLETE")||ng(o,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),!ng(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(()=>{n=null,t=dp(window,[i])})}};var Ug=e=>t=>n=>r=>{if((e=>ng(e,"DROP_COMPLETE")||ng(e,"DROP_ANIMATE")||ng(e,"FLUSH"))(r))return e.stop(),void n(r);if(ng(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();return"DRAGGING"!==o.phase&&pp(),void e.start(o)}n(r),e.scroll(t.getState())};const zg=e=>t=>n=>{if(t(n),!ng(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(pg({reason:r.reason})))},Vg=Jh;var qg=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:o,announce:i,autoScroller:a}=e;return Hh(tg,Vg(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const o=e(n,r);let i=()=>{throw new Error(zh(15))};const a={getState:o.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},s=t.map(e=>e(a));return i=Jh(...s)(o.dispatch),c(c({},o),{},{dispatch:i})}}((s=r,()=>e=>t=>{ng(t,"INITIAL_PUBLISH")&&s.dragging(),ng(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(ng(t,"FLUSH")||ng(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(ng(n,"DROP_COMPLETE")||ng(n,"FLUSH")||ng(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>o=>{if(!ng(o,"LIFT"))return void t(o);const{id:i,clientSelection:a,movementMode:s}=o.payload,l=n();"DROP_ANIMATING"===l.phase&&r(fg({completed:l.completed})),"IDLE"!==n().phase&&pp(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:s}});const c={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),Ag,Mg,Bg,zg,Ug(a),Dg,(e=>{let t=!1;return()=>n=>r=>{if(ng(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(ng(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(ng(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),Fg(o,i))));var s};var Wg=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:o}=e;const i=jp({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Gg=()=>{const e=document.documentElement;return e||pp(),e},Hg=()=>{const e=Gg();return Wg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Kg=e=>{let{critical:t,scrollOptions:n,registry:r}=e;Ym();const o=(()=>{const e=jg(),t=Hg(),n=e.y,r=e.x,o=Gg(),i=o.clientWidth,a=o.clientHeight;return{frame:Xf({top:n,left:r,right:r+i,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Pp,displacement:Pp}}}})(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map(e=>e.callbacks.getDimensionAndWatchScroll(i,n)),l=r.draggable.getAllByType(t.draggable.type).map(e=>e.getDimension(i)),c={draggables:Wp(l),droppables:qp(s)};Jm();return{dimensions:c,critical:t,viewport:o}};function Yg(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Jg=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},o=null;const i=()=>{o||(n.collectionStarting(),o=requestAnimationFrame(()=>{o=null,Ym();const{additions:e,removals:i,modified:a}=r,s=Object.keys(e).map(e=>t.draggable.getById(e).getDimension(Pp)).sort((e,t)=>e.descriptor.index-t.descriptor.index),l=Object.keys(a).map(e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()})),c={additions:s,removals:Object.keys(i),modified:l};r={additions:{},removals:{},modified:{}},Jm(),n.publish(c)}))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:()=>{o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=t=>{n||pp();const o=n.critical.draggable;"ADDITION"===t.type&&Yg(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Yg(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:(r,o)=>{e.droppable.exists(r)||pp(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:(r,o)=>{n&&(e.droppable.exists(r)||pp(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,o)=>{n&&(e.droppable.exists(r)||pp(),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:t=>{n&&pp();const r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},Kg({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),n.unsubscribe(),n=null}};return i},$g=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Xg=e=>{window.scrollBy(e.x,e.y)};const Qg=Vp(e=>Gp(e).filter(e=>!!e.isEnabled&&!!e.frame));var Zg=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const o=((e,t)=>{const n=Qg(t).find(t=>(t.frame||pp(),Lm(t.frame.pageMarginBox)(e)))||null;return n})(t,r);return o};const ev={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var tv=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const o=n-t;if(0===o)return 0;return(r-t)/o},nv=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>ev)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-tv({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=n.maxPixelScroll*n.ease(r);return Math.ceil(o)}(t,n,i);return 0===a?0:o?Math.max(((e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,s=i,l=Date.now()-a;if(l>=i)return e;if(l<o)return 1;const c=tv({startOfRange:o,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,i),1):a},rv=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>ev)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,o,a);return n[o.end]<n[o.start]?nv({distanceToEdge:n[o.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*nv({distanceToEdge:n[o.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})};const ov=Lp(e=>0===e?0:e);var iv=e=>{let{dragStartTime:t,container:n,subject:r,center:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},l=rv({container:n,distanceToEdges:s,dragStartTime:t,axis:om,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=rv({container:n,distanceToEdges:s,dragStartTime:t,axis:im,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=ov({x:c,y:l});if(Ip(u,Pp))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?Ip(d,Pp)?null:d:null};const av=Lp(e=>0===e?0:e>0?1:-1),sv=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:o}=t;const i=Ap(n,o),a={x:e(i.x,r.x),y:e(i.y,r.y)};return Ip(a,Pp)?null:a}})(),lv=e=>{let{max:t,current:n,change:r}=e;const o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=av(r),a=sv({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},cv=(e,t)=>lv({current:e.scroll.current,max:e.scroll.max,change:t}),uv=(e,t)=>{const n=e.frame;return!!n&&lv({current:n.scroll.current,max:n.scroll.max,change:t})};var dv=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:o,scrollDroppable:i,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s=iv({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&cv(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void o(e)}const c=Zg({center:s,destination:Nm(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:o,shouldUseTimeDampening:i,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=iv({dragStartTime:o,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&uv(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&i(c.descriptor.id,u)},hv=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const o=(e,t)=>{if(!uv(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&uv(e,t)?sv({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const o=jp(t,r);n(e.descriptor.id,o);return jp(t,o)},i=(e,t,n)=>{if(!e)return n;if(!cv(t,n))return n;const o=((e,t)=>{if(!cv(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return sv({current:r,max:n,change:t})})(t,n);if(!o)return r(n),null;const i=jp(n,o);r(i);return jp(n,i)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=Nm(e.impact);r||pp();const a=o(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=Ap(e.current.client.selection,n);t({client:r})})(e,l)}},fv=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:o}=e;const i=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>ev}=e;const o=sp(t),i=sp(n);let a=null;const s=e=>{a||pp();const{shouldUseTimeDampening:t,dragStartTime:n}=a;dv({state:e,scrollWindow:o,scrollDroppable:i,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{Ym(),a&&pp();const t=Date.now();let n=!1;const o=()=>{n=!0};dv({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:o,scrollDroppable:o,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},Jm(),n&&s(e)},stop:()=>{a&&(o.cancel(),i.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:o}),a=hv({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{o().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):i.scroll(e))},start:i.start,stop:i.stop}};const pv="data-rfd",mv=(()=>{const e="".concat(pv,"-drag-handle");return{base:e,draggableId:"".concat(e,"-draggable-id"),contextId:"".concat(e,"-context-id")}})(),gv=(()=>{const e="".concat(pv,"-draggable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),vv=(()=>{const e="".concat(pv,"-droppable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),yv={contextId:"".concat(pv,"-scroll-container-context-id")},bv=(e,t)=>e.map(e=>{const n=e.styles[t];return n?"".concat(e.selector," { ").concat(n," }"):""}).join(" ");const wv="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,xv=()=>{const e=document.querySelector("head");return e||pp(),e},Sv=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Ev(e,t){const n=Tp(()=>(e=>{const t=(n=e,e=>"[".concat(e,'="').concat(n,'"]'));var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(mv.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),o=[(()=>{const e="\n      transition: ".concat(Sg.outOfTheWay,";\n    ");return{selector:t(gv.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(vv.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:bv(o,"always"),resting:bv(o,"resting"),dragging:bv(o,"dragging"),dropAnimating:bv(o,"dropAnimating"),userCancel:bv(o,"userCancel")}})(e),[e]),o=(0,r.useRef)(null),i=(0,r.useRef)(null),a=Cp(Vp(e=>{const t=i.current;t||pp(),t.textContent=e}),[]),s=Cp(e=>{const t=o.current;t||pp(),t.textContent=e},[]);wv(()=>{(o.current||i.current)&&pp();const r=Sv(t),l=Sv(t);return o.current=r,i.current=l,r.setAttribute("".concat(pv,"-always"),e),l.setAttribute("".concat(pv,"-dynamic"),e),xv().appendChild(r),xv().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||pp(),xv().removeChild(t),e.current=null};e(o),e(i)}},[t,s,a,n.always,n.resting,e]);const l=Cp(()=>a(n.dragging),[a,n.dragging]),c=Cp(e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)},[a,n.dropAnimating,n.userCancel]),u=Cp(()=>{i.current&&a(n.resting)},[a,n.resting]);return Tp(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function _v(e,t){return Array.from(e.querySelectorAll(t))}var kv=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Tv(e){return e instanceof kv(e).HTMLElement}function Cv(e,t){const n="[".concat(mv.contextId,'="').concat(e,'"]'),r=_v(document,n);if(!r.length)return null;const o=r.find(e=>e.getAttribute(mv.draggableId)===t);return o&&Tv(o)?o:null}function Pv(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(t=>t(e))}function r(t){return e.draggables[t]||null}const o={register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||pp(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)};function i(t){return e.droppables[t]||null}const a={register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=i(e);return t||pp(),t},findById:i,exists:e=>Boolean(i(e)),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)};return{draggable:o,droppable:a,subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Av=r.createContext(null),jv=()=>{const e=document.body;return e||pp(),e};const Iv={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const Dv={separator:"::"};function Nv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dv;const n=r.useId();return Tp(()=>"".concat(e).concat(t.separator).concat(n),[t.separator,e,n])}var Ov=r.createContext(null);function Rv(e){0}function Lv(e,t){Rv()}function Fv(){Lv()}function Mv(e){const t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e}),t}function Bv(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Uv=9,zv=13,Vv=33,qv=34,Wv=35,Gv=36,Hv={[zv]:!0,[Uv]:!0};var Kv=e=>{Hv[e.keyCode]&&e.preventDefault()};const Yv=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,"ms".concat(e),"webkit".concat(e),"moz".concat(e),"o".concat(e)].find(e=>"on".concat(e)in document)||e})();const Jv={type:"IDLE"};function $v(e){let{cancel:t,completed:n,getPhase:r,setPhase:o}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:i}=e;if(0!==t)return;const a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&pp();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Kv(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&pp(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Yv,fn:t}]}function Xv(){}const Qv={[qv]:!0,[Vv]:!0,[Gv]:!0,[Wv]:!0};function Zv(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Qv[r.keyCode]?r.preventDefault():Kv(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Yv,fn:n}]}const ey={type:"IDLE"};const ty=["input","button","textarea","select","option","optgroup","video","audio"];function ny(e,t){if(null==t)return!1;if(ty.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ny(e,t.parentElement)}function ry(e,t){const n=t.target;return!!Tv(n)&&ny(e,n)}var oy=e=>Xf(e.getBoundingClientRect()).center;const iy=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function ay(e,t){return null==e?null:e[iy](t)?e:ay(e.parentElement,t)}function sy(e,t){return e.closest?e.closest(t):ay(e,t)}function ly(e,t){const n=t.target;if(!((r=n)instanceof kv(r).Element))return null;var r;const o=function(e){return"[".concat(mv.contextId,'="').concat(e,'"]')}(e),i=sy(n,o);return i&&Tv(i)?i:null}function cy(e){e.preventDefault()}function uy(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:o}=e;return!!r()&&t===n}function dy(e){let{lockAPI:t,store:n,registry:r,draggableId:o}=e;if(t.isClaimed())return!1;const i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!$g(n.getState(),o))}function hy(e){let{lockAPI:t,contextId:n,store:r,registry:o,draggableId:i,forceSensorStop:a,sourceEvent:s}=e;if(!dy({lockAPI:t,store:r,registry:o,draggableId:i}))return null;const l=o.draggable.getById(i),u=function(e,t){const n="[".concat(gv.contextId,'="').concat(e,'"]'),r=_v(document,n).find(e=>e.getAttribute(gv.id)===t);return r&&Tv(r)?r:null}(n,l.descriptor.id);if(!u)return null;if(s&&!l.options.canDragInteractiveElements&&ry(u,s))return null;const d=t.claim(a||up);let h="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return t.isActive(d)}const m=function(e,t){uy({expected:e,phase:h,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),h="COMPLETED"}function o(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),o.shouldBlockNextClick){const e=dp(window,[{eventName:"click",fn:cy,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(pg({reason:t}))}return"PRE_DRAG"!==h&&(n(),pp()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),h="DRAGGING",c({isActive:()=>uy({expected:"DRAGGING",phase:h,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,drop:e=>o("DROP",e),cancel:e=>o("CANCEL",e)},e.actions)}const v={isActive:()=>uy({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:function(e){const t=sp(e=>{m(()=>lg({client:e}))});return c(c({},g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}})),{},{move:t})},snapLift:function(){const e={moveUp:()=>m(cg),moveRight:()=>m(dg),moveDown:()=>m(ug),moveLeft:()=>m(hg)};return g({liftActionArgs:{id:i,clientSelection:oy(u),movementMode:"SNAP"},cleanup:up,actions:e})},abort:function(){uy({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!0})&&t.release()}};return v}const fy=[function(e){const t=(0,r.useRef)(Jv),n=(0,r.useRef)(up),o=Tp(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,s,{sourceEvent:t});if(!o)return;t.preventDefault();const i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}),[e]),i=Tp(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}),[e]),a=Cp(function(){n.current=dp(window,[i,o],{passive:!1,capture:!0})},[i,o]),s=Cp(()=>{"IDLE"!==t.current.type&&(t.current=Jv,n.current(),a())},[a]),l=Cp(()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=Cp(function(){const e=$v({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=dp(window,e,{capture:!0,passive:!1})},[l,s]),u=Cp(function(e,n){"IDLE"!==t.current.type&&pp(),t.current={type:"PENDING",point:n,actions:e},c()},[c]);wv(function(){return a(),function(){n.current()}},[a])},function(e){const t=(0,r.useRef)(Xv),n=Tp(()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:n});if(!i)return;n.preventDefault();let a=!0;const s=i.snapLift();function l(){a||pp(),a=!1,t.current(),o()}t.current(),t.current=dp(window,Zv(s,l),{capture:!0,passive:!1})}}),[e]),o=Cp(function(){t.current=dp(window,[n],{passive:!1,capture:!0})},[n]);wv(function(){return o(),function(){t.current()}},[o])},function(e){const t=(0,r.useRef)(ey),n=(0,r.useRef)(up),o=Cp(function(){return t.current},[]),i=Cp(function(e){t.current=e},[]),a=Tp(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:t});if(!o)return;const i=t.touches[0],{clientX:a,clientY:s}=i,c={x:a,y:s};n.current(),h(o,c)}}),[e]),s=Cp(function(){n.current=dp(window,[a],{capture:!0,passive:!1})},[a]),l=Cp(()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(ey),n.current(),s())},[s,i]),c=Cp(()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),u=Cp(function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=dp(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:o,clientY:i}=e.touches[0],a={x:o,y:i};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&pp();const o=e.touches[0];if(!o)return;if(!(o.force>=.15))return;const i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}},{eventName:Yv,fn:t}]}(t),e),i=dp(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Yv,fn:t}]}(t),e);n.current=function(){r(),i()}},[c,o,l]),d=Cp(function(){const e=o();"PENDING"!==e.type&&pp();const t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})},[o,i]),h=Cp(function(e,t){"IDLE"!==o().type&&pp();const n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()},[u,o,i,d]);wv(function(){return s(),function(){n.current();const e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(ey))}},[o,s,i]),wv(function(){return dp(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function py(e){let{contextId:t,store:n,registry:o,customSensors:i,enableDefaultSensors:a}=e;const s=[...a?fy:[],...i||[]],l=(0,r.useState)(()=>function(){let e=null;function t(){e||pp(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&pp();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}())[0],c=Cp(function(e,t){Bv(e)&&!Bv(t)&&l.tryAbandon()},[l]);wv(function(){let e=n.getState();return n.subscribe(()=>{const t=n.getState();c(e,t),e=t})},[l,n,c]),wv(()=>l.tryAbandon,[l.tryAbandon]);const u=Cp(e=>dy({lockAPI:l,registry:o,store:n,draggableId:e}),[l,o,n]),d=Cp((e,r,i)=>hy({lockAPI:l,registry:o,contextId:t,store:n,draggableId:e,forceSensorStop:r||null,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null}),[t,l,o,n]),h=Cp(e=>function(e,t){const n=ly(e,t);return n?n.getAttribute(mv.draggableId):null}(t,e),[t]),f=Cp(e=>{const t=o.draggable.findById(e);return t?t.options:null},[o.draggable]),p=Cp(function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))},[l,n]),m=Cp(()=>l.isClaimed(),[l]),g=Tp(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[u,d,h,f,p,m]);Rv();for(let r=0;r<s.length;r++)s[r](g)}function my(e){return e.current||pp(),e.current}function gy(e){const{contextId:t,setCallbacks:n,sensors:o,nonce:i,dragHandleUsageInstructions:a}=e,s=(0,r.useRef)(null);Fv();const l=Mv(e),u=Cp(()=>(e=>({onBeforeCapture:t=>{(0,Uh.flushSync)(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)})},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current),[l]),d=Cp(()=>(e=>c(c(c({},ev),e.autoScrollerOptions),{},{durationDampening:c(c({},ev.durationDampening),e.autoScrollerOptions)}))(l.current),[l]),h=function(e){const t=Tp(()=>(e=>"rfd-announcement-".concat(e))(e),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)(function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),lp(e.style,Iv),jv().appendChild(e),function(){setTimeout(function(){const t=jv();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),Cp(e=>{const t=n.current;t&&(t.textContent=e)},[])}(t),f=function(e){let{contextId:t,text:n}=e;const o=Nv("hidden-text",{separator:"-"}),i=Tp(()=>function(e){let{contextId:t,uniqueId:n}=e;return"rfd-hidden-text-".concat(t,"-").concat(n)}({contextId:t,uniqueId:o}),[o,t]);return(0,r.useEffect)(function(){const e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",jv().appendChild(e),function(){const t=jv();t.contains(e)&&t.removeChild(e)}},[i,n]),i}({contextId:t,text:a}),p=Ev(t,i),m=Cp(e=>{my(s).dispatch(e)},[]),g=Tp(()=>Yh({publishWhileDragging:rg,updateDroppableScroll:ig,updateDroppableIsEnabled:ag,updateDroppableIsCombineEnabled:sg,collectionStarting:og},m),[m]),v=function(){const e=Tp(Pv,[]);return(0,r.useEffect)(()=>function(){e.clean()},[e]),e}(),y=Tp(()=>Jg(v,g),[v,g]),b=Tp(()=>fv(c({scrollWindow:Xg,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:d},Yh({move:lg},m))),[y.scrollDroppable,m,d]),w=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=Cp(function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}},[]),s=Cp(function(t){const n=Cv(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=Cp(function(e,t){n.current===e&&(n.current=t)},[]),c=Cp(function(){o.current||i.current&&(o.current=requestAnimationFrame(()=>{o.current=null;const e=n.current;e&&s(e)}))},[s]),u=Cp(function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(mv.draggableId)===e&&(n.current=e)},[]);return wv(()=>(i.current=!0,function(){i.current=!1;const e=o.current;e&&cancelAnimationFrame(e)}),[]),Tp(()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,u,c,l])}(t),x=Tp(()=>qg({announce:h,autoScroller:b,dimensionMarshal:y,focusMarshal:w,getResponders:u,styleMarshal:p}),[h,b,y,w,u,p]);s.current=x;const S=Cp(()=>{const e=my(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),E=Cp(()=>{const e=my(s).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);n(Tp(()=>({isDragging:E,tryAbort:S}),[E,S]));const _=Cp(e=>$g(my(s).getState(),e),[]),k=Cp(()=>Rm(my(s).getState()),[]),T=Tp(()=>({marshal:y,focus:w,contextId:t,canLift:_,isMovementAllowed:k,dragHandleUsageInstructionsId:f,registry:v}),[t,y,f,w,_,k,v]);return py({contextId:t,store:x,registry:v,customSensors:o||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)(()=>S,[S]),r.createElement(Ov.Provider,{value:T},r.createElement(Jf,{context:Av,store:x},e.children))}function vy(e){const t=r.useId(),n=e.dragHandleUsageInstructions||wp;return r.createElement(mp,null,o=>r.createElement(gy,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const yy=5e3,by=4500,wy=(e,t)=>t?Sg.drop(t.duration):e?Sg.snap:Sg.fluid,xy=(e,t)=>{if(e)return t?yg.drop:yg.combining};function Sy(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:o}=e,i=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(o),l=s?kg(n,i):_g(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:wy(a,o),transform:l,opacity:xy(i,s),zIndex:s?by:yy,pointerEvents:"none"}}(e):{transform:_g((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function Ey(e){const t=Nv("draggable"),{descriptor:n,registry:o,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=Tp(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}),[a,l,s]),u=Cp(e=>{const t=i();return t||pp(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pp;const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=ip(o,r),a=op(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)},[n,i]),d=Tp(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),h=(0,r.useRef)(d),f=(0,r.useRef)(!0);wv(()=>(o.draggable.register(h.current),()=>o.draggable.unregister(h.current)),[o.draggable]),wv(()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,o.draggable.update(d,e)},[d,o.draggable])}var _y=r.createContext(null);function ky(e){const t=(0,r.useContext)(e);return t||pp(),t}function Ty(e){e.preventDefault()}var Cy=(e,t)=>e===t,Py=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Ay(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const jy={mapped:{type:"SECONDARY",offset:Pp,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ay(null)}};const Iy=Yf(()=>{const e=function(){const e=Vp((e,t)=>({x:e,y:t})),t=Vp(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}}),n=Vp(function(e,n,r,o){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,o,i,a,null)}}});return(r,o)=>{if(Bv(r)){if(r.critical.draggable.id!==o.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Nm(r.impact),l=(i=r.impact).at&&"COMBINE"===i.at.type?i.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,o.isClone,s,l,c)}var i;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==o.draggableId)return null;const n=o.isClone,i=r.dimensions.draggables[o.draggableId],a=e.result,s=a.mode,l=Py(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:vg,moveTo:r.newHomeClientOffset,opacity:c?yg.drop:null,scale:c?bg.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:i,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Vp((e,t)=>({x:e,y:t})),t=Vp(Ay),n=Vp(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}}),r=e=>e?n(Pp,e,!0):null,o=(t,o,i,a)=>{const s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Jp(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;const o=Dp(a.displacedBy.point),s=e(o.x,o.y);return n(s,u,!0)}if(l)return r(u);const d=i.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(Bv(e))return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||jy},{dropAnimationFinished:mg},null,{context:Av,areStatePropsEqual:Cy})(e=>{const t=(0,r.useRef)(null),n=Cp(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e},[]),o=Cp(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=ky(Ov),{type:l,droppableId:c}=ky(_y),u=Tp(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:m,isClone:g,mapped:v,dropAnimationFinished:y}=e;if(Lv(),Rv(),!g){Ey(Tp(()=>({descriptor:u,registry:s,getDraggableRef:o,canDragInteractiveElements:m,shouldRespectForcePress:p,isEnabled:f}),[u,s,o,m,p,f]))}const b=Tp(()=>f?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Ty}:null,[i,a,h,f]),w=Cp(e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(0,Uh.flushSync)(y)},[y,v]),x=Tp(()=>{const e=Sy(v),t="DRAGGING"===v.type&&v.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:b}},[i,b,h,v,w,n]),S=Tp(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return r.createElement(r.Fragment,null,d(x,v.snapshot,S))});function Dy(e){return ky(_y).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(Iy,e):null}function Ny(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return r.createElement(Dy,lp({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}const Oy=e=>t=>e===t,Ry=Oy("scroll"),Ly=Oy("auto"),Fy=(Oy("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),My=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Fy(n,Ry)||Fy(n,Ly)})(e)?e:My(e.parentElement);var By=e=>({x:e.scrollLeft,y:e.scrollTop});const Uy=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||Uy(e.parentElement)};var zy=e=>{let{ref:t,descriptor:n,env:r,windowScroll:o,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=ap(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=Qf({top:r,right:a,bottom:i,left:o},n.border);return tp({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=op(u,o),h=(()=>{if(!c)return null;const e=ap(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:op(e,o),scroll:By(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:o,direction:i,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=Wg({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Pp,displacement:Pp}}}})(),u="vertical"===i?om:im;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Up({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:h});return f};const Vy={passive:!1},qy={passive:!0};var Wy=e=>e.shouldPublishImmediately?Vy:qy;const Gy=e=>e&&e.env.closestScrollable||null;function Hy(e){const t=(0,r.useRef)(null),n=ky(Ov),o=Nv("droppable"),{registry:i,marshal:a}=n,s=Mv(e),l=Tp(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=Tp(()=>Vp((e,n)=>{t.current||pp();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}),[l.id,a]),d=Cp(()=>{const e=t.current;return e&&e.env.closestScrollable?By(e.env.closestScrollable):Pp},[]),h=Cp(()=>{const e=d();u(e.x,e.y)},[d,u]),f=Tp(()=>sp(h),[h]),p=Cp(()=>{const e=t.current,n=Gy(e);e&&n||pp();e.scrollOptions.shouldPublishImmediately?h():f()},[f,h]),m=Cp((e,r)=>{t.current&&pp();const o=s.current,i=o.getDroppableRef();i||pp();const a=(e=>({closestScrollable:My(e),isFixedOnPage:Uy(e)}))(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=zy({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(yv.contextId,n.contextId),d.addEventListener("scroll",p,Wy(c.scrollOptions))),u},[n.contextId,l,p,s]),g=Cp(()=>{const e=t.current,n=Gy(e);return e&&n||pp(),By(n)},[]),v=Cp(()=>{const e=t.current;e||pp();const n=Gy(e);t.current=null,n&&(f.cancel(),n.removeAttribute(yv.contextId),n.removeEventListener("scroll",p,Wy(e.scrollOptions)))},[p,f]),y=Cp(e=>{const n=t.current;n||pp();const r=Gy(n);r||pp(),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),b=Tp(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y}),[v,m,g,y]),w=Tp(()=>({uniqueId:o,descriptor:l,callbacks:b}),[b,l,o]);wv(()=>(c.current=w.descriptor,i.droppable.register(w),()=>{t.current&&v(),i.droppable.unregister(w)}),[b,l,v,w,a,i.droppable]),wv(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),wv(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Ky(){}const Yy={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Jy=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const o=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?Yy:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Sg.placeholder:null}};var $y=r.memo(e=>{const t=(0,r.useRef)(null),n=Cp(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:o,onTransitionEnd:i,onClose:a,contextId:s}=e,[l,c]=(0,r.useState)("open"===e.animate);(0,r.useEffect)(()=>l?"open"!==o?(n(),c(!1),Ky):t.current?Ky:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):Ky,[o,l,n]);const u=Cp(e=>{"height"===e.propertyName&&(i(),"close"===o&&a())},[o,a,i]),d=Jy({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})});class Xy extends r.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Qy={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||pp(),document.body}},Zy=e=>{let t,n=c({},e);for(t in Qy)void 0===e[t]&&(n=c(c({},n),{},{[t]:Qy[t]}));return n},eb=(e,t)=>e===t.droppable.type,tb=(e,t)=>t.draggables[e.draggable.id],nb=Yf(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=c(c({},e),{},{shouldAnimatePlaceholder:!1}),n=Vp(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),r=Vp((r,o,i,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!o)return t;if(!a)return e;const u={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}});return(n,o)=>{const i=Zy(o),a=i.droppableId,s=i.type,l=!i.isDropDisabled,c=i.renderClone;if(Bv(n)){const e=n.critical;if(!eb(s,e))return t;const o=tb(e,n.dimensions),i=Nm(n.impact)===a;return r(a,l,i,i,o,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!eb(s,e.critical))return t;const o=tb(e.critical,n.dimensions);return r(a,l,Py(e.result)===a,Nm(e.impact)===a,o,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!eb(s,r.critical))return t;const o=Nm(r.impact)===a,i=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return o?i?e:t:l?e:t}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,n)=>c(c(c({},Zy(n)),e),t),{context:Av,areStatePropsEqual:Cy})(e=>{const t=(0,r.useContext)(Ov);t||pp();const{contextId:n,isMovementAllowed:o}=t,i=(0,r.useRef)(null),a=(0,r.useRef)(null),{children:s,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:p,snapshot:m,useClone:g,updateViewportMaxScroll:v,getContainerForClone:y}=e,b=Cp(()=>i.current,[]),w=Cp(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i.current=e},[]),x=(Cp(()=>a.current,[]),Cp(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e},[]));Lv();const S=Cp(()=>{o()&&v({maxScroll:Hg()})},[o,v]);Hy({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:b});const E=Tp(()=>r.createElement(Xy,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},e=>{let{onClose:t,data:o,animate:i}=e;return r.createElement($y,{placeholder:o,onClose:t,innerRef:x,animate:i,contextId:n,onTransitionEnd:S})}),[n,S,e.placeholder,e.shouldAnimatePlaceholder,x]),_=Tp(()=>({innerRef:w,placeholder:E,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,E,w]),k=g?g.dragging.draggableId:null,T=Tp(()=>({droppableId:l,type:c,isUsingCloneFor:k}),[l,k,c]);return r.createElement(_y.Provider,{value:T},s(_,m),function(){if(!g)return null;const{dragging:e,render:t}=g,n=r.createElement(Dy,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(n,r)=>t(n,r,e));return Uh.createPortal(n,y())}())}),rb=(0,r.memo)(e=>{let{player:t,playerId:n,isLocked:o,isDragging:i,isDragOver:a,showAverages:s,scoreColorClass:l,onToggleLock:u,provided:d,onDragEnter:h,onDragLeave:f,onDragOver:p}=e;const[m,g]=(0,r.useState)(!1),v=()=>{g(!0),u(n),setTimeout(()=>g(!1),600)};return(0,di.jsxs)(Cl.div,c(c(c({className:"player-card ".concat(a?"drag-over":""," ").concat(i?"dragging":""," ").concat(o?"locked":""),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{onDragEnter:h,onDragLeave:f,onDragOver:p,onClick:v,role:"button",tabIndex:0,"aria-label":"".concat(o?"Desbloquear":"Bloquear"," jugador ").concat(t.name||t.nombre),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),v())},animate:{boxShadow:m?o?"0 0 20px rgba(255, 215, 0, 0.6)":"0 0 20px rgba(34, 197, 94, 0.6)":"0 2px 8px rgba(0,0,0,0.1)",x:m?[0,-2,2,-2,2,0]:0},transition:{boxShadow:{duration:.6},x:{duration:.4,times:[0,.2,.4,.6,.8,1]}},children:[(0,di.jsx)("img",{src:t.foto_url||"https://api.dicebear.com/6.x/pixel-art/svg?seed=default",alt:t.name||t.nombre,className:"player-avatar"}),(0,di.jsx)("span",{children:t.name||t.nombre}),o&&(0,di.jsx)(Cl.span,{className:"lock-icon",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:"\ud83d\udd12"}),s&&(0,di.jsx)("span",{className:"player-score ".concat(l),children:(t.score||ve).toFixed(1)})]}))});rb.displayName="PlayerCard";const ob=rb,ib=e=>{let{teams:t,players:n,onTeamsChange:o,onBackToHome:i}=e;const[a,s]=(0,r.useState)(!1),[l,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(new Set),b=(0,r.useCallback)(e=>n.find(t=>t.uuid===e)||{},[n]),w=(0,r.useMemo)(()=>n.map(e=>e.score||ve),[n]),x=(0,r.useCallback)(e=>{var n;const r=null===(n=t.find(t=>t.players.includes(e)))||void 0===n?void 0:n.id;if(!r)return;const o=t.find(e=>e.id===r).players.filter(e=>v.has(e)).length;if(v.has(e)){const t=new Set(v);t.delete(e),y(t)}else{if(o>=ge)return void z.error("M\xe1ximo 3 jugadores bloqueados por equipo");const t=new Set(v);t.add(e),y(t)}},[t,v]),S=(e,t)=>{if(!t.length)return"";const n=[...t].sort((e,t)=>e-t),r=n[0],o=n[n.length-1],i=n.reduce((e,t)=>e+t,0)/n.length;return e<=r+.25*(o-r)?"score-low":e<i?"score-below-avg":e>i+.5*(o-i)?"score-high":"score-above-avg"};if(!Array.isArray(t)||t.length<2||!t.find(e=>"equipoA"===e.id)||!t.find(e=>"equipoB"===e.id))return(0,di.jsx)("div",{className:"team-display-container",children:(0,di.jsx)("div",{style:{padding:"40px 20px",color:"#DE1C49",textAlign:"center",fontFamily:"Oswald, Arial, sans-serif",fontSize:"18px",background:"rgba(222,28,73,0.1)",borderRadius:"16px",border:"2px solid rgba(222,28,73,0.3)"},children:"\u23f3 Esperando que se armen ambos equipos..."})});const E=(e,n)=>{const r=t.map(t=>t.id===e?c(c({},t),{},{name:n}):t);o(r),u(null)};return(0,di.jsx)(vy,{onDragEnd:e=>{const{source:n,destination:r}=e;if(h(null),!r)return;const i=t.findIndex(e=>e.id===n.droppableId),a=t.findIndex(e=>e.id===r.droppableId);if(i!==a){const e=t[i],s=t[a],l=Array.from(e.players),u=Array.from(s.players),[d]=l.splice(n.index,1),[h]=u.splice(r.index,1,d);l.splice(n.index,0,h);const f=b(d),p=b(h),m=[...t];m[i]=c(c({},e),{},{players:l,score:e.score-(f.score||0)+(p.score||0)}),m[a]=c(c({},s),{},{players:u,score:s.score-(p.score||0)+(f.score||0)}),o(m)}else{const e=t[i],a=Array.from(e.players),[s]=a.splice(n.index,1);a.splice(r.index,0,s);const l=t.map((e,t)=>t===i?c(c({},e),{},{players:a}):e);o(l)}},children:(0,di.jsxs)("div",{className:"team-display-container",children:[(0,di.jsx)("h2",{className:"match-name",children:"EQUIPOS ARMADOS"}),(0,di.jsx)("div",{className:"teams-wrapper",children:t.map(e=>{var t,r;return(0,di.jsxs)("div",{className:"team-container",children:[(0,di.jsx)("div",{className:"team-header",children:l===e.id?(0,di.jsx)("input",{className:"team-name-input",type:"text",defaultValue:e.name,autoFocus:!0,onBlur:t=>E(e.id,t.target.value),onKeyPress:t=>{"Enter"===t.key&&E(e.id,t.target.value)}}):(0,di.jsx)("h3",{className:"team-name",onClick:()=>u(e.id),role:"button",tabIndex:0,"aria-label":"Editar nombre del ".concat(e.name),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),u(e.id))},children:e.name})}),(0,di.jsx)(nb,{droppableId:e.id,children:t=>(0,di.jsxs)("div",c(c({className:"players-grid"},t.droppableProps),{},{ref:t.innerRef,children:[0===e.players.length?(0,di.jsx)("div",{className:"team-empty-state",children:"No hay jugadores asignados"}):e.players.filter(e=>n.some(t=>t.uuid===e)).map((e,t)=>{const n=b(e);return e&&null!==n&&void 0!==n&&n.nombre?(0,di.jsx)(Ny,{draggableId:String(e),index:t,children:(t,r)=>(0,di.jsx)(ob,{player:n,playerId:e,isLocked:v.has(e),isDragging:r.isDragging,isDragOver:d===e&&!r.isDragging,showAverages:a,scoreColorClass:S(n.score||ve,w),onToggleLock:x,provided:t,onDragEnter:t=>{t.preventDefault(),r.isDragging||h(e)},onDragLeave:e=>{e.preventDefault(),h(null)},onDragOver:e=>e.preventDefault()})},String(e)):null}),t.placeholder]}))},e.id),(0,di.jsxs)("div",{className:"team-score-box",children:["PUNTAJE TOTAL: ",null!==(t=null===(r=e.score)||void 0===r?void 0:r.toFixed(1))&&void 0!==t?t:"0.0"]})]},e.id)})}),m&&(0,di.jsx)("div",{className:"confetti-container"}),(0,di.jsxs)("div",{className:"team-actions",children:[(0,di.jsx)("button",{onClick:()=>{const e=t.find(e=>"equipoA"===e.id),n=t.find(e=>"equipoB"===e.id),r=e.players.filter(e=>v.has(e)),i=n.players.filter(e=>v.has(e)),a=t.flatMap(e=>e.players).filter(e=>!v.has(e)),s=e.players.length+n.players.length,l=Math.ceil(s/2),u=l-r.length,d=l-i.length;if(u<0||d<0||u+d!==a.length)return void z.error("No se puede balancear con los jugadores bloqueados actuales");const h=[];for(let t=0;t<me;t++){const e=[...a].sort(()=>Math.random()-.5),t=e.slice(0,u),n=e.slice(u),o=[...r,...t],s=[...i,...n],l=o.reduce((e,t)=>e+(b(t).score||0),0),c=s.reduce((e,t)=>e+(b(t).score||0),0),d=Math.abs(l-c);d<=pe&&h.push({teamA:o,teamB:s,scoreA:l,scoreB:c,scoreDiff:d})}if(0===h.length)return void z.error("No se pudo balancear los equipos. Intenta desbloquear algunos jugadores.");const f=h[Math.floor(Math.random()*h.length)],m=t.map(e=>"equipoA"===e.id?c(c({},e),{},{players:f.teamA,score:f.scoreA}):"equipoB"===e.id?c(c({},e),{},{players:f.teamB,score:f.scoreB}):e);o(m),f.scoreDiff===ye&&(z.success("\xa1Match Perfecto! Los equipos est\xe1n balanceados."),p(!0),g(!0),setTimeout(()=>{p(!1),g(!1)},be))},className:"team-action-btn randomize-btn wipe-btn","aria-label":"Mezclar jugadores entre equipos",children:(0,di.jsx)("span",{children:"MEZCLAR EQUIPOS"})}),(0,di.jsx)("button",{onClick:()=>s(!a),className:"team-action-btn averages-btn wipe-btn","aria-label":a?"Ocultar puntajes de jugadores":"Mostrar puntajes de jugadores",children:(0,di.jsx)("span",{children:a?"OCULTAR PUNTAJES":"VER PUNTAJES"})}),(0,di.jsx)("button",{onClick:()=>{const e=t.find(e=>"equipoA"===e.id),n=t.find(e=>"equipoB"===e.id),r="*".concat(e.name,"* (Puntaje: ").concat(e.score.toFixed(2),")\n").concat(e.players.map(e=>b(e).nombre).join("\n")),o="*".concat(n.name,"* (Puntaje: ").concat(n.score.toFixed(2),")\n").concat(n.players.map(e=>b(e).nombre).join("\n")),i="Equipos armados:\n\n".concat(r,"\n\n").concat(o);window.open("https://wa.me/?text=".concat(encodeURIComponent(i)),"_blank")},className:"team-action-btn whatsapp-btn wipe-btn","aria-label":"Compartir equipos por WhatsApp",children:(0,di.jsxs)("span",{children:[(0,di.jsx)(uh,{size:we.WHATSAPP_ICON_SIZE,style:{marginRight:8}}),"COMPARTIR POR WHATSAPP"]})}),(0,di.jsx)("button",{onClick:i,className:"team-action-btn back-btn wipe-btn","aria-label":"Volver al men\xfa principal",style:{fontSize:"1.5rem"},children:(0,di.jsx)("span",{children:"VOLVER AL INICIO"})})]})]})})};function ab(e){let{onBackToHome:t,jugadores:n,onJugadoresChange:o,partidoActual:i}=e;const{shareContent:a,vibrate:s,sendNotification:l,saveData:c,getData:u}=Yd(),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)([]),[x,S]=(0,r.useState)(!1),[E,_]=(0,r.useState)(!1),[k,T]=(0,r.useState)(!1),[C,P]=(0,r.useState)([{id:"equipoA",name:"Equipo A",players:[],score:0},{id:"equipoB",name:"Equipo B",players:[],score:0}]),A=(0,r.useRef)();async function j(e){S(!0);try{await(async e=>{await bd.from("jugadores").delete().eq("uuid",e),await bd.from("votos").delete().eq("votante_id",e),await bd.from("votos").delete().eq("votado_id",e)})(e);const t=n.filter(t=>t.uuid!==e);await Cd(i.id,t),o(t)}catch(t){z.error("Error eliminando jugador: "+t.message)}finally{S(!1)}}n=n||[],Array.isArray(n)||(n=[]),(0,r.useEffect)(()=>{async function e(){if(null!==i&&void 0!==i&&i.id)try{const e=await Ed(i.id),t=await(async e=>{if(!e)return console.warn("getVotantesConNombres: No partidoId provided"),[];console.log("Fetching voters with names for match:",e);const{data:t,error:n}=await bd.from("votos").select("votante_id, jugador_nombre, jugador_foto_url").eq("partido_id",e);if(n)throw console.error("Error fetching voters with names:",n),new Error("Error fetching voters: ".concat(n.message));const r=new Map;(t||[]).forEach(e=>{e.votante_id&&!r.has(e.votante_id)&&r.set(e.votante_id,{nombre:e.jugador_nombre||"Jugador",foto_url:e.jugador_foto_url})});const o=Array.from(r.entries()).map(e=>{let[t,n]=e;return{id:t,nombre:n.nombre,foto_url:n.foto_url}});return console.log("Voters with names found:",o),o})(i.id);h(e||[]),p(t||[]);const n=(await wd()).filter(e=>i.jugadores.some(t=>t.uuid===e.uuid));n.length>0&&o(n)}catch(e){console.error("Error cargando votantes:",e)}}e();const t=setInterval(e,2e3);return()=>clearInterval(t)},[null===i||void 0===i?void 0:i.id]),(0,r.useEffect)(()=>{if(n.length>0&&null!==i&&void 0!==i&&i.id){async function e(){try{const e=await Ed(i.id);h(e||[])}catch(e){}}e()}},[n.length,null===i||void 0===i?void 0:i.id]);const I=e=>{if(!Array.isArray(e))return;let t=e.find(e=>e&&"equipoA"===e.id),n=e.find(e=>e&&"equipoB"===e.id);t||(t={id:"equipoA",name:"Equipo A",players:[],score:0}),n||(n={id:"equipoB",name:"Equipo B",players:[],score:0}),P([t,n])};const D=k&&Array.isArray(C)&&2===C.length&&C.find(e=>"equipoA"===e.id)&&C.find(e=>"equipoB"===e.id),N=E||x||n.length<2;if(!i)return(0,di.jsx)("div",{style:{color:"red"},children:"Sin partido cargado"});const O=e=>{if(!e)return"";return e.split(/[,(]/)[0].trim()};return(0,di.jsx)("div",{className:"admin-panel-content",children:D?(0,di.jsx)(ib,{teams:C,players:n,onTeamsChange:e=>{I(e)},onBackToHome:t}):(0,di.jsxs)(di.Fragment,{children:[(0,di.jsxs)("div",{className:"match-header",children:[(0,di.jsx)("div",{className:"match-name",children:i.from_frequent_match_id&&i.frequent_match_name?i.frequent_match_name:i.nombre?i.nombre:"PARTIDO"}),(0,di.jsxs)("div",{className:"match-details",children:[i.fecha&&new Date(i.fecha+"T00:00:00").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"numeric"}),i.hora&&" ".concat(i.hora),i.sede&&(0,di.jsxs)(di.Fragment,{children:[" \u2013 ",(0,di.jsx)("a",{href:"https://www.google.com/maps/search/".concat(encodeURIComponent(O(i.sede))),target:"_blank",rel:"noopener noreferrer",className:"venue-link",children:O(i.sede)})]})]})]}),(0,di.jsx)("div",{className:"admin-add-section",children:(0,di.jsxs)("form",{className:"admin-add-form",onSubmit:async function(e){e.preventDefault();const t=m.trim();if(t)if(n.some(e=>e.nombre.toLowerCase()===t.toLowerCase()))z.warn("Este jugador ya existe.");else{S(!0);try{const e=await(async e=>{const{data:t,error:n}=await bd.from("jugadores").insert([{nombre:e,score:5}]).select().single();if(n)throw n;return t})(t),r=[...n,e];await Cd(i.id,r),o(r),g(""),setTimeout(()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},10)}catch(r){z.error("Error agregando jugador: "+r.message)}finally{S(!1)}}},autoComplete:"off",children:[(0,di.jsx)("input",{className:"input-modern",type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Nombre del jugador",disabled:x,ref:A,maxLength:40,required:!0,"aria-label":"Nombre del nuevo jugador"}),(0,di.jsx)("button",{className:"voting-confirm-btn",type:"submit",disabled:x||E,children:x?xe:"AGREGAR"})]})}),(0,di.jsxs)("div",{className:"admin-players-section",children:[(0,di.jsxs)("div",{className:"admin-players-title",children:["JUGADORES (",n.length,") - VOTARON: ",f.map(e=>e.nombre).join(", ")||"Nadie a\xfan"]}),0===n.length?(0,di.jsx)("div",{className:"admin-players-empty",children:"A\xfan no hay jugadores agregados"}):(0,di.jsx)("div",{className:"admin-players-grid",children:n.map(e=>{const t=f.some(t=>t.nombre===e.nombre);return(0,di.jsxs)("div",{className:"admin-player-item".concat(t?" voted":""),style:t?{background:"rgba(0,255,136,0.3) !important",border:"3px solid #00ff88 !important",boxShadow:"0 0 15px rgba(0,255,136,0.6) !important"}:{},children:[e.foto_url?(0,di.jsx)("img",{src:e.foto_url,alt:e.nombre,className:"admin-player-avatar"}):(0,di.jsx)("div",{className:"admin-player-avatar-placeholder",children:"\ud83d\udc64"}),(0,di.jsx)("span",{className:"admin-player-name",children:e.nombre}),(0,di.jsx)("button",{className:"admin-remove-btn",onClick:()=>j(e.uuid),type:"button","aria-label":"Eliminar jugador",disabled:E,children:"\xd7"})]},e.uuid)})})]}),(0,di.jsxs)("div",{className:"admin-actions",children:[(0,di.jsx)("button",{className:"voting-confirm-btn admin-btn-primary",onClick:async function(){const e="".concat(window.location.origin,"/?codigo=").concat(i.codigo);try{await navigator.clipboard.writeText(e),await s("light"),z.success("\xa1Link copiado!",{autoClose:2e3})}catch(t){z.error("Error copiando link")}},"aria-label":"Copiar enlace para que los jugadores voten",children:"LINK PARA JUGADORES"}),(0,di.jsxs)("button",{className:"voting-confirm-btn admin-btn-whatsapp",onClick:async function(){const e="".concat(window.location.origin,"/?codigo=").concat(i.codigo),t="Entr\xe1 a votar para armar los equipos";try{await a("Team Balancer",t,e),await s("medium")}catch(n){window.open("https://wa.me/?text=".concat(encodeURIComponent(t+": "+e)),"_blank")}},"aria-label":"Compartir enlace por WhatsApp",children:[(0,di.jsx)(uh,{size:we.WHATSAPP_ICON_SIZE,style:{marginRight:8}}),"COMPARTIR POR WHATSAPP"]}),(0,di.jsxs)("div",{style:{position:"relative"},children:[(0,di.jsx)("button",{className:"voting-confirm-btn admin-btn-danger",onClick:async function(){if(E)return void z.warn("Operaci\xf3n en progreso, espera un momento");if(!i)return void z.error("Error: No hay partido activo");if(!n||0===n.length)return void z.error("Error: No hay jugadores en el partido");if(n.length<2)return void z.error("Se necesitan al menos 2 jugadores");if(n.length%2!==0)return void z.warn("Agrega al menos 2 jugadores para formar equipos",{autoClose:2e3});if(n.filter(e=>!e.uuid).length>0)return void z.error("Error: Algunos jugadores no tienen ID v\xe1lido");if(0===d.length){if(!window.confirm("No se detectaron votos. \xbfEst\xe1s seguro de que quer\xe9s continuar? Los equipos se formar\xe1n con puntajes por defecto."))return}const e=d.length>0?"\xbfCerrar votaci\xf3n y armar equipos? Se procesaron ".concat(d.length," votos."):"\xbfCerrar votaci\xf3n y armar equipos con puntajes por defecto?";if(window.confirm(e)){_(!0);try{var t,r,a,c;const e=await(async e=>{console.log("\ud83d\udcca SUPABASE: Starting closeVotingAndCalculateScores");try{console.log("\ud83d\udcca SUPABASE: Step 1 - Fetching votes for match:",e);const{data:t,error:n}=await bd.from("votos").select("votado_id, puntaje, votante_id").eq("partido_id",e);if(n)throw console.error("\u274c SUPABASE: Error fetching votes:",n),new Error("Error al obtener los votos: "+n.message);console.log("\u2705 SUPABASE: Votes fetched:",{count:(null===t||void 0===t?void 0:t.length)||0,sample:(null===t||void 0===t?void 0:t.slice(0,3))||[]}),console.log("\ud83d\udcca SUPABASE: Step 2 - Fetching players");const{data:r,error:o}=await bd.from("jugadores").select("uuid, nombre");if(o)throw console.error("\u274c SUPABASE: Error fetching players:",o),new Error("Error al obtener los jugadores: "+o.message);if(console.log("\u2705 SUPABASE: Players fetched:",{count:(null===r||void 0===r?void 0:r.length)||0,players:(null===r||void 0===r?void 0:r.map(e=>({uuid:e.uuid,nombre:e.nombre})))||[]}),!r||0===r.length)return console.warn("\u26a0\ufe0f SUPABASE: No players found"),{message:"No hay jugadores para actualizar."};console.log("\ud83d\udcca SUPABASE: Step 3 - Grouping votes by player");const i={};let a=0,s=0;if(t&&t.length>0)for(const e of t)if(e.votado_id)if(i[e.votado_id]||(i[e.votado_id]=[]),null!==e.puntaje&&void 0!==e.puntaje){const t=Number(e.puntaje);isNaN(t)?(console.warn("\u26a0\ufe0f SUPABASE: Invalid score:",e.puntaje),s++):(i[e.votado_id].push(t),a++)}else s++;else console.warn("\u26a0\ufe0f SUPABASE: Vote without votado_id:",e),s++;console.log("\u2705 SUPABASE: Votes grouped:",{totalValidVotes:a,totalInvalidVotes:s,playersWithVotes:Object.keys(i).length,voteDistribution:Object.entries(i).map(e=>{let[t,n]=e;return{playerId:t,voteCount:n.length,votes:n.filter(e=>-1!==e)}})}),console.log("\ud83d\udcca SUPABASE: Step 4 - Calculating averages and updating scores");const l=[],c=[];for(const e of r){const t=(i[e.uuid]||[]).map(e=>Number(e)).filter(e=>!isNaN(e)&&-1!==e&&e>=1&&e<=10);let n=5;if(t.length>0){const e=t.reduce((e,t)=>e+t,0);n=Math.round(e/t.length*100)/100}c.push({uuid:e.uuid,nombre:e.nombre,votes:t,avgScore:n});const r=bd.from("jugadores").update({score:n}).eq("uuid",e.uuid);l.push(r)}console.log("\u2705 SUPABASE: Score calculations:",c),console.log("\ud83d\udcca SUPABASE: Executing score updates");const u=(await Promise.all(l)).filter(e=>e.error);if(u.length>0)throw console.error("\u274c SUPABASE: Score update errors:",u.map(e=>e.error)),new Error("Error al actualizar los puntajes de ".concat(u.length," jugadores."));console.log("\u2705 SUPABASE: All scores updated successfully"),console.log("\ud83d\udcca SUPABASE: Step 5 - Clearing votes for match:",e);const{error:d,count:h}=await bd.from("votos").delete().eq("partido_id",e);if(d)throw console.error("\u274c SUPABASE: Error clearing votes:",d),new Error("Puntajes actualizados, pero hubo un error al limpiar los votos: "+d.message);console.log("\u2705 SUPABASE: Votes cleared:",{deletedCount:h});const f={message:"Votaci\xf3n cerrada. Se actualizaron los puntajes de ".concat(r.length," jugadores."),playersUpdated:r.length,votesProcessed:a,votesCleared:h||(null===t||void 0===t?void 0:t.length)||0};return console.log("\ud83c\udf89 SUPABASE: closeVotingAndCalculateScores completed successfully:",f),f}catch(t){throw console.error("\u274c SUPABASE: closeVotingAndCalculateScores failed:",t),console.error("\u274c SUPABASE: Error stack:",t.stack),t}})(i.id);if(!e)throw new Error("No se recibi\xf3 respuesta del cierre de votaci\xf3n");const n=await wd();if(!n||0===n.length)throw new Error("No se pudieron obtener los jugadores actualizados");const u=n.filter(e=>i.jugadores.some(t=>t.uuid===e.uuid));if(0===u.length)throw new Error("No se encontraron jugadores del partido con puntajes actualizados");const d=function(e){const t=[...e].sort((e,t)=>{var n,r;return(null!==(n=t.score)&&void 0!==n?n:0)-(null!==(r=e.score)&&void 0!==r?r:0)}),n=[],r=[];let o=0,i=0;return t.forEach(e=>{var t;if(n.length<r.length)n.push(e.uuid),o+=null!==(t=e.score)&&void 0!==t?t:0;else if(r.length<n.length){var a;r.push(e.uuid),i+=null!==(a=e.score)&&void 0!==a?a:0}else{var s,l;o<=i?(n.push(e.uuid),o+=null!==(s=e.score)&&void 0!==s?s:0):(r.push(e.uuid),i+=null!==(l=e.score)&&void 0!==l?l:0)}}),[{id:"equipoA",name:"Equipo A",players:n,score:o},{id:"equipoB",name:"Equipo B",players:r,score:i}]}(u);if(!d||2!==d.length)throw new Error("Error al crear los equipos");const h=(null===(t=d[0])||void 0===t||null===(r=t.players)||void 0===r?void 0:r.length)||0,f=(null===(a=d[1])||void 0===a||null===(c=a.players)||void 0===c?void 0:c.length)||0;if(0===h||0===f)throw new Error("Los equipos creados est\xe1n vac\xedos");I(d),T(!0),o(u),await s("heavy"),await l("Equipos Listos","Los equipos han sido creados exitosamente"),z.success(e.message||"Votaci\xf3n cerrada y equipos creados")}catch(u){let e="Error al cerrar la votaci\xf3n";u.message.includes("votos")?e="Error al procesar los votos":u.message.includes("jugadores")?e="Error al actualizar los jugadores":u.message.includes("equipos")?e="Error al crear los equipos":u.message&&(e=u.message),z.error(e),T(!1)}finally{_(!1)}}},disabled:N,style:{opacity:N?.6:1,cursor:N?"not-allowed":"pointer"},"aria-label":E?"Cerrando votaci\xf3n":"Cerrar votaci\xf3n con ".concat(n.length," jugadores"),children:E?(0,di.jsxs)(di.Fragment,{children:["\ud83d\udd04 ",Se]}):"CERRAR VOTACI\xd3N (".concat(n.length," jugadores)")}),n.length<2&&(0,di.jsx)("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",fontFamily:"Oswald, Arial, sans-serif",textAlign:"center",marginTop:"8px",background:"rgba(255,255,255,0.1)",padding:"8px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)"},children:"Agrega al menos 2 jugadores para formar equipos"})]}),(0,di.jsx)("button",{className:"voting-confirm-btn admin-btn-secondary",onClick:t,"aria-label":"Volver al men\xfa principal",style:{width:"100%",fontSize:"1.5rem"},children:"VOLVER AL INICIO"})]})]})})}function sb(){return sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(this,arguments)}var lb=function(e){var t=(0,r.useRef)(e);return t.current=e,t},cb=function(e){var t=void 0===e?{}:e,n=t.requestOptions,o=t.debounce,i=void 0===o?200:o,a=t.cache,s=void 0===a?86400:a,l=t.cacheKey,c=void 0===l?"upa":l,u=t.googleMaps,d=t.callbackName,h=t.defaultValue,f=void 0===h?"":h,p=t.initOnMount,m=void 0===p||p,g=(0,r.useState)(!1),v=g[0],y=g[1],b=(0,r.useState)(f),w=b[0],x=b[1],S=(0,r.useState)({loading:!1,status:"",data:[]}),E=S[0],_=S[1],k=(0,r.useRef)(),T=lb(n),C=lb(u),P=(0,r.useCallback)(function(){var e;if(!k.current){var t=window.google,n=C.current,r=(null==n?void 0:n.places)||(null==t||null==(e=t.maps)?void 0:e.places);r?(k.current=new r.AutocompleteService,y(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}},[C]),A=(0,r.useCallback)(function(){_({loading:!1,status:"",data:[]})},[]),j=(0,r.useCallback)(function(e){void 0===e&&(e=c);try{sessionStorage.removeItem(e)}catch(t){}},[c]),I=(0,r.useCallback)(function(e,t){var n;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];null!==n&&(clearTimeout(n),n=null),n=setTimeout(function(){return e.apply(r,i)},t)}}(function(e){var t;if(e){_(function(e){return sb({},e,{loading:!0})});var n={};try{n=JSON.parse(sessionStorage.getItem(c)||"{}")}catch(r){}s&&(n=Object.keys(n).reduce(function(e,t){return n[t].maxAge-Date.now()>=0&&(e[t]=n[t]),e},{}))[e]?_({loading:!1,status:"OK",data:n[e].data}):null==(t=k.current)||t.getPlacePredictions(sb({},T.current,{input:e}),function(t,o){if(_({loading:!1,status:o,data:t||[]}),s&&"OK"===o){n[e]={data:t,maxAge:Date.now()+1e3*s};try{sessionStorage.setItem(c,JSON.stringify(n))}catch(r){}}})}else A()},i),[s,c,A,T]),D=(0,r.useCallback)(function(e,t){void 0===t&&(t=!0),x(e),k.current&&t&&I(e)},[I]);return(0,r.useEffect)(function(){if(!m)return function(){return null};var e=window.google;return C.current||null!=e&&e.maps||!d?P():window[d]=P,function(){window[d]&&delete window[d]}},[d,C,P,m]),{ready:v,value:w,suggestions:E,setValue:D,clearSuggestions:A,clearCache:j,init:P}};function ub(e){let{value:t,onSelect:n}=e;const{ready:r,value:o,setValue:i,suggestions:{status:a,data:s},clearSuggestions:l}=cb({debounce:300,defaultValue:t||"",requestOptions:{componentRestrictions:{country:"ar"}}});return(0,di.jsxs)("div",{style:{position:"relative",marginBottom:24,width:"100%",boxSizing:"border-box"},children:[(0,di.jsx)("input",{className:"input-modern",type:"text",placeholder:"Sede, club o direcci\xf3n",value:o,onChange:e=>i(e.target.value),disabled:!r,style:{width:"100%",boxSizing:"border-box"}}),"OK"===a&&(0,di.jsx)("div",{style:{position:"absolute",background:"#fff",zIndex:50,left:0,right:0,boxShadow:"0 2px 8px 0 #0001",borderRadius:8,top:48,padding:"3px 0",maxHeight:220,overflowY:"auto",width:"100%",boxSizing:"border-box"},children:s.filter(e=>e.description&&e.description.toLowerCase().includes("argentina")).map(e=>{let{place_id:t,description:r}=e;return(0,di.jsx)("div",{onClick:async()=>{i(r,!1),l();const e=await function(e){var t=new window.google.maps.Geocoder;return new Promise(function(n,r){t.geocode(e,function(t,o){"OK"!==o&&r(o),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),n(t)),n(t)})})}({address:r}),{lat:o,lng:a}=await function(e){var t=e.geometry.location,n=t.lat,r=t.lng;return{lat:n(),lng:r()}}(e[0]);n({description:r,place_id:t,lat:o,lng:a})},style:{padding:"8px 18px",cursor:"pointer",fontSize:18,borderBottom:"1px solid #eceaf1"},children:r},t)})})]})}const db=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ha ocurrido un error";console.error("Error:",e);const n=(null===e||void 0===e?void 0:e.message)||t;return z.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e},hb=async(e,t)=>{try{return await e()}catch(n){throw db(n,t)}},fb=1,pb=2,mb=3,gb=4;function vb(e){let{onConfirmar:t,onVolver:n}=e;const[o,i]=(0,r.useState)(fb),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(""),[w,x]=(0,r.useState)("slide-in"),[S,E]=(0,r.useState)(!1),[_,k]=(0,r.useState)(null),[T,C]=(0,r.useState)(null),P=e=>{e.target.files&&e.target.files[0]&&(k(e.target.files[0]),C(URL.createObjectURL(e.target.files[0])))},A=()=>{x("slide-out"),setTimeout(()=>{i(e=>e+1),x("slide-in")},300)},j=()=>{x("slide-out"),setTimeout(()=>{i(e=>e-1),x("slide-in")},300)},I=e=>{E(!0),x("slide-out"),setTimeout(()=>{i(e),x("slide-in")},300)},D=()=>{E(!1),x("slide-out"),setTimeout(()=>{i(gb),x("slide-in")},300)},N=async()=>{v(!0),b("");try{const{data:{user:n}}=await bd.auth.getUser();let r;if(n){let e=null;if(_)try{const t=_.name.split(".").pop(),n="partido_".concat(Date.now(),".").concat(t),{error:r}=await bd.storage.from("jugadores-fotos").upload(n,_,{upsert:!0});if(r)throw r;const{data:o}=bd.storage.from("jugadores-fotos").getPublicUrl(n);e=null===o||void 0===o?void 0:o.publicUrl,console.log("Match image uploaded successfully:",e)}catch(y){console.error("Error uploading match image:",y)}const t=await hb(()=>(async e=>{let{nombre:t,sede:n,hora:r,jugadores_frecuentes:o,dia_semana:i,habilitado:a,imagen_url:s}=e;const{data:{user:l},error:c}=await bd.auth.getUser();if(c||!l)throw new Error("User must be authenticated to create frequent matches");if(!t||!n||!r||void 0===i){const e=[];throw t||e.push("nombre"),n||e.push("sede"),r||e.push("hora"),void 0===i&&e.push("dia_semana"),new Error("Missing required fields: ".concat(e.join(", ")))}const u={nombre:t.trim(),sede:n.trim(),hora:r.trim(),jugadores_frecuentes:o||[],creado_por:l.id,creado_en:(new Date).toISOString(),habilitado:void 0===a||a,dia_semana:parseInt(i),imagen_url:s||null},{data:d,error:h}=await bd.from("partidos_frecuentes").insert([u]).select().single();if(h)throw new Error("Error creating frequent match: ".concat(h.message));if(!d)throw new Error("No data returned from frequent match creation");return d})({nombre:a.trim(),sede:h.trim(),hora:u.trim(),jugadores_frecuentes:[],dia_semana:new Date(l).getDay(),habilitado:!0,imagen_url:e}),"Error al crear el partido frecuente");r=await hb(()=>Ad(t,l),"Error al crear el partido"),r.from_frequent_match_id=t.id}else r=await hb(()=>kd({fecha:l,hora:u.trim(),sede:h.trim(),sedeMaps:(null===p||void 0===p?void 0:p.place_id)||""}),"Error al crear el partido"),r.nombre=a.trim();if(!r)return void b("No se pudo crear el partido");await t(r),e="Partido creado correctamente",z.success(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}catch(n){b(n.message||"Error al procesar la solicitud")}finally{v(!1)}var e};return o===fb?(0,di.jsx)("div",{className:"voting-bg new-match-flow",children:(0,di.jsx)("div",{className:"player-vote-card",children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{padding:"20px",maxWidth:"none",width:"100vw",margin:"0",boxSizing:"border-box"},children:[(0,di.jsxs)("div",{className:"match-name",children:["INGRES\xc1 EL NOMBRE",(0,di.jsx)("br",{}),"DEL PARTIDO"]}),(0,di.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:18},children:[(0,di.jsxs)("div",{className:"voting-photo-box",onClick:()=>document.getElementById("partido-foto-input").click(),style:{cursor:"pointer",width:280,height:280},title:T?"Cambiar foto":"Agregar foto opcional",children:[T?(0,di.jsx)("img",{src:T,alt:"foto partido",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,di.jsx)("span",{className:"photo-plus",children:"+"}),(0,di.jsx)("input",{id:"partido-foto-input",type:"file",accept:"image/*",style:{display:"none"},onChange:P})]}),(0,di.jsx)("div",{style:{fontSize:16,color:"rgba(255,255,255,0.7)",textAlign:"center",marginTop:12,fontFamily:"'Oswald', Arial, sans-serif"},children:"Agreg\xe1 una imagen para el partido (opcional)"})]}),(0,di.jsx)("input",{className:"input-modern",type:"text",placeholder:"Ej: Partido del Viernes",value:a,onChange:e=>s(e.target.value),style:{marginBottom:22,width:"100%",boxSizing:"border-box"},autoFocus:!0}),(0,di.jsx)("button",{className:"voting-confirm-btn",disabled:!a.trim(),style:{opacity:a.trim()?1:.4,marginBottom:12},onClick:S?D:A,children:S?"GUARDAR":"CONTINUAR"}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{background:"rgba(255,255,255,0.1)",borderColor:"#fff",color:"#fff"},onClick:S?D:n,children:S?"CANCELAR":"VOLVER AL INICIO"})]})})}):o===pb?(0,di.jsx)("div",{className:"voting-bg new-match-flow",children:(0,di.jsx)("div",{className:"player-vote-card ".concat(w),children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{padding:"20px",maxWidth:"none",width:"100vw",margin:"0",boxSizing:"border-box"},children:[(0,di.jsx)("div",{className:"match-name",children:"\xbfCU\xc1NDO SE JUEGA?"}),(0,di.jsx)("div",{style:{fontSize:18,color:"rgba(255,255,255,0.8)",textAlign:"center",marginBottom:24,fontFamily:"'Oswald', Arial, sans-serif"},children:"Seleccion\xe1 la fecha y hora del partido"}),(0,di.jsx)("input",{className:"input-modern",type:"date",value:l,onChange:e=>c(e.target.value),style:{marginBottom:22,width:"100%"}}),(0,di.jsx)("input",{className:"input-modern",type:"time",value:u,onChange:e=>d(e.target.value),style:{marginBottom:22,width:"100%",height:55}}),(0,di.jsx)("button",{className:"voting-confirm-btn",disabled:!l||!u,style:{opacity:l&&u?1:.4,marginBottom:12},onClick:S?D:A,children:S?"GUARDAR":"CONTINUAR"}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{background:"rgba(255,255,255,0.1)",borderColor:"#fff",color:"#fff"},onClick:S?D:j,children:S?"CANCELAR":"VOLVER ATR\xc1S"})]})})}):o===mb?(0,di.jsx)("div",{className:"voting-bg new-match-flow",children:(0,di.jsx)("div",{className:"player-vote-card ".concat(w),children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{padding:"20px",maxWidth:"none",width:"100vw",margin:"0",boxSizing:"border-box"},children:[(0,di.jsx)("div",{className:"match-name",children:"\xbfD\xd3NDE SE JUEGA?"}),(0,di.jsx)("div",{style:{fontSize:18,color:"rgba(255,255,255,0.8)",textAlign:"center",marginBottom:24,fontFamily:"'Oswald', Arial, sans-serif"},children:"Ingres\xe1 la direcci\xf3n o nombre del lugar"}),(0,di.jsx)(ub,{value:h,onSelect:e=>{f(e.description),m(e)}}),(0,di.jsx)("button",{className:"voting-confirm-btn",disabled:!h,style:{opacity:h?1:.4,marginBottom:12},onClick:S?D:A,children:S?"GUARDAR":"CONTINUAR"}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{background:"rgba(255,255,255,0.1)",borderColor:"#fff",color:"#fff"},onClick:S?D:j,children:S?"CANCELAR":"VOLVER ATR\xc1S"})]})})}):o===gb?(0,di.jsx)("div",{className:"voting-bg new-match-flow",children:(0,di.jsx)("div",{className:"player-vote-card ".concat(w),children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{padding:"20px",maxWidth:"none",width:"100vw",margin:"0",boxSizing:"border-box"},children:[(0,di.jsx)("div",{className:"match-name",children:"CONFIRM\xc1 LOS DATOS"}),T&&(0,di.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:20},children:(0,di.jsx)("img",{src:T,alt:"foto partido",style:{width:120,height:120,objectFit:"cover",borderRadius:12,border:"2px solid rgba(255,255,255,0.3)"}})}),(0,di.jsxs)("ul",{className:"confirmation-list",children:[(0,di.jsxs)("li",{className:"confirmation-item",children:[(0,di.jsx)("span",{className:"confirmation-item-name",children:"Nombre:"}),(0,di.jsx)("span",{className:"confirmation-item-score",children:a}),(0,di.jsx)("button",{className:"confirmation-item-edit-btn",onClick:()=>I(fb),children:"EDITAR"})]}),(0,di.jsxs)("li",{className:"confirmation-item",children:[(0,di.jsx)("span",{className:"confirmation-item-name",children:"Fecha:"}),(0,di.jsx)("span",{className:"confirmation-item-score",children:new Date(l).toLocaleDateString()}),(0,di.jsx)("button",{className:"confirmation-item-edit-btn",onClick:()=>I(pb),children:"EDITAR"})]}),(0,di.jsxs)("li",{className:"confirmation-item",children:[(0,di.jsx)("span",{className:"confirmation-item-name",children:"Hora:"}),(0,di.jsx)("span",{className:"confirmation-item-score",children:u}),(0,di.jsx)("button",{className:"confirmation-item-edit-btn",onClick:()=>I(pb),children:"EDITAR"})]}),(0,di.jsxs)("li",{className:"confirmation-item",children:[(0,di.jsx)("span",{className:"confirmation-item-name",children:"Sede:"}),(0,di.jsx)("span",{className:"confirmation-item-score",style:{fontSize:16,textAlign:"right"},children:h.length>30?h.substring(0,30)+"...":h}),(0,di.jsx)("button",{className:"confirmation-item-edit-btn",onClick:()=>I(mb),children:"EDITAR"})]})]}),y&&(0,di.jsx)("div",{style:{color:"#ff5555",padding:"10px",marginBottom:"15px",fontSize:"16px",textAlign:"center",background:"rgba(255,0,0,0.1)",borderRadius:"8px"},children:y}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{marginBottom:12},disabled:g,onClick:N,children:g?"CREANDO...":"CREAR PARTIDO"}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{background:"rgba(255,255,255,0.1)",borderColor:"#fff",color:"#fff",fontSize:"1.2rem",height:"54px"},onClick:j,disabled:g,children:"VOLVER ATR\xc1S"})]})})}):null}function yb(e){let{onEditar:t,onEntrar:n,onVolver:o}=e;const[i,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c()},[]);const c=async()=>{try{console.log("Loading frequent matches...");const e=await(async()=>{console.log("Fetching frequent matches...");try{const{data:e,error:t}=await bd.from("partidos_frecuentes").select("*");console.log("All frequent matches in table:",e),console.log("Count of all records:",(null===e||void 0===e?void 0:e.length)||0),t&&console.error("Error fetching all frequent matches:",t);const{data:n,error:r}=await bd.from("partidos_frecuentes").select("*").eq("habilitado",!0).order("creado_en",{ascending:!1});if(r)throw console.error("Error fetching enabled frequent matches:",r),console.error("Error details:",{code:r.code,message:r.message,details:r.details}),new Error("Error fetching frequent matches: ".concat(r.message));return console.log("Enabled frequent matches fetched:",n),console.log("Count of enabled records:",(null===n||void 0===n?void 0:n.length)||0),n&&n.length>0&&console.log("Sample record structure:",n[0]),n||[]}catch(e){throw console.error("Exception in getPartidosFrecuentes:",e),e}})();console.log("Frequent matches loaded:",e),console.log("Image URLs found:",e.map(e=>({nombre:e.nombre,imagen_url:e.imagen_url}))),a(e)}catch(e){console.error("Error loading frequent matches:",e),z.error("Error al cargar partidos: "+e.message)}finally{l(!1)}},u=async(e,t)=>{if(window.confirm('\xbfEliminar "'.concat(t,'"?')))try{await(async e=>{const{error:t}=await bd.from("partidos_frecuentes").update({habilitado:!1}).eq("id",e);if(t)throw new Error("Error deleting frequent match: ".concat(t.message))})(e),a(t=>t.filter(t=>t.id!==e)),z.success("Partido eliminado correctamente")}catch(n){console.error("Error deleting frequent match:",n),z.error("Error al eliminar el partido: "+n.message)}};return s?(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsx)("div",{className:"voting-modern-card",children:(0,di.jsx)("div",{className:"match-name",children:"CARGANDO..."})})}):(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{padding:42,maxWidth:420,marginTop:40,marginBottom:40},children:[(0,di.jsx)("div",{className:"match-name",style:{marginBottom:24,marginTop:20},children:"PARTIDOS FRECUENTES"}),0===i.length?(0,di.jsx)("div",{style:{color:"#fff",textAlign:"center",padding:"20px 0",fontFamily:"Oswald, Arial, sans-serif"},children:(0,di.jsx)("p",{children:"No hay partidos frecuentes configurados"})}):(0,di.jsx)("div",{style:{width:"100%",marginBottom:22},children:i.map(e=>(0,di.jsxs)("div",{style:{background:"rgba(255,255,255,0.1)",border:"2px solid rgba(255,255,255,0.2)",borderRadius:"8px",padding:"16px",marginBottom:"16px",width:"100%",boxSizing:"border-box"},children:[(0,di.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.imagen_url?(0,di.jsx)("img",{src:e.imagen_url,alt:e.nombre,style:{width:"48px",height:"48px",borderRadius:"8px",objectFit:"cover",border:"2px solid rgba(255,255,255,0.3)"},onError:t=>console.error("Image failed to load:",e.imagen_url)}):(0,di.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"8px",background:"rgba(255,255,255,0.1)",border:"2px solid rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"\u26bd"}),(0,di.jsxs)("div",{style:{flex:1},children:[(0,di.jsx)("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold",marginBottom:"4px",fontFamily:"Bebas Neue, Arial, sans-serif"},children:e.nombre}),(0,di.jsxs)("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px",marginBottom:"2px",fontFamily:"Oswald, Arial, sans-serif"},children:[fe[e.dia_semana]||"D\xeda ".concat(e.dia_semana)," \u2022 ",e.hora]}),(0,di.jsx)("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"13px",fontFamily:"Oswald, Arial, sans-serif"},children:e.sede})]})]}),(0,di.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,di.jsx)("button",{className:"frequent-action-btn edit-btn",onClick:()=>n(e),children:"ENTRAR"}),(0,di.jsx)("button",{className:"frequent-action-btn edit-btn",onClick:()=>t(e),children:"EDITAR"}),(0,di.jsx)("button",{className:"frequent-action-btn delete-btn",onClick:()=>u(e.id,e.nombre),children:"ELIMINAR"})]})]},e.id))}),(0,di.jsx)("button",{className:"voting-confirm-btn wipe-btn",style:{width:"100%",background:"#DE1C49",fontSize:"1.5rem",height:"64px",borderRadius:"9px",marginBottom:"20px"},onClick:o,children:"VOLVER AL INICIO"})]})})}function bb(e){let{partido:t,onGuardado:n,onVolver:o}=e;const[i,a]=(0,r.useState)(t.nombre),[s,l]=(0,r.useState)((new Date).toISOString().split("T")[0]),[c,u]=(0,r.useState)(t.hora),[d,h]=(0,r.useState)(t.sede),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(t.imagen_url);return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",style:{padding:42,maxWidth:420},children:[(0,di.jsx)("div",{className:"match-name",style:{marginBottom:24},children:"EDITAR PARTIDO FRECUENTE"}),(0,di.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:18},children:[(0,di.jsxs)("div",{onClick:()=>document.getElementById("edit-partido-foto-input").click(),style:{cursor:"pointer",width:60,height:60,borderRadius:"8px",background:"rgba(255,255,255,0.12)",border:"2px solid rgba(255,255,255,0.25)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},title:b?"Cambiar foto":"Agregar foto",children:[b?(0,di.jsx)("img",{src:b,alt:"foto partido",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,di.jsx)("span",{style:{color:"#fff",fontSize:"24px",opacity:.5},children:"+"}),(0,di.jsx)("input",{id:"edit-partido-foto-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{e.target.files&&e.target.files[0]&&(y(e.target.files[0]),w(URL.createObjectURL(e.target.files[0])))}})]}),(0,di.jsx)("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",fontFamily:"'Oswald', Arial, sans-serif"},children:"Foto del partido (opcional)"})]}),(0,di.jsxs)("div",{className:"edit-form-container",children:[(0,di.jsx)("input",{className:"input-modern",type:"text",placeholder:"Nombre del partido",value:i,onChange:e=>a(e.target.value)}),(0,di.jsx)("input",{className:"input-modern",type:"date",value:s,onChange:e=>l(e.target.value),title:"Seleccionar fecha"}),(0,di.jsx)("input",{className:"input-modern",type:"time",value:c,onChange:e=>u(e.target.value),title:"Seleccionar hora"}),(0,di.jsx)(ub,{value:d,onSelect:e=>{h(e.description),p(e)}})]}),(0,di.jsx)("button",{className:"voting-confirm-btn",onClick:async()=>{try{g(!0);let e=t.imagen_url;if(v){const t=v.name.split(".").pop(),n="partido_".concat(Date.now(),".").concat(t),{error:r}=await bd.storage.from("jugadores-fotos").upload(n,v,{upsert:!0});if(r)throw r;const{data:o}=bd.storage.from("jugadores-fotos").getPublicUrl(n);e=null===o||void 0===o?void 0:o.publicUrl}await Pd(t.id,{nombre:i,hora:c,sede:d,dia_semana:new Date(s).getDay(),imagen_url:e}),z.success("Cambios guardados"),n&&n()}catch(e){z.error("Error al guardar cambios")}finally{g(!1)}},disabled:m,style:{width:"100%",marginBottom:12,fontSize:"1.5rem",height:"64px",borderRadius:"9px"},children:m?"GUARDANDO...":"GUARDAR CAMBIOS"}),(0,di.jsx)("button",{className:"voting-confirm-btn wipe-btn",onClick:o,style:{background:"#DE1C49",width:"100%",fontSize:"1.5rem",height:"64px",borderRadius:"9px",marginBottom:"0"},children:"VOLVER AL INICIO"})]})})}const wb=e=>{let{onNuevo:t,onExistente:n,onVolver:r}=e;return(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",style:{marginBottom:24},children:"\xbfQU\xc9 QUER\xc9S HACER?"}),(0,di.jsx)("button",{className:"voting-confirm-btn wipe-btn",style:{marginBottom:12},onClick:t,children:"PARTIDO NUEVO"}),(0,di.jsx)("button",{className:"voting-confirm-btn wipe-btn",style:{marginBottom:16},onClick:n,children:"PARTIDO FRECUENTE"}),(0,di.jsx)("button",{className:"voting-confirm-btn",style:{background:"#DE1C49",marginTop:64,marginBottom:16},onClick:r,children:"VOLVER AL INICIO"})]})})};function xb(){const[e,t]=(0,r.useState)(Q),[n,o]=(0,r.useState)(void 0),[i,a]=(0,r.useState)(se),[s,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("codigo");e&&(console.log("Loading match from URL code:",e),t(ne),(async e=>{if(!e)throw new Error("Match code is required");const{data:t,error:n}=await bd.from("partidos").select("*").eq("codigo",e).single();if(n)throw new Error("Error fetching match: ".concat(n.message));return t})(e).then(e=>{console.log("Match loaded successfully:",e),o(e)}).catch(e=>{console.error("Error loading match from code:",e),o(null)}))},[]);const u=async e=>{if(n&&(await Cd(n.id,e),o(c(c({},n),{},{jugadores:e})),n.from_frequent_match_id))try{await(async(e,t)=>(console.log("Updating frequent match players:",{partidoFrecuenteId:e,count:t.length}),Pd(e,{jugadores_frecuentes:t})))(n.from_frequent_match_id,e)}catch(t){z.error("Error actualizando partido frecuente")}};if(e===Z){if(i===se)return(0,di.jsx)(wb,{onNuevo:()=>a(le),onExistente:()=>a(ce),onVolver:()=>t(Q)});if(i===le)return(0,di.jsx)(vb,{onConfirmar:async e=>(o(e),a(de),e),onVolver:()=>a(se)});if(i===ce)return(0,di.jsx)(yb,{onEntrar:async e=>{try{const t=(new Date).toISOString().split("T")[0],n=await Ad(e,t);n.from_frequent_match_id=e.id,o(n),a(de)}catch(t){z.error("Error al crear el partido")}},onEditar:e=>{l(e),a(ue)},onVolver:()=>a(se)});if(i===ue&&s)return(0,di.jsx)(bb,{partido:s,onGuardado:()=>{l(null),a(ce)},onVolver:()=>{l(null),a(ce)}});if(i===de&&n)return(0,di.jsxs)("div",{className:"voting-bg",children:[(0,di.jsx)("div",{className:"voting-modern-card",style:{maxWidth:650},children:(0,di.jsx)(ab,{partidoActual:n,jugadores:(null===n||void 0===n?void 0:n.jugadores)||[],onJugadoresChange:u,onBackToHome:()=>{t(Q),o(null),l(null),a(se)}})}),(0,di.jsx)(X,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]});if(i===de&&!n)return a(se),null}return e===Q?(0,di.jsx)(Od,{children:(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsx)("div",{className:"voting-modern-card",style:{maxWidth:440,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,di.jsx)(Qd,{onModoSeleccionado:e=>{t(e),e===Z&&a(se)}})})})}):e===ee?(0,di.jsx)(Od,{children:(0,di.jsx)(Oh,{onBack:()=>t(Q)})}):e===te?(t(Z),null):e===ne?(0,di.jsxs)("div",{children:[(0,di.jsx)(Jd,{}),(0,di.jsx)(Bh,{jugadores:n?n.jugadores:[],partidoActual:n,onReset:()=>{t(Q),o(null),l(null),a(se)}}),(0,di.jsx)(X,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):(0,di.jsx)(Dl,{children:(0,di.jsx)(Od,{children:(0,di.jsx)("div",{className:"voting-bg",children:(0,di.jsxs)("div",{className:"voting-modern-card",children:[(0,di.jsx)("div",{className:"match-name",children:"MODO NO DISPONIBLE"}),(0,di.jsx)("div",{style:{color:"#fff",padding:"20px",fontSize:"18px",textAlign:"center"},children:"El modo seleccionado no est\xe1 disponible o ha ocurrido un error."}),(0,di.jsx)(jl,{onClick:()=>t(Q),style:{marginTop:"34px",marginBottom:"0",width:"100%",maxWidth:"400px",fontSize:"1.5rem",height:"64px",borderRadius:"9px"},ariaLabel:"Volver al inicio",children:"VOLVER AL INICIO"}),(0,di.jsx)(X,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})})})}const Sb=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)})};o.createRoot(document.getElementById("root")).render((0,di.jsx)(r.StrictMode,{children:(0,di.jsx)(xb,{})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})}),Sb()})();
//# sourceMappingURL=main.71e8e306.js.map